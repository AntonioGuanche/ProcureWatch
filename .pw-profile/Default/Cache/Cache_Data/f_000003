var uu=Object.defineProperty;var ss=n=>{throw TypeError(n)};var cu=(n,e,t)=>e in n?uu(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var y=(n,e,t)=>cu(n,typeof e!="symbol"?e+"":e,t),Di=(n,e,t)=>e.has(n)||ss("Cannot "+t);var f=(n,e,t)=>(Di(n,e,"read from private field"),t?t.call(n):e.get(n)),x=(n,e,t)=>e.has(n)?ss("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),U=(n,e,t,i)=>(Di(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),C=(n,e,t)=>(Di(n,e,"access private method"),t);var Yt=(n,e,t,i)=>({set _(r){U(n,e,r,t)},get _(){return f(n,e,i)}});import{o as Xe,a as qo,w as ce,d as pe,r as H,h as ge,b as du,m as pu,p as hu,i as fu,s as a0,c as l0}from"./vue-runtime-B735iuNW.js";var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function u0(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}function mu(n,e,t){const i=[];return n.forEach(r=>typeof r!="string"?i.push(r):e[Symbol.split](r).forEach((s,o,a)=>{s!==""&&i.push(s),o<a.length-1&&i.push(t)})),i}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function os(n,e){const t=/\$/g,i="$$$$";let r=[n];if(e==null)return r;for(const s of Object.keys(e))if(s!=="_"){let o=e[s];typeof o=="string"&&(o=t[Symbol.replace](o,i)),r=mu(r,new RegExp(`%\\{${s}\\}`,"g"),o)}return r}const gu=n=>{throw new Error(`missing string: ${n}`)};var kn,Tn,Ji;class Vo{constructor(e,{onMissingKey:t=gu}={}){x(this,Tn);y(this,"locale");x(this,kn);this.locale={strings:{},pluralize(i){return i===1?0:1}},Array.isArray(e)?e.forEach(C(this,Tn,Ji),this):C(this,Tn,Ji).call(this,e),U(this,kn,t)}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){let i=this.locale.strings[e];if(i==null&&(f(this,kn).call(this,e),i=e),typeof i=="object"){if(t&&typeof t.smart_count<"u"){const s=this.locale.pluralize(t.smart_count);return os(i[s],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof i!="string")throw new Error("string was not a string");return os(i,t)}}kn=new WeakMap,Tn=new WeakSet,Ji=function(e){if(!(e!=null&&e.strings))return;const t=this.locale;Object.assign(this.locale,{strings:{...t.strings,...e.strings},pluralize:e.pluralize||t.pluralize})};class Wo{constructor(e,t){y(this,"uppy");y(this,"opts");y(this,"id");y(this,"defaultLocale");y(this,"i18n");y(this,"i18nArray");y(this,"type");y(this,"VERSION");this.uppy=e,this.opts=t??{}}getPluginState(){const{plugins:e}=this.uppy.getState();return(e==null?void 0:e[this.id])||{}}setPluginState(e){const{plugins:t}=this.uppy.getState();this.uppy.setState({plugins:{...t,[this.id]:{...t[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const e=new Vo([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState(void 0)}addTarget(e){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(e){}afterUpdate(){}}function Ii(n){return n<10?`0${n}`:n.toString()}function ei(){const n=new Date,e=Ii(n.getHours()),t=Ii(n.getMinutes()),i=Ii(n.getSeconds());return`${e}:${t}:${i}`}const yu={debug:()=>{},warn:()=>{},error:(...n)=>console.error(`[Uppy] [${ei()}]`,...n)},vu={debug:(...n)=>console.debug(`[Uppy] [${ei()}]`,...n),warn:(...n)=>console.warn(`[Uppy] [${ei()}]`,...n),error:(...n)=>console.error(`[Uppy] [${ei()}]`,...n)};function Go(n){return typeof n!="object"||n===null||!("nodeType"in n)?!1:n.nodeType===Node.ELEMENT_NODE}function bu(n,e=document){return typeof n=="string"?e.querySelector(n):Go(n)?n:null}function Ko(n){for(;n&&!n.dir;)n=n.parentNode;return n==null?void 0:n.dir}var Bn,B,Xo,wu,Je,as,Yo,Qo,Zo,Br,er,tr,_u,pn={},Jo=[],Su=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Mn=Array.isArray;function xe(n,e){for(var t in e)n[t]=e[t];return n}function Mr(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Fe(n,e,t){var i,r,s,o={};for(s in e)s=="key"?i=e[s]:s=="ref"?r=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Bn.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)o[s]===void 0&&(o[s]=n.defaultProps[s]);return cn(n,o,i,r,null)}function cn(n,e,t,i,r){var s={type:n,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++Xo,__i:-1,__u:0};return r==null&&B.vnode!=null&&B.vnode(s),s}function Fu(){return{current:null}}function ne(n){return n.children}function ue(n,e){this.props=n,this.context=e}function qt(n,e){if(e==null)return n.__?qt(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?qt(n):null}function ea(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return ea(n)}}function ls(n){(!n.__d&&(n.__d=!0)&&Je.push(n)&&!ci.__r++||as!=B.debounceRendering)&&((as=B.debounceRendering)||Yo)(ci)}function ci(){for(var n,e,t,i,r,s,o,a=1;Je.length;)Je.length>a&&Je.sort(Qo),n=Je.shift(),a=Je.length,n.__d&&(t=void 0,i=void 0,r=(i=(e=n).__v).__e,s=[],o=[],e.__P&&((t=xe({},i)).__v=i.__v+1,B.vnode&&B.vnode(t),zr(e.__P,t,i,e.__n,e.__P.namespaceURI,32&i.__u?[r]:null,s,r??qt(i),!!(32&i.__u),o),t.__v=i.__v,t.__.__k[t.__i]=t,ia(s,t,o),i.__e=i.__=null,t.__e!=r&&ea(t)));ci.__r=0}function ta(n,e,t,i,r,s,o,a,u,c,p){var d,g,v,_,A,w,F,T=i&&i.__k||Jo,E=e.length;for(u=Pu(t,e,T,u,E),d=0;d<E;d++)(v=t.__k[d])!=null&&(g=v.__i==-1?pn:T[v.__i]||pn,v.__i=d,w=zr(n,v,g,r,s,o,a,u,c,p),_=v.__e,v.ref&&g.ref!=v.ref&&(g.ref&&Lr(g.ref,null,v),p.push(v.ref,v.__c||_,v)),A==null&&_!=null&&(A=_),(F=!!(4&v.__u))||g.__k===v.__k?u=na(v,u,n,F):typeof v.type=="function"&&w!==void 0?u=w:_&&(u=_.nextSibling),v.__u&=-7);return t.__e=A,u}function Pu(n,e,t,i,r){var s,o,a,u,c,p=t.length,d=p,g=0;for(n.__k=new Array(r),s=0;s<r;s++)(o=e[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=n.__k[s]=cn(null,o,null,null,null):Mn(o)?o=n.__k[s]=cn(ne,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?o=n.__k[s]=cn(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):n.__k[s]=o,u=s+g,o.__=n,o.__b=n.__b+1,a=null,(c=o.__i=ku(o,t,u,d))!=-1&&(d--,(a=t[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(r>p?g--:r<p&&g++),typeof o.type!="function"&&(o.__u|=4)):c!=u&&(c==u-1?g--:c==u+1?g++:(c>u?g--:g++,o.__u|=4))):n.__k[s]=null;if(d)for(s=0;s<p;s++)(a=t[s])!=null&&!(2&a.__u)&&(a.__e==i&&(i=qt(a)),sa(a,a));return i}function na(n,e,t,i){var r,s;if(typeof n.type=="function"){for(r=n.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=n,e=na(r[s],e,t,i));return e}n.__e!=e&&(i&&(e&&n.type&&!e.parentNode&&(e=qt(n)),t.insertBefore(n.__e,e||null)),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function _e(n,e){return e=e||[],n==null||typeof n=="boolean"||(Mn(n)?n.some(function(t){_e(t,e)}):e.push(n)),e}function ku(n,e,t,i){var r,s,o,a=n.key,u=n.type,c=e[t],p=c!=null&&(2&c.__u)==0;if(c===null&&a==null||p&&a==c.key&&u==c.type)return t;if(i>(p?1:0)){for(r=t-1,s=t+1;r>=0||s<e.length;)if((c=e[o=r>=0?r--:s++])!=null&&!(2&c.__u)&&a==c.key&&u==c.type)return o}return-1}function us(n,e,t){e[0]=="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||Su.test(e)?t:t+"px"}function Vn(n,e,t,i,r){var s,o;e:if(e=="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(e in i)t&&e in t||us(n.style,e,"");if(t)for(e in t)i&&t[e]==i[e]||us(n.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(Zo,"$1")),o=e.toLowerCase(),e=o in n||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=t,t?i?t.u=i.u:(t.u=Br,n.addEventListener(e,s?tr:er,s)):n.removeEventListener(e,s?tr:er,s);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function cs(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=Br++;else if(e.t<t.u)return;return t(B.event?B.event(e):e)}}}function zr(n,e,t,i,r,s,o,a,u,c){var p,d,g,v,_,A,w,F,T,E,R,M,D,I,q,V,ae,W=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(u=!!(32&t.__u),s=[a=e.__e=t.__e]),(p=B.__b)&&p(e);e:if(typeof W=="function")try{if(F=e.props,T="prototype"in W&&W.prototype.render,E=(p=W.contextType)&&i[p.__c],R=p?E?E.props.value:p.__:i,t.__c?w=(d=e.__c=t.__c).__=d.__E:(T?e.__c=d=new W(F,R):(e.__c=d=new ue(F,R),d.constructor=W,d.render=Cu),E&&E.sub(d),d.state||(d.state={}),d.__n=i,g=d.__d=!0,d.__h=[],d._sb=[]),T&&d.__s==null&&(d.__s=d.state),T&&W.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=xe({},d.__s)),xe(d.__s,W.getDerivedStateFromProps(F,d.__s))),v=d.props,_=d.state,d.__v=e,g)T&&W.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),T&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(T&&W.getDerivedStateFromProps==null&&F!==v&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(F,R),e.__v==t.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(F,d.__s,R)===!1){for(e.__v!=t.__v&&(d.props=F,d.state=d.__s,d.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(le){le&&(le.__=e)}),M=0;M<d._sb.length;M++)d.__h.push(d._sb[M]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(F,d.__s,R),T&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(v,_,A)})}if(d.context=R,d.props=F,d.__P=n,d.__e=!1,D=B.__r,I=0,T){for(d.state=d.__s,d.__d=!1,D&&D(e),p=d.render(d.props,d.state,d.context),q=0;q<d._sb.length;q++)d.__h.push(d._sb[q]);d._sb=[]}else do d.__d=!1,D&&D(e),p=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++I<25);d.state=d.__s,d.getChildContext!=null&&(i=xe(xe({},i),d.getChildContext())),T&&!g&&d.getSnapshotBeforeUpdate!=null&&(A=d.getSnapshotBeforeUpdate(v,_)),V=p,p!=null&&p.type===ne&&p.key==null&&(V=ra(p.props.children)),a=ta(n,Mn(V)?V:[V],e,t,i,r,s,o,a,u,c),d.base=e.__e,e.__u&=-161,d.__h.length&&o.push(d),w&&(d.__E=d.__=null)}catch(le){if(e.__v=null,u||s!=null)if(le.then){for(e.__u|=u?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else{for(ae=s.length;ae--;)Mr(s[ae]);nr(e)}else e.__e=t.__e,e.__k=t.__k,le.then||nr(e);B.__e(le,e,t)}else s==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):a=e.__e=Tu(t.__e,e,t,i,r,s,o,u,c);return(p=B.diffed)&&p(e),128&e.__u?void 0:a}function nr(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(nr)}function ia(n,e,t){for(var i=0;i<t.length;i++)Lr(t[i],t[++i],t[++i]);B.__c&&B.__c(e,n),n.some(function(r){try{n=r.__h,r.__h=[],n.some(function(s){s.call(r)})}catch(s){B.__e(s,r.__v)}})}function ra(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:Mn(n)?n.map(ra):xe({},n)}function Tu(n,e,t,i,r,s,o,a,u){var c,p,d,g,v,_,A,w=t.props||pn,F=e.props,T=e.type;if(T=="svg"?r="http://www.w3.org/2000/svg":T=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),s!=null){for(c=0;c<s.length;c++)if((v=s[c])&&"setAttribute"in v==!!T&&(T?v.localName==T:v.nodeType==3)){n=v,s[c]=null;break}}if(n==null){if(T==null)return document.createTextNode(F);n=document.createElementNS(r,T,F.is&&F),a&&(B.__m&&B.__m(e,s),a=!1),s=null}if(T==null)w===F||a&&n.data==F||(n.data=F);else{if(s=s&&Bn.call(n.childNodes),!a&&s!=null)for(w={},c=0;c<n.attributes.length;c++)w[(v=n.attributes[c]).name]=v.value;for(c in w)if(v=w[c],c!="children"){if(c=="dangerouslySetInnerHTML")d=v;else if(!(c in F)){if(c=="value"&&"defaultValue"in F||c=="checked"&&"defaultChecked"in F)continue;Vn(n,c,null,v,r)}}for(c in F)v=F[c],c=="children"?g=v:c=="dangerouslySetInnerHTML"?p=v:c=="value"?_=v:c=="checked"?A=v:a&&typeof v!="function"||w[c]===v||Vn(n,c,v,w[c],r);if(p)a||d&&(p.__html==d.__html||p.__html==n.innerHTML)||(n.innerHTML=p.__html),e.__k=[];else if(d&&(n.innerHTML=""),ta(e.type=="template"?n.content:n,Mn(g)?g:[g],e,t,i,T=="foreignObject"?"http://www.w3.org/1999/xhtml":r,s,o,s?s[0]:t.__k&&qt(t,0),a,u),s!=null)for(c=s.length;c--;)Mr(s[c]);a||(c="value",T=="progress"&&_==null?n.removeAttribute("value"):_!=null&&(_!==n[c]||T=="progress"&&!_||T=="option"&&_!=w[c])&&Vn(n,c,_,w[c],r),c="checked",A!=null&&A!=n[c]&&Vn(n,c,A,w[c],r))}return n}function Lr(n,e,t){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&e==null||(n.__u=n(e))}else n.current=e}catch(r){B.__e(r,t)}}function sa(n,e,t){var i,r;if(B.unmount&&B.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||Lr(i,null,e)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){B.__e(s,e)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&sa(i[r],e,t||typeof n.type!="function");t||Mr(n.__e),n.__c=n.__=n.__e=void 0}function Cu(n,e,t){return this.constructor(n,t)}function Au(n,e,t){var i,r,s,o;e==document&&(e=document.documentElement),B.__&&B.__(n,e),r=(i=typeof t=="function")?null:t&&t.__k||e.__k,s=[],o=[],zr(e,n=(!i&&t||e).__k=Fe(ne,null,[n]),r||pn,pn,e.namespaceURI,!i&&t?[t]:r?null:e.firstChild?Bn.call(e.childNodes):null,s,!i&&t?t:r?r.__e:e.firstChild,i,o),ia(s,n,o)}function oa(n,e,t){var i,r,s,o,a=xe({},n.props);for(s in n.type&&n.type.defaultProps&&(o=n.type.defaultProps),e)s=="key"?i=e[s]:s=="ref"?r=e[s]:a[s]=e[s]===void 0&&o!=null?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Bn.call(arguments,2):t),cn(n.type,a,i||n.key,r||n.ref,null)}Bn=Jo.slice,B={__e:function(n,e,t,i){for(var r,s,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((s=r.constructor)&&s.getDerivedStateFromError!=null&&(r.setState(s.getDerivedStateFromError(n)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(n,i||{}),o=r.__d),o)return r.__E=r}catch(a){n=a}throw n}},Xo=0,wu=function(n){return n!=null&&n.constructor===void 0},ue.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=xe({},this.state),typeof n=="function"&&(n=n(xe({},t),this.props)),n&&xe(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),ls(this))},ue.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),ls(this))},ue.prototype.render=ne,Je=[],Yo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qo=function(n,e){return n.__v.__b-e.__v.__b},ci.__r=0,Zo=/(PointerCapture)$|Capture$/i,Br=0,er=cs(!1),tr=cs(!0),_u=0;var hn,G,Ri,ds,fn=0,aa=[],X=B,ps=X.__b,hs=X.__r,fs=X.diffed,ms=X.__c,gs=X.unmount,ys=X.__;function $r(n,e){X.__h&&X.__h(G,n,fn||e),fn=0;var t=G.__H||(G.__H={__:[],__h:[]});return n>=t.__.length&&t.__.push({}),t.__[n]}function We(n){return fn=1,Eu(ua,n)}function Eu(n,e,t){var i=$r(hn++,2);if(i.t=n,!i.__c&&(i.__=[t?t(e):ua(void 0,e),function(a){var u=i.__N?i.__N[0]:i.__[0],c=i.t(u,a);u!==c&&(i.__N=[c,i.__[1]],i.__c.setState({}))}],i.__c=G,!G.__f)){var r=function(a,u,c){if(!i.__c.__H)return!0;var p=i.__c.__H.__.filter(function(g){return!!g.__c});if(p.every(function(g){return!g.__N}))return!s||s.call(this,a,u,c);var d=i.__c.props!==a;return p.forEach(function(g){if(g.__N){var v=g.__[0];g.__=g.__N,g.__N=void 0,v!==g.__[0]&&(d=!0)}}),s&&s.call(this,a,u,c)||d};G.__f=!0;var s=G.shouldComponentUpdate,o=G.componentWillUpdate;G.componentWillUpdate=function(a,u,c){if(this.__e){var p=s;s=void 0,r(a,u,c),s=p}o&&o.call(this,a,u,c)},G.shouldComponentUpdate=r}return i.__N||i.__}function Ge(n,e){var t=$r(hn++,3);!X.__s&&la(t.__H,e)&&(t.__=n,t.u=e,G.__H.__h.push(t))}function ti(n){return fn=5,ht(function(){return{current:n}},[])}function ht(n,e){var t=$r(hn++,7);return la(t.__H,e)&&(t.__=n(),t.__H=e,t.__h=n),t.__}function jr(n,e){return fn=8,ht(function(){return n},e)}function xu(){for(var n;n=aa.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(ni),n.__H.__h.forEach(ir),n.__H.__h=[]}catch(e){n.__H.__h=[],X.__e(e,n.__v)}}X.__b=function(n){G=null,ps&&ps(n)},X.__=function(n,e){n&&e.__k&&e.__k.__m&&(n.__m=e.__k.__m),ys&&ys(n,e)},X.__r=function(n){hs&&hs(n),hn=0;var e=(G=n.__c).__H;e&&(Ri===G?(e.__h=[],G.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(ni),e.__h.forEach(ir),e.__h=[],hn=0)),Ri=G},X.diffed=function(n){fs&&fs(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(aa.push(e)!==1&&ds===X.requestAnimationFrame||((ds=X.requestAnimationFrame)||Uu)(xu)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),Ri=G=null},X.__c=function(n,e){e.some(function(t){try{t.__h.forEach(ni),t.__h=t.__h.filter(function(i){return!i.__||ir(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],X.__e(i,t.__v)}}),ms&&ms(n,e)},X.unmount=function(n){gs&&gs(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{ni(i)}catch(r){e=r}}),t.__H=void 0,e&&X.__e(e,t.__v))};var vs=typeof requestAnimationFrame=="function";function Uu(n){var e,t=function(){clearTimeout(i),vs&&cancelAnimationFrame(e),setTimeout(n)},i=setTimeout(t,35);vs&&(e=requestAnimationFrame(t))}function ni(n){var e=G,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),G=e}function ir(n){var e=G;n.__c=n.__(),G=e}function la(n,e){return!n||n.length!==e.length||e.some(function(t,i){return t!==n[i]})}function ua(n,e){return typeof e=="function"?e(n):e}function Ou(n,e){for(var t in e)n[t]=e[t];return n}function bs(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&n[i]!==e[i])return!0;return!1}function ws(n,e){this.props=n,this.context=e}(ws.prototype=new ue).isPureReactComponent=!0,ws.prototype.shouldComponentUpdate=function(n,e){return bs(this.props,n)||bs(this.state,e)};var _s=B.__b;B.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),_s&&_s(n)};var c0=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var Du=B.__e;B.__e=function(n,e,t,i){if(n.then){for(var r,s=e;s=s.__;)if((r=s.__c)&&r.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),r.__c(n,e)}Du(n,e,t,i)};var Ss=B.unmount;function ca(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),n.__c.__H=null),(n=Ou({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c.__e=!0,n.__c=null),n.__k=n.__k&&n.__k.map(function(i){return ca(i,e,t)})),n}function da(n,e,t){return n&&t&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(i){return da(i,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=t)),n}function Ni(){this.__u=0,this.o=null,this.__b=null}function pa(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Wn(){this.i=null,this.l=null}B.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&32&n.__u&&(n.type=null),Ss&&Ss(n)},(Ni.prototype=new ue).__c=function(n,e){var t=e.__c,i=this;i.o==null&&(i.o=[]),i.o.push(t);var r=pa(i.__v),s=!1,o=function(){s||(s=!0,t.__R=null,r?r(a):a())};t.__R=o;var a=function(){if(!--i.__u){if(i.state.__a){var u=i.state.__a;i.__v.__k[0]=da(u,u.__c.__P,u.__c.__O)}var c;for(i.setState({__a:i.__b=null});c=i.o.pop();)c.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),n.then(o,o)},Ni.prototype.componentWillUnmount=function(){this.o=[]},Ni.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=ca(this.__b,t,i.__O=i.__P)}this.__b=null}var r=e.__a&&Fe(ne,null,n.fallback);return r&&(r.__u&=-33),[Fe(ne,null,e.__a?null:n.children),r]};var Fs=function(n,e,t){if(++t[1]===t[0]&&n.l.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.l.size))for(t=n.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.i=t=t[2]}};(Wn.prototype=new ue).__a=function(n){var e=this,t=pa(e.__v),i=e.l.get(n);return i[0]++,function(r){var s=function(){e.props.revealOrder?(i.push(r),Fs(e,n,i)):r()};t?t(s):s()}},Wn.prototype.render=function(n){this.i=null,this.l=new Map;var e=_e(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return n.children},Wn.prototype.componentDidUpdate=Wn.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(e,t){Fs(n,t,e)})};var Iu=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ru=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Nu=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Bu=/[A-Z0-9]/g,Mu=typeof document<"u",zu=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};function Ke(n,e,t){return e.__k==null&&(e.textContent=""),Au(n,e),typeof t=="function"&&t(),n?n.__c:null}ue.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(ue.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var Ps=B.event;function Lu(){}function $u(){return this.cancelBubble}function ju(){return this.defaultPrevented}B.event=function(n){return Ps&&(n=Ps(n)),n.persist=Lu,n.isPropagationStopped=$u,n.isDefaultPrevented=ju,n.nativeEvent=n};var ha,Hu={enumerable:!1,configurable:!0,get:function(){return this.class}},ks=B.vnode;B.vnode=function(n){typeof n.type=="string"&&function(e){var t=e.props,i=e.type,r={},s=i.indexOf("-")===-1;for(var o in t){var a=t[o];if(!(o==="value"&&"defaultValue"in t&&a==null||Mu&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var u=o.toLowerCase();o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&a===!0?a="":u==="translate"&&a==="no"?a=!1:u[0]==="o"&&u[1]==="n"?u==="ondoubleclick"?o="ondblclick":u!=="onchange"||i!=="input"&&i!=="textarea"||zu(t.type)?u==="onfocus"?o="onfocusin":u==="onblur"?o="onfocusout":Nu.test(o)&&(o=u):u=o="oninput":s&&Ru.test(o)?o=o.replace(Bu,"-$&").toLowerCase():a===null&&(a=void 0),u==="oninput"&&r[o=u]&&(o="oninputCapture"),r[o]=a}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=_e(t.children).forEach(function(c){c.props.selected=r.value.indexOf(c.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=_e(t.children).forEach(function(c){c.props.selected=r.multiple?r.defaultValue.indexOf(c.props.value)!=-1:r.defaultValue==c.props.value})),t.class&&!t.className?(r.class=t.class,Object.defineProperty(r,"className",Hu)):(t.className&&!t.class||t.class&&t.className)&&(r.class=r.className=t.className),e.props=r}(n),n.$$typeof=Iu,ks&&ks(n)};var Ts=B.__r;B.__r=function(n){Ts&&Ts(n),ha=n.__c};var Cs=B.diffed;B.diffed=function(n){Cs&&Cs(n);var e=n.props,t=n.__e;t!=null&&n.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value),ha=null};function qu(n){let e=null,t;return(...i)=>(t=i,e||(e=Promise.resolve().then(()=>(e=null,n(...t)))),e)}var Cn;const mi=class mi extends Wo{constructor(){super(...arguments);x(this,Cn);y(this,"isTargetDOMEl");y(this,"el");y(this,"parent");y(this,"title")}getTargetPlugin(t){let i;if(typeof(t==null?void 0:t.addTarget)=="function")i=t,i instanceof mi||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:i,UIPlugin:mi}}));else if(typeof t=="function"){const r=t;this.uppy.iteratePlugins(s=>{s instanceof r&&(i=s)})}return i}mount(t,i){const r=i.id,s=bu(t);if(s){this.isTargetDOMEl=!0;const u=document.createElement("div");return u.classList.add("uppy-Root"),U(this,Cn,qu(c=>{this.uppy.getPlugin(this.id)&&(Ke(this.render(c,u),u),this.afterUpdate())})),this.uppy.log(`Installing ${r} to a DOM element '${t}'`),this.opts.replaceTargetContent&&(s.innerHTML=""),Ke(this.render(this.uppy.getState(),u),u),this.el=u,s.appendChild(u),u.dir=this.opts.direction||Ko(u)||"ltr",this.onMount(),this.el}const o=this.getTargetPlugin(t);if(o)return this.uppy.log(`Installing ${r} to ${o.id}`),this.parent=o,this.el=o.addTarget(i),this.onMount(),this.el;this.uppy.log(`Not installing ${r}`);let a=`Invalid target option given to ${r}.`;throw typeof t=="function"?a+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":a+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(a)}render(t,i){throw new Error("Extend the render method to add your plugin to a DOM element")}update(t){var i;this.el!=null&&((i=f(this,Cn))==null||i.call(this,t))}unmount(){var t;this.isTargetDOMEl&&((t=this.el)==null||t.remove()),this.onUnmount()}onMount(){}onUnmount(){}};Cn=new WeakMap;let Me=mi;const Vu="@uppy/store-default",Wu="The default simple object-based store for Uppy.",Gu="4.3.2",Ku="MIT",Xu="lib/index.js",Yu="module",Qu={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Zu=["file uploader","uppy","uppy-store"],Ju="https://uppy.io",ec={url:"https://github.com/transloadit/uppy/issues"},tc={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},nc={type:"git",url:"git+https://github.com/transloadit/uppy.git"},ic=["src","lib","dist","CHANGELOG.md"],rc={name:Vu,description:Wu,version:Gu,license:Ku,main:Xu,type:Yu,scripts:Qu,keywords:Zu,homepage:Ju,bugs:ec,devDependencies:tc,repository:nc,files:ic};var Et,gi,ma;class fa{constructor(){x(this,gi);y(this,"state",{});x(this,Et,new Set)}getState(){return this.state}setState(e){const t={...this.state},i={...this.state,...e};this.state=i,C(this,gi,ma).call(this,t,i,e)}subscribe(e){return f(this,Et).add(e),()=>{f(this,Et).delete(e)}}}Et=new WeakMap,gi=new WeakSet,ma=function(...e){f(this,Et).forEach(t=>{t(...e)})},y(fa,"VERSION",rc.version);function Hr(n){const e=n.lastIndexOf(".");return e===-1||e===n.length-1?{name:n,extension:void 0}:{name:n.slice(0,e),extension:n.slice(e+1)}}const As={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function ga(n){var t;if(n.type)return n.type;const e=n.name?(t=Hr(n.name).extension)==null?void 0:t.toLowerCase():null;return e&&e in As?As[e]:"application/octet-stream"}function sc(n){return n.charCodeAt(0).toString(32)}function Es(n){let e="";return n.replace(/[^A-Z0-9]/gi,t=>(e+=`-${sc(t)}`,"/"))+e}function oc(n,e){let t=e||"uppy";return typeof n.name=="string"&&(t+=`-${Es(n.name.toLowerCase())}`),n.type!==void 0&&(t+=`-${n.type}`),n.meta&&typeof n.meta.relativePath=="string"&&(t+=`-${Es(n.meta.relativePath.toLowerCase())}`),n.data.size!==void 0&&(t+=`-${n.data.size}`),n.data.lastModified!==void 0&&(t+=`-${n.data.lastModified}`),t}function ac(n){return!n.isRemote||!n.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(n.remote.provider)}function ya(n,e){if(ac(n))return n.id;const t=ga(n);return oc({...n,type:t},e)}function lc(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Ti=lc;const d0=ze(Ti);var uc=typeof wt=="object"&&wt&&wt.Object===Object&&wt,cc=uc;var dc=cc,pc=typeof self=="object"&&self&&self.Object===Object&&self,hc=dc||pc||Function("return this")(),va=hc;var fc=va,mc=function(){return fc.Date.now()},gc=mc;var yc=/\s/;function vc(n){for(var e=n.length;e--&&yc.test(n.charAt(e)););return e}var bc=vc;var wc=bc,_c=/^\s+/;function Sc(n){return n&&n.slice(0,wc(n)+1).replace(_c,"")}var Fc=Sc;var Pc=va,kc=Pc.Symbol,ba=kc;var xs=ba,wa=Object.prototype,Tc=wa.hasOwnProperty,Cc=wa.toString,Qt=xs?xs.toStringTag:void 0;function Ac(n){var e=Tc.call(n,Qt),t=n[Qt];try{n[Qt]=void 0;var i=!0}catch{}var r=Cc.call(n);return i&&(e?n[Qt]=t:delete n[Qt]),r}var Ec=Ac;var xc=Object.prototype,Uc=xc.toString;function Oc(n){return Uc.call(n)}var Dc=Oc;var Us=ba,Ic=Ec,Rc=Dc,Nc="[object Null]",Bc="[object Undefined]",Os=Us?Us.toStringTag:void 0;function Mc(n){return n==null?n===void 0?Bc:Nc:Os&&Os in Object(n)?Ic(n):Rc(n)}var zc=Mc;function Lc(n){return n!=null&&typeof n=="object"}var $c=Lc;var jc=zc,Hc=$c,qc="[object Symbol]";function Vc(n){return typeof n=="symbol"||Hc(n)&&jc(n)==qc}var Wc=Vc;var Gc=Fc,Ds=Ti,Kc=Wc,Is=NaN,Xc=/^[-+]0x[0-9a-f]+$/i,Yc=/^0b[01]+$/i,Qc=/^0o[0-7]+$/i,Zc=parseInt;function Jc(n){if(typeof n=="number")return n;if(Kc(n))return Is;if(Ds(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Ds(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Gc(n);var t=Yc.test(n);return t||Qc.test(n)?Zc(n.slice(2),t?2:8):Xc.test(n)?Is:+n}var ed=Jc;var td=Ti,Bi=gc,Rs=ed,nd="Expected a function",id=Math.max,rd=Math.min;function sd(n,e,t){var i,r,s,o,a,u,c=0,p=!1,d=!1,g=!0;if(typeof n!="function")throw new TypeError(nd);e=Rs(e)||0,td(t)&&(p=!!t.leading,d="maxWait"in t,s=d?id(Rs(t.maxWait)||0,e):s,g="trailing"in t?!!t.trailing:g);function v(D){var I=i,q=r;return i=r=void 0,c=D,o=n.apply(q,I),o}function _(D){return c=D,a=setTimeout(F,e),p?v(D):o}function A(D){var I=D-u,q=D-c,V=e-I;return d?rd(V,s-q):V}function w(D){var I=D-u,q=D-c;return u===void 0||I>=e||I<0||d&&q>=s}function F(){var D=Bi();if(w(D))return T(D);a=setTimeout(F,A(D))}function T(D){return a=void 0,g&&i?v(D):(i=r=void 0,o)}function E(){a!==void 0&&clearTimeout(a),c=0,i=u=r=a=void 0}function R(){return a===void 0?o:T(Bi())}function M(){var D=Bi(),I=w(D);if(i=arguments,r=this,u=D,I){if(a===void 0)return _(u);if(d)return clearTimeout(a),a=setTimeout(F,e),v(u)}return a===void 0&&(a=setTimeout(F,e)),o}return M.cancel=E,M.flush=R,M}var _a=sd;const od=ze(_a);var ad=_a,ld=Ti,ud="Expected a function";function cd(n,e,t){var i=!0,r=!0;if(typeof n!="function")throw new TypeError(ud);return ld(t)&&(i="leading"in t?!!t.leading:i,r="trailing"in t?!!t.trailing:r),ad(n,e,{leading:i,maxWait:e,trailing:r})}var dd=cd;const pd=ze(dd);var hd=function(){var e={},t=e._fns={};e.emit=function(o,a,u,c,p,d,g){var v=i(o);v.length&&r(o,v,[a,u,c,p,d,g])},e.on=function(o,a){t[o]||(t[o]=[]),t[o].push(a)},e.once=function(o,a){function u(){a.apply(this,arguments),e.off(o,u)}this.on(o,u)},e.off=function(o,a){var u=[];if(o&&a){var c=this._fns[o],p=0,d=c?c.length:0;for(p;p<d;p++)c[p]!==a&&u.push(c[p])}u.length?this._fns[o]=u:delete this._fns[o]};function i(s){var o=t[s]?t[s]:[],a=s.indexOf(":"),u=a===-1?[s]:[s.substring(0,a),s.substring(a+1)],c=Object.keys(t),p=0,d=c.length;for(p;p<d;p++){var g=c[p];if(g==="*"&&(o=o.concat(t[g])),u.length===2&&u[0]===g){o=o.concat(t[g]);break}}return o}function r(s,o,a){var u=0,c=o.length;for(u;u<c&&o[u];u++)o[u].event=s,o[u].apply(o[u],a)}return e};const fd=ze(hd);let md="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Ci=(n=21)=>{let e="",t=n|0;for(;t--;)e+=md[Math.random()*64|0];return e};const gd="@uppy/core",yd="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",vd="4.5.3",bd="MIT",wd="lib/index.js",_d="dist/style.min.css",Sd="module",Fd=["*.css"],Pd={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},kd=["file uploader","uppy","uppy-plugin"],Td="https://uppy.io",Cd={url:"https://github.com/transloadit/uppy/issues"},Ad={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Ed=["src","lib","dist","CHANGELOG.md"],xd={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^4.3.2","@uppy/utils":"^6.2.2",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},Ud={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Od={name:gd,description:yd,version:vd,license:bd,main:wd,style:_d,type:Sd,sideEffects:Fd,scripts:Pd,keywords:kd,homepage:Td,bugs:Cd,repository:Ad,files:Ed,dependencies:xd,devDependencies:Ud};function Dd(n,e){return e.name?e.name:n.split("/")[0]==="image"?`${n.split("/")[0]}.${n.split("/")[1]}`:"noname"}const Id={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};var Rd=function(e){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected a number, got ${typeof e}`);const t=e<0;let i=Math.abs(e);if(t&&(i=-i),i===0)return"0 B";const r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.min(Math.floor(Math.log(i)/Math.log(1024)),r.length-1),o=Number(i/1024**s),a=r[s];return`${o>=10||o%1===0?Math.round(o):o.toFixed(1)} ${a}`};const tt=ze(Rd);function Sa(n,e){this.text=n=n||"",this.hasWild=~n.indexOf("*"),this.separator=e,this.parts=n.split(e)}Sa.prototype.match=function(n){var e=!0,t=this.parts,i,r=t.length,s;if(typeof n=="string"||n instanceof String)if(!this.hasWild&&this.text!=n)e=!1;else{for(s=(n||"").split(this.separator),i=0;e&&i<r;i++)t[i]!=="*"&&(i<s.length?e=t[i]===s[i]:e=!1);e=e&&s}else if(typeof n.splice=="function")for(e=[],i=n.length;i--;)this.match(n[i])&&(e[e.length]=n[i]);else if(typeof n=="object"){e={};for(var o in n)this.match(o)&&(e[o]=n[o])}return e};var Nd=function(n,e,t){var i=new Sa(n,t||/[\/\.]/);return typeof e<"u"?i.match(e):i};var Bd=Nd,Md=/[\/\+\.]/,zd=function(n,e){function t(i){var r=Bd(i,n,Md);return r&&r.length>=2}return e?t(e.split(";")[0]):t};const Ld=ze(zd),$d={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class we extends Error{constructor(t,i){super(t);y(this,"isUserFacing");y(this,"file");y(this,"isRestriction",!0);this.isUserFacing=(i==null?void 0:i.isUserFacing)??!0,i!=null&&i.file&&(this.file=i.file)}}class jd{constructor(e,t){y(this,"getI18n");y(this,"getOpts");this.getI18n=t,this.getOpts=()=>{var r;const i=e();if(((r=i.restrictions)==null?void 0:r.allowedFileTypes)!=null&&!Array.isArray(i.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return i}}validateAggregateRestrictions(e,t){const{maxTotalFileSize:i,maxNumberOfFiles:r}=this.getOpts().restrictions;if(r&&e.filter(o=>!o.isGhost).length+t.length>r)throw new we(`${this.getI18n()("youCanOnlyUploadX",{smart_count:r})}`);if(i){const s=[...e,...t].reduce((o,a)=>o+(a.size??0),0);if(s>i)throw new we(this.getI18n()("aggregateExceedsSize",{sizeAllowed:tt(i),size:tt(s)}))}}validateSingleFile(e){const{maxFileSize:t,minFileSize:i,allowedFileTypes:r}=this.getOpts().restrictions;if(r&&!r.some(o=>o.includes("/")?e.type?Ld(e.type.replace(/;.*?$/,""),o):!1:o[0]==="."&&e.extension?e.extension.toLowerCase()===o.slice(1).toLowerCase():!1)){const o=r.join(", ");throw new we(this.getI18n()("youCanOnlyUploadFileTypes",{types:o}),{file:e})}if(t&&e.size!=null&&e.size>t)throw new we(this.getI18n()("exceedsSize",{size:tt(t),file:e.name??this.getI18n()("unnamed")}),{file:e});if(i&&e.size!=null&&e.size<i)throw new we(this.getI18n()("inferiorSize",{size:tt(i)}),{file:e})}validate(e,t){t.forEach(i=>{this.validateSingleFile(i)}),this.validateAggregateRestrictions(e,t)}validateMinNumberOfFiles(e){const{minNumberOfFiles:t}=this.getOpts().restrictions;if(t&&Object.keys(e).length<t)throw new we(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:t}))}getMissingRequiredMetaFields(e){const t=new we(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:e.name??this.getI18n()("unnamed")})),{requiredMetaFields:i}=this.getOpts().restrictions,r=[];for(const s of i)(!Object.hasOwn(e.meta,s)||e.meta[s]==="")&&r.push(s);return{missingFields:r,error:t}}}function Hd(n){if(n==null&&typeof navigator<"u"&&(n=navigator.userAgent),!n)return!0;const e=/Edge\/(\d+\.\d+)/.exec(n);if(!e)return!0;const i=e[1].split(".",2),r=parseInt(i[0],10),s=parseInt(i[1],10);return r<15||r===15&&s<15063||r>18||r===18&&s>=18218}const Gn={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var it,ve,be,An,rt,xt,Ut,st,O,Ze,rr,Fa,sr,Pa,or,ar,lr,ur,yi,cr,ot,ka,Ta,Le,En,tn,Ca,ii,nn;let zn=(it=class{constructor(e){x(this,O);x(this,ve,Object.create(null));x(this,be);x(this,An);x(this,rt,fd());x(this,xt,new Set);x(this,Ut,new Set);x(this,st,new Set);y(this,"defaultLocale");y(this,"locale");y(this,"opts");y(this,"store");y(this,"i18n");y(this,"i18nArray");y(this,"scheduledAutoProceed",null);y(this,"wasOffline",!1);x(this,yi,(e,t)=>{const i=e?this.getFile(e.id):void 0;if(e==null||!i){this.log(`Not setting progress for a file that has been removed: ${e==null?void 0:e.id}`);return}if(i.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${e.id}`);return}const r={bytesTotal:t.bytesTotal,percentage:t.bytesTotal!=null&&Number.isFinite(t.bytesTotal)&&t.bytesTotal>0?Math.round(t.bytesUploaded/t.bytesTotal*100):void 0};i.progress.uploadStarted!=null?this.setFileState(e.id,{progress:{...i.progress,...r,bytesUploaded:t.bytesUploaded}}):this.setFileState(e.id,{progress:{...i.progress,...r}}),f(this,ot).call(this)});x(this,ot,pd(()=>C(this,O,cr).call(this),500,{leading:!0,trailing:!0}));x(this,Le,this.updateOnlineStatus.bind(this));x(this,En,new Map);this.defaultLocale=Id;const t={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:$d,meta:{},onBeforeFileAdded:(r,s)=>!Object.hasOwn(s,r.id),onBeforeUpload:r=>r,store:new fa,logger:yu,infoTimeout:5e3},i={...t,...e};this.opts={...i,restrictions:{...t.restrictions,...e==null?void 0:e.restrictions}},e!=null&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e!=null&&e.debug&&(this.opts.logger=vu),this.log(`Using Core v${it.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...Gn,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Hd(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),U(this,be,new jd(()=>this.opts,()=>this.i18n)),U(this,An,this.store.subscribe((r,s,o)=>{this.emit("state-update",r,s,o),this.updateAll(s)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),C(this,O,Ta).call(this)}emit(e,...t){f(this,rt).emit(e,...t)}on(e,t){return f(this,rt).on(e,t),this}once(e,t){return f(this,rt).once(e,t),this}off(e,t){return f(this,rt).off(e,t),this}updateAll(e){this.iteratePlugins(t=>{t.update(e)})}setState(e){this.store.setState(e)}getState(){return this.store.getState()}patchFilesState(e){const t=this.getState().files;this.setState({files:{...t,...Object.fromEntries(Object.entries(e).map(([i,r])=>[i,{...t[i],...r}]))}})}setFileState(e,t){if(!this.getState().files[e])throw new Error(`Canâ€™t set state for ${e} (the file could have been removed)`);this.patchFilesState({[e]:t})}i18nInit(){const e=i=>this.log(`Missing i18n string: ${i}`,"error"),t=new Vo([this.defaultLocale,this.opts.locale],{onMissingKey:e});this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.locale=t.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e==null?void 0:e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins(t=>{t.setOptions(e)}),this.setState(void 0)}resetProgress(){const e={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},t={...this.getState().files},i=Object.create(null);Object.keys(t).forEach(r=>{i[r]={...t[r],progress:{...t[r].progress,...e},tus:void 0,transloadit:void 0}}),this.setState({files:i,...Gn})}clear(){const{capabilities:e,currentUploads:t}=this.getState();if(Object.keys(t).length>0&&!e.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...Gn,files:{}})}addPreProcessor(e){f(this,xt).add(e)}removePreProcessor(e){return f(this,xt).delete(e)}addPostProcessor(e){f(this,st).add(e)}removePostProcessor(e){return f(this,st).delete(e)}addUploader(e){f(this,Ut).add(e)}removeUploader(e){return f(this,Ut).delete(e)}setMeta(e){const t={...this.getState().meta,...e},i={...this.getState().files};Object.keys(i).forEach(r=>{i[r]={...i[r],meta:{...i[r].meta,...e}}}),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:i})}setFileMeta(e,t){const i={...this.getState().files};if(!i[e]){this.log(`Was trying to set metadata for a file that has been removed: ${e}`);return}const r={...i[e].meta,...t};i[e]={...i[e],meta:r},this.setState({files:i})}getFile(e){return this.getState().files[e]}getFiles(){const{files:e}=this.getState();return Object.values(e)}getFilesByIds(e){return e.map(t=>this.getFile(t))}getObjectOfFilesPerState(){const{files:e,totalProgress:t,error:i}=this.getState(),r=Object.values(e),s=[],o=[],a=[],u=[],c=[],p=[],d=[],g=[],v=[];for(const _ of r){const{progress:A}=_;!A.uploadComplete&&A.uploadStarted&&(s.push(_),_.isPaused||g.push(_)),A.uploadStarted||o.push(_),(A.uploadStarted||A.preprocess||A.postprocess)&&a.push(_),A.uploadStarted&&u.push(_),_.isPaused&&c.push(_),A.uploadComplete&&p.push(_),_.error&&d.push(_),(A.preprocess||A.postprocess)&&v.push(_)}return{newFiles:o,startedFiles:a,uploadStartedFiles:u,pausedFiles:c,completeFiles:p,erroredFiles:d,inProgressFiles:s,inProgressNotPausedFiles:g,processingFiles:v,isUploadStarted:u.length>0,isAllComplete:t===100&&p.length===r.length&&v.length===0,isAllErrored:!!i&&d.length===r.length,isAllPaused:s.length!==0&&c.length===s.length,isUploadInProgress:s.length>0,isSomeGhost:r.some(_=>_.isGhost)}}validateRestrictions(e,t=this.getFiles()){try{f(this,be).validate(t,[e])}catch(i){return i}return null}validateSingleFile(e){try{f(this,be).validateSingleFile(e)}catch(t){return t.message}return null}validateAggregateRestrictions(e){const t=this.getFiles();try{f(this,be).validateAggregateRestrictions(t,e)}catch(i){return i.message}return null}checkIfFileAlreadyExists(e){const{files:t}=this.getState();return!!(t[e]&&!t[e].isGhost)}addFile(e){C(this,O,sr).call(this,e);const{nextFilesState:t,validFilesToAdd:i,errors:r}=C(this,O,ar).call(this,[e]),s=r.filter(a=>a.isRestriction);if(C(this,O,Ze).call(this,s),r.length>0)throw r[0];this.setState({files:t});const[o]=i;return this.emit("file-added",o),this.emit("files-added",i),this.log(`Added file: ${o.name}, ${o.id}, mime type: ${o.type}`),C(this,O,or).call(this),o.id}addFiles(e){C(this,O,sr).call(this);const{nextFilesState:t,validFilesToAdd:i,errors:r}=C(this,O,ar).call(this,e),s=r.filter(a=>a.isRestriction);C(this,O,Ze).call(this,s);const o=r.filter(a=>!a.isRestriction);if(o.length>0){let a=`Multiple errors occurred while adding files:
`;if(o.forEach(u=>{a+=`
 * ${u.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:o.length}),details:a},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(o,a);{const u=new Error(a);throw u.errors=o,u}}this.setState({files:t}),i.forEach(a=>{this.emit("file-added",a)}),this.emit("files-added",i),i.length>5?this.log(`Added batch of ${i.length} files`):Object.values(i).forEach(a=>{this.log(`Added file: ${a.name}
 id: ${a.id}
 type: ${a.type}`)}),i.length>0&&C(this,O,or).call(this)}removeFiles(e){const{files:t,currentUploads:i}=this.getState(),r={...t},s={...i},o=Object.create(null);e.forEach(p=>{t[p]&&(o[p]=t[p],delete r[p])});function a(p){return o[p]===void 0}Object.keys(s).forEach(p=>{const d=i[p].fileIDs.filter(a);if(d.length===0){delete s[p];return}const{capabilities:g}=this.getState();if(d.length!==i[p].fileIDs.length&&!g.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");s[p]={...i[p],fileIDs:d}});const u={currentUploads:s,files:r};Object.keys(r).length===0&&(u.allowNewUpload=!0,u.error=null,u.recoveredState=null),this.setState(u),f(this,ot).call(this);const c=Object.keys(o);c.forEach(p=>{this.emit("file-removed",o[p])}),c.length>5?this.log(`Removed ${c.length} files`):this.log(`Removed files: ${c.join(", ")}`)}removeFile(e){this.removeFiles([e])}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).progress.uploadComplete)return;const t=this.getFile(e),r=!(t.isPaused||!1);return this.setFileState(e,{isPaused:r}),this.emit("upload-pause",t,r),r}pauseAll(){const e={...this.getState().files};Object.keys(e).filter(i=>!e[i].progress.uploadComplete&&e[i].progress.uploadStarted).forEach(i=>{const r={...e[i],isPaused:!0};e[i]=r}),this.setState({files:e}),this.emit("pause-all")}resumeAll(){const e={...this.getState().files};Object.keys(e).filter(i=>!e[i].progress.uploadComplete&&e[i].progress.uploadStarted).forEach(i=>{const r={...e[i],isPaused:!1,error:null};e[i]=r}),this.setState({files:e}),this.emit("resume-all")}async retryAll(){const e=await C(this,O,ur).call(this);return this.emit("complete",e),e}cancelAll(){this.emit("cancel-all");const{files:e}=this.getState(),t=Object.keys(e);t.length&&this.removeFiles(t),this.setState(Gn)}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(e));const t=C(this,O,tn).call(this,[e],{forceAllowNewUpload:!0});return C(this,O,nn).call(this,t)}logout(){this.iteratePlugins(e=>{var t,i;(i=(t=e.provider)==null?void 0:t.logout)==null||i.call(t)})}[Symbol.for("uppy test: updateTotalProgress")](){return C(this,O,cr).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(e,...t){if(typeof e!="function"){const o=`Expected a plugin class, but got ${e===null?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(o)}const i=new e(this,...t),r=i.id;if(!r)throw new Error("Your plugin must have an id");if(!i.type)throw new Error("Your plugin must have a type");const s=this.getPlugin(r);if(s){const o=`Already found a plugin named '${s.id}'. Tried to use: '${r}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(o)}return e.VERSION&&this.log(`Using ${r} v${e.VERSION}`),i.type in f(this,ve)?f(this,ve)[i.type].push(i):f(this,ve)[i.type]=[i],i.install(),this.emit("plugin-added",i),this}getPlugin(e){for(const t of Object.values(f(this,ve))){const i=t.find(r=>r.id===e);if(i!=null)return i}}[Symbol.for("uppy test: getPlugins")](e){return f(this,ve)[e]}iteratePlugins(e){Object.values(f(this,ve)).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();const t=f(this,ve)[e.type],i=t.findIndex(o=>o.id===e.id);i!==-1&&t.splice(i,1);const s={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(s)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),f(this,An).call(this),this.iteratePlugins(e=>{this.removePlugin(e)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",f(this,Le)),window.removeEventListener("offline",f(this,Le)))}hideInfo(){const{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t="info",i=3e3){const r=typeof e=="object";this.setState({info:[...this.getState().info,{type:t,message:r?e.message:e,details:r?e.details:null}]}),setTimeout(()=>this.hideInfo(),i),this.emit("info-visible")}log(e,t){const{logger:i}=this.opts;switch(t){case"error":i.error(e);break;case"warning":i.warn(e);break;default:i.debug(e);break}}registerRequestClient(e,t){f(this,En).set(e,t)}getRequestClientForFile(e){if(!e.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${e.id}`);const t=f(this,En).get(e.remote.requestClientId);if(t==null)throw new Error(`requestClientId "${e.remote.requestClientId}" not registered for file "${e.id}"`);return t}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?C(this,O,nn).call(this,e):(C(this,O,ii).call(this,e),Promise.reject(new Error("Nonexistent upload")))}[Symbol.for("uppy test: createUpload")](...e){return C(this,O,tn).call(this,...e)}addResultData(e,t){if(!C(this,O,Ca).call(this,e)){this.log(`Not setting result for an upload that has been removed: ${e}`);return}const{currentUploads:i}=this.getState(),r={...i[e],result:{...i[e].result,...t}};this.setState({currentUploads:{...i,[e]:r}})}async upload(){var r;(r=f(this,ve).uploader)!=null&&r.length||this.log("No uploader type plugins are used","warning");let{files:e}=this.getState();if(C(this,O,lr).call(this).length>0){const s=await C(this,O,ur).call(this);if(!(this.getFiles().filter(a=>a.progress.uploadStarted==null).length>0))return this.emit("complete",s),s;({files:e}=this.getState())}const i=this.opts.onBeforeUpload(e);return i===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(i&&typeof i=="object"&&(e=i,this.setState({files:e})),Promise.resolve().then(()=>f(this,be).validateMinNumberOfFiles(e)).catch(s=>{throw C(this,O,Ze).call(this,[s]),s}).then(()=>{if(!C(this,O,Fa).call(this,e))throw new we(this.i18n("missingRequiredMetaField"))}).catch(s=>{throw s}).then(async()=>{const{currentUploads:s}=this.getState(),o=Object.values(s).flatMap(p=>p.fileIDs),a=[];Object.keys(e).forEach(p=>{const d=this.getFile(p);!d.progress.uploadStarted&&o.indexOf(p)===-1&&a.push(d.id)});const u=C(this,O,tn).call(this,a),c=await C(this,O,nn).call(this,u);return this.emit("complete",c),c}).catch(s=>{throw this.emit("error",s),this.log(s,"error"),s}))}},ve=new WeakMap,be=new WeakMap,An=new WeakMap,rt=new WeakMap,xt=new WeakMap,Ut=new WeakMap,st=new WeakMap,O=new WeakSet,Ze=function(e){for(const o of e)o.isRestriction?this.emit("restriction-failed",o.file,o):this.emit("error",o,o.file),this.log(o,"warning");const t=e.filter(o=>o.isUserFacing),i=4,r=t.slice(0,i),s=t.slice(i);r.forEach(({message:o,details:a=""})=>{this.info({message:o,details:a},"error",this.opts.infoTimeout)}),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})},rr=function(e){const{missingFields:t,error:i}=f(this,be).getMissingRequiredMetaFields(e);return t.length>0?(this.setFileState(e.id,{missingRequiredMetaFields:t,error:i.message}),this.log(i.message),this.emit("restriction-failed",e,i),!1):(t.length===0&&e.missingRequiredMetaFields&&this.setFileState(e.id,{missingRequiredMetaFields:[]}),!0)},Fa=function(e){let t=!0;for(const i of Object.values(e))C(this,O,rr).call(this,i)||(t=!1);return t},sr=function(e){const{allowNewUpload:t}=this.getState();if(t===!1){const i=new we(this.i18n("noMoreFilesAllowed"),{file:e});throw C(this,O,Ze).call(this,[i]),i}},Pa=function(e){const t=e instanceof File?{name:e.name,type:e.type,size:e.size,data:e}:e,i=ga(t),r=Dd(i,t),s=Hr(r).extension,o=ya(t,this.getID()),a=t.meta||{};a.name=r,a.type=i;const u=Number.isFinite(t.data.size)?t.data.size:null;return{source:t.source||"",id:o,name:r,extension:s||"",meta:{...this.getState().meta,...a},type:i,data:t.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:u,uploadComplete:!1,uploadStarted:null},size:u,isGhost:!1,isRemote:t.isRemote||!1,remote:t.remote,preview:t.preview}},or=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(e=>{e.isRestriction||this.log(e.stack||e.message||e)})},4))},ar=function(e){var o;let{files:t}=this.getState(),i={...t};const r=[],s=[];for(const a of e)try{let u=C(this,O,Pa).call(this,a);const c=(o=t[u.id])==null?void 0:o.isGhost;c&&(u={...t[u.id],isGhost:!1,data:a.data},this.log(`Replaced the blob in the restored ghost file: ${u.name}, ${u.id}`));const p=this.opts.onBeforeFileAdded(u,i);if(t=this.getState().files,i={...t,...i},!p&&this.checkIfFileAlreadyExists(u.id))throw new we(this.i18n("noDuplicates",{fileName:u.name??this.i18n("unnamed")}),{file:a});if(p===!1&&!c)throw new we("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:a});typeof p=="object"&&p!==null&&(u=p),f(this,be).validateSingleFile(u),i[u.id]=u,r.push(u)}catch(u){s.push(u)}try{f(this,be).validateAggregateRestrictions(Object.values(t),r)}catch(a){return s.push(a),{nextFilesState:t,validFilesToAdd:[],errors:s}}return{nextFilesState:i,validFilesToAdd:r,errors:s}},lr=function(){const{files:e}=this.getState();return Object.keys(e).filter(t=>{const i=e[t];return i.error&&(!i.missingRequiredMetaFields||i.missingRequiredMetaFields.length===0)})},ur=async function(){const e=C(this,O,lr).call(this),t={...this.getState().files};if(e.forEach(r=>{t[r]={...t[r],isPaused:!1,error:null}}),this.setState({files:t,error:null}),this.emit("retry-all",this.getFilesByIds(e)),e.length===0)return{successful:[],failed:[]};const i=C(this,O,tn).call(this,e,{forceAllowNewUpload:!0});return C(this,O,nn).call(this,i)},yi=new WeakMap,cr=function(){const e=C(this,O,ka).call(this);let t=null;e!=null&&(t=Math.round(e*100),t>100?t=100:t<0&&(t=0)),this.emit("progress",t??0),this.setState({totalProgress:t??0})},ot=new WeakMap,ka=function(){const t=this.getFiles().filter(u=>u.progress.uploadStarted||u.progress.preprocess||u.progress.postprocess);if(t.length===0)return 0;if(t.every(u=>u.progress.uploadComplete))return 1;const i=u=>u.progress.bytesTotal!=null&&u.progress.bytesTotal!==0,r=t.filter(i),s=t.filter(u=>!i(u));if(r.every(u=>u.progress.uploadComplete)&&s.length>0&&!s.every(u=>u.progress.uploadComplete))return null;const o=r.reduce((u,c)=>u+(c.progress.bytesTotal??0),0),a=r.reduce((u,c)=>u+(c.progress.bytesUploaded||0),0);return o===0?0:a/o},Ta=function(){const e=(r,s,o)=>{let a=r.message||"Unknown error";r.details&&(a+=` ${r.details}`),this.setState({error:a}),s!=null&&s.id in this.getState().files&&this.setFileState(s.id,{error:a,response:o})};this.on("error",e),this.on("upload-error",(r,s,o)=>{if(e(s,r,o),typeof s=="object"&&s.message){this.log(s.message,"error");const a=new Error(this.i18n("failedToUpload",{file:(r==null?void 0:r.name)??""}));a.isUserFacing=!0,a.details=s.message,s.details&&(a.details+=` ${s.details}`),C(this,O,Ze).call(this,[a])}else C(this,O,Ze).call(this,[s])});let t=null;this.on("upload-stalled",(r,s)=>{const{message:o}=r,a=s.map(u=>u.meta.name).join(", ");t||(this.info({message:o,details:a},"warning",this.opts.infoTimeout),t=setTimeout(()=>{t=null},this.opts.infoTimeout)),this.log(`${o} ${a}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const i=r=>{const s=r.filter(a=>{const u=a!=null&&this.getFile(a.id);return u||this.log(`Not setting progress for a file that has been removed: ${a==null?void 0:a.id}`),u}),o=Object.fromEntries(s.map(a=>[a.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:a.size}}]));this.patchFilesState(o)};this.on("upload-start",i),this.on("upload-progress",f(this,yi)),this.on("upload-success",(r,s)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const o=this.getFile(r.id).progress;this.setFileState(r.id,{progress:{...o,postprocess:f(this,st).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:o.bytesTotal},response:s,uploadURL:s.uploadURL,isPaused:!1}),r.size==null&&this.setFileState(r.id,{size:s.bytesUploaded||o.bytesTotal}),f(this,ot).call(this)}),this.on("preprocess-progress",(r,s)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,preprocess:s}})}),this.on("preprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const s={...this.getState().files};s[r.id]={...s[r.id],progress:{...s[r.id].progress}},delete s[r.id].progress.preprocess,this.setState({files:s})}),this.on("postprocess-progress",(r,s)=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}this.setFileState(r.id,{progress:{...this.getState().files[r.id].progress,postprocess:s}})}),this.on("postprocess-complete",r=>{if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}const s={...this.getState().files};s[r.id]={...s[r.id],progress:{...s[r.id].progress}},delete s[r.id].progress.postprocess,this.setState({files:s})}),this.on("restored",()=>{f(this,ot).call(this)}),this.on("dashboard:file-edit-complete",r=>{r&&C(this,O,rr).call(this,r)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",f(this,Le)),window.addEventListener("offline",f(this,Le)),setTimeout(f(this,Le),3e3))},Le=new WeakMap,En=new WeakMap,tn=function(e,t={}){const{forceAllowNewUpload:i=!1}=t,{allowNewUpload:r,currentUploads:s}=this.getState();if(!r&&!i)throw new Error("Cannot create a new upload: already uploading.");const o=Ci();return this.emit("upload",o,this.getFilesByIds(e)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...s,[o]:{fileIDs:e,step:0,result:{}}}}),o},Ca=function(e){const{currentUploads:t}=this.getState();return t[e]},ii=function(e){const t={...this.getState().currentUploads};delete t[e],this.setState({currentUploads:t})},nn=async function(e){const t=()=>{const{currentUploads:o}=this.getState();return o[e]};let i=t();const r=[...f(this,xt),...f(this,Ut),...f(this,st)];try{for(let o=i.step||0;o<r.length&&i;o++){const a=r[o];this.setState({currentUploads:{...this.getState().currentUploads,[e]:{...i,step:o}}});const{fileIDs:u}=i;await a(u,e),i=t()}}catch(o){throw C(this,O,ii).call(this,e),o}if(i){i.fileIDs.forEach(c=>{const p=this.getFile(c);p!=null&&p.progress.postprocess&&this.emit("postprocess-complete",p)});const o=i.fileIDs.map(c=>this.getFile(c)),a=o.filter(c=>!c.error),u=o.filter(c=>c.error);this.addResultData(e,{successful:a,failed:u,uploadID:e}),i=t()}let s;return i&&(s=i.result,C(this,O,ii).call(this,e)),s==null&&(this.log(`Not setting result for an upload that has been removed: ${e}`),s={successful:[],failed:[],uploadID:e}),s},y(it,"VERSION",Od.version),it);const Aa={strings:{},pluralize(n){return n===1?0:1}};Aa.strings={addBulkFilesFailed:{0:"Das HinzufÃ¼gen einer Datei ist aufgrund eines internen Fehlers fehlgeschlagen",1:"Das HinzufÃ¼gen von %{smart_count} Dateien ist aufgrund eines internen Fehlers fehlgeschlagen"},addingMoreFiles:"Dateien hinzufÃ¼gen",addMore:"Mehr hinzufÃ¼gen",addMoreFiles:"Dateien hinzufÃ¼gen",allFilesFromFolderNamed:"Alle Dateien vom Ordner %{name}",allowAccessDescription:"Um Bilder oder Videos mit Ihrer Kamera aufzunehmen, erlauben Sie dieser Website bitte den Zugriff auf Ihre Kamera.",allowAccessTitle:"Bitte erlauben Sie Zugriff auf Ihre Kamera",aspectRatioLandscape:"Zuschneiden auf Querformat (16:9)",aspectRatioPortrait:"Zuschneiden auf Hochformat (9:16)",aspectRatioSquare:"Zuschneiden auf Quadrat",authenticateWith:"Mit %{pluginName} verbinden",authenticateWithTitle:"Bitte authentifizieren Sie sich mit %{pluginName}, um Dateien auszuwÃ¤hlen",back:"ZurÃ¼ck",backToSearch:"ZurÃ¼ck zur Suche",browse:"durchsuchen",browseFiles:"Dateien durchsuchen",browseFolders:"Ordner durchsuchen",cancel:"Abbrechen",cancelUpload:"Hochladen abbrechen",chooseFiles:"Dateien auswÃ¤hlen",closeModal:"Fenster schlieÃŸen",companionError:"Verbindung zu Companion fehlgeschlagen",companionUnauthorizeHint:"Um die Autorisierung fÃ¼r Ihr %{provider} Konto aufzuheben, gehen Sie bitte zu %{url}",complete:"Fertig",connectedToInternet:"Mit dem Internet verbunden",copyLink:"Link kopieren",copyLinkToClipboardFallback:"Untenstehende URL kopieren",copyLinkToClipboardSuccess:"Link in die Zwischenablage kopiert",creatingAssembly:"Das Hochladen wird vorbereiten...",creatingAssemblyFailed:"Transloadit: Assembly konnte nicht erstellt werden",dashboardTitle:"Hochladen von Dateien",dashboardWindowTitle:"Hochladen von Dateien (ESC drÃ¼cken zum SchlieÃŸen)",dataUploadedOfTotal:"%{complete} von %{total}",discardRecordedFile:"Aufgenommene Datei verwerfen",done:"Abgeschlossen",dropHereOr:"Dateien hier ablegen oder %{browse}",dropHint:"Dateien hier ablegen",dropPasteBoth:"Dateien hier ablegen/einfÃ¼gen, %{browseFiles} oder %{browseFolders}",dropPasteFiles:"Dateien hier ablegen/einfÃ¼gen oder %{browseFiles}",dropPasteFolders:"Dateien hier ablegen/einfÃ¼gen oder %{browseFolders}",dropPasteImportBoth:"Dateien hier ablegen/einfÃ¼gen, %{browse} oder von folgenden Quellen importieren:",dropPasteImportFiles:"Dateien hier ablegen/einfÃ¼gen, %{browseFiles} oder von folgenden Quellen importieren:",dropPasteImportFolders:"Dateien hier ablegen/einfÃ¼gen, %{browseFolders} oder von folgenden Quellen importieren:",editFile:"Datei bearbeiten",editImage:"Bild bearbeiten",editFileWithFilename:"Datei %{file} bearbeiten",editing:"%{file} bearbeiten",emptyFolderAdded:"Keine Dateien hinzugefÃ¼gt, da der Ordner leer war",encoding:"Kodieren...",enterCorrectUrl:"Falsche URL: Bitte stellen Sie sicher, dass Sie einen direkten Link zu einer Datei eingeben",enterTextToSearch:"Text zum Suchen von Bildern eingeben",enterUrlToImport:"URL zum Importieren einer Datei eingeben",exceedsSize:"Datei %{file} ist grÃ¶ÃŸer als die maximal erlaubte DateigrÃ¶ÃŸe von %{size}",failedToFetch:"Companion konnte diese URL nicht verarbeiten - stellen Sie bitte sicher, dass sie korrekt ist",failedToUpload:"Fehler beim Hochladen der Datei %{file}",filesUploadedOfTotal:{0:"%{complete} von %{smart_count} Datei hochgeladen",1:"%{complete} von %{smart_count} Dateien hochgeladen"},filter:"Filter",finishEditingFile:"Bearbeitung beenden",flipHorizontal:"Horizontal spiegeln",folderAdded:{0:"Eine Datei von %{folder} hinzugefÃ¼gt",1:"%{smart_count} Dateien von %{folder} hinzugefÃ¼gt"},folderAlreadyAdded:'Der Ordner "%{folder}" wurde bereits hinzugefÃ¼gt',generatingThumbnails:"Erstellen von Miniaturansichten...",import:"Importieren",importFiles:"Importiere Dateien von:",importFrom:"Importieren von %{name}",inferiorSize:"Diese Datei ist kleiner als die minimal erlaubte DateigrÃ¶ÃŸe von %{size}",loading:"Laden...",logOut:"Abmelden",micDisabled:"Zugriff auf Mikrofon von Benutzer abgelehnt",missingRequiredMetaField:"Fehlende erforderliche Meta-Felder",missingRequiredMetaFieldOnFile:"Fehlende erforderliche Meta-Felder in %{fileName}",missingRequiredMetaFields:{0:"Fehlendes erforderliches Meta-Feld: %{fields}.",1:"Fehlende erforderliche Meta-Felder: %{fields}."},myDevice:"Mein GerÃ¤t",noCameraDescription:"Bitte Kamera anschlieÃŸen, um Bilder oder Videos aufzunehmen",noCameraTitle:"Kamera nicht verfÃ¼gbar",noDuplicates:"Datei '%{fileName}' existiert bereits und kann nicht erneut hinzugefÃ¼gt werden",noFilesFound:"Sie haben hier keine Dateien oder Ordner",noInternetConnection:"Keine Internetverbindung",noMoreFilesAllowed:"WÃ¤hrend der Upload lÃ¤uft, kÃ¶nnen keine weiteren Dateien hinzugefÃ¼gt werden",openFolderNamed:"Ordner %{name} Ã¶ffnen",pause:"Pausieren",paused:"Pausiert",pauseUpload:"Hochladen pausieren",pluginNameBox:"Box",pluginNameCamera:"Kamera",pluginNameDropbox:"Dropbox",pluginNameFacebook:"Facebook",pluginNameGoogleDrive:"Google Drive",pluginNameInstagram:"Instagram",pluginNameOneDrive:"OneDrive",pluginNameZoom:"Zoom",poweredBy:"Powered by %{uppy}",processingXFiles:{0:"Eine Datei verarbeiten",1:"%{smart_count} Dateien verarbeiten"},recording:"Aufnahme",recordingLength:"Aufnahmedauer %{recording_length}",recordingStoppedMaxSize:"Die Aufnahme wurde gestoppt, weil die DateigrÃ¶ÃŸe das Limit Ã¼berschritten hat",recordVideoBtn:"Video aufnehmen",recoveredAllFiles:"Wir haben alle Dateien wiederhergestellt. Sie kÃ¶nnen mit dem Hochladen fortfahren.",recoveredXFiles:{0:"Wir konnten eine Datei nicht vollstÃ¤ndig wiederherstellen. Bitte wÃ¤hlen Sie sie erneut aus und fahren Sie dann mit dem Hochladen fort.",1:"Wir konnten %{smart_count} Dateien nicht vollstÃ¤ndig wiederherstellen. Bitte wÃ¤hlen Sie sie erneut aus und fahren Sie dann mit dem Hochladen fort."},removeFile:"Datei entfernen",reSelect:"Erneut auswÃ¤hlen",resetFilter:"Filter zurÃ¼cksetzen",resume:"Fortsetzen",resumeUpload:"Hochladen fortsetzen",retry:"Erneut versuchen",retryUpload:"Hochladen erneut versuchen",revert:"RÃ¼ckgÃ¤ngig machen",rotate:"Drehen",save:"Speichern",saveChanges:"Ã„nderungen speichern",searchImages:"Suche nach Bildern",selectX:{0:"WÃ¤hlen Sie %{smart_count}",1:"WÃ¤hlen Sie %{smart_count}"},sessionRestored:"",smile:"Bitte lÃ¤cheln!",startCapturing:"Bildschirmaufnahme starten",startRecording:"Videoaufnahme starten",stopCapturing:"Bildschirmaufnahme stoppen",stopRecording:"Videoaufnahme stoppen",streamActive:"Stream aktiv",streamPassive:"Stream passiv",submitRecordedFile:"Aufgezeichnete Datei verwenden",takePicture:"Ein Foto aufnehmen",takePictureBtn:"Foto aufnehmen",timedOut:"Upload fÃ¼r %{seconds} Sekunden stehen geblieben, breche ab.",upload:"Hochladen",uploadComplete:"Hochladen abgeschlossen",uploadFailed:"Hochladen fehlgeschlagen",uploading:"Wird hochgeladen",uploadingXFiles:{0:"Eine Datei wird hochgeladen",1:"%{smart_count} Dateien werden hochgeladen"},uploadPaused:"Hochladen pausiert",uploadXFiles:{0:"Eine Datei hochladen",1:"%{smart_count} Dateien hochladen"},uploadXNewFiles:{0:"+%{smart_count} Datei hochladen",1:"+%{smart_count} Dateien hochladen"},xFilesSelected:{0:"Eine Datei ausgewÃ¤hlt",1:"%{smart_count} Dateien ausgewÃ¤hlt"},xMoreFilesAdded:{0:"Eine weitere Datei hinzugefÃ¼gt",1:"%{smart_count} weitere Dateien hinzugefÃ¼gt"},xTimeLeft:"%{time} verbleibend",youCanOnlyUploadFileTypes:"Sie kÃ¶nnen nur folgende Dateitypen hochladen: %{types}",youCanOnlyUploadX:{0:"Sie kÃ¶nnen nur eine Datei hochladen",1:"Sie kÃ¶nnen nur %{smart_count} Dateien hochladen"},youHaveToAtLeastSelectX:{0:"Sie mÃ¼ssen mindestens eine Datei auswÃ¤hlen",1:"Sie mÃ¼ssen mindestens %{smart_count} Dateien auswÃ¤hlen"},zoomIn:"VergrÃ¶ÃŸern",zoomOut:"Verkleinern"};typeof Uppy<"u"&&(globalThis.Uppy.locales.de_DE=Aa);const Ea={strings:{},pluralize(n){return n===1?0:1}};Ea.strings={addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},addedNumFiles:"Added %{numFiles} file(s)",addingMoreFiles:"Adding more files",additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",addMore:"Add more",addMoreFiles:"Add more files",aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",allFilesFromFolderNamed:"All files from folder %{name}",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site.",allowAccessTitle:"Please allow access to your camera",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",allowAudioAccessTitle:"Please allow access to your microphone",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)",aspectRatioSquare:"Crop square",authAborted:"Authentication aborted",authenticate:"Connect",authenticateWith:"Connect to %{pluginName}",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",back:"Back",browse:"browse",browseFiles:"browse files",browseFolders:"browse folders",cancel:"Cancel",cancelUpload:"Cancel upload",chooseFiles:"Choose files",closeModal:"Close Modal",companionError:"Connection with Companion failed",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",complete:"Complete",compressedX:"Saved %{size} by compressing images",compressingImages:"Compressing images...",connectedToInternet:"Connected to the Internet",copyLink:"Copy link",copyLinkToClipboardFallback:"Copy the URL below",copyLinkToClipboardSuccess:"Link copied to clipboard.",creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",dashboardTitle:"Uppy Dashboard",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",discardMediaFile:"Discard Media",discardRecordedFile:"Discard recorded file",done:"Done",dropHereOr:"Drop here or %{browse}",dropHint:"Drop your files here",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",editFile:"Edit file",editFileWithFilename:"Edit file %{file}",editImage:"Edit image",editing:"Editing %{file}",emptyFolderAdded:"No files were added from empty folder",encoding:"Encoding...",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file",enterTextToSearch:"Enter text to search for images",enterUrlToImport:"Enter URL to import a file",error:"Error",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",failedToFetch:"Companion failed to fetch this URL, please make sure itâ€™s correct",failedToUpload:"Failed to upload %{file}",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},filter:"Filter",finishEditingFile:"Finish editing file",flipHorizontal:"Flip horizontally",folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},folderAlreadyAdded:'The folder "%{folder}" was already added',generatingThumbnails:"Generating thumbnails...",import:"Import",importFiles:"Import files from:",importFrom:"Import from %{name}",inferiorSize:"This file is smaller than the allowed size of %{size}",loadedXFiles:"Loaded %{numFiles} files",loading:"Loading...",logIn:"Log in",logOut:"Log out",micDisabled:"Microphone access denied by user",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},myDevice:"My Device",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",noAudioTitle:"Microphone Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",noCameraTitle:"Camera Not Available",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",noFilesFound:"You have no files or folders here",noInternetConnection:"No Internet connection",noMoreFilesAllowed:"Cannot add more files",noSearchResults:"Unfortunately, there are no results for this search",openFolderNamed:"Open folder %{name}",pause:"Pause",paused:"Paused",pauseUpload:"Pause upload",pickFiles:"Pick files",pickPhotos:"Pick photos",pleaseWait:"Please wait",pluginNameAudio:"Audio",pluginNameBox:"Box",pluginNameCamera:"Camera",pluginNameDropbox:"Dropbox",pluginNameFacebook:"Facebook",pluginNameGoogleDrive:"Google Drive",pluginNameGoogleDrivePicker:"Google Drive",pluginNameGooglePhotosPicker:"Google Photos",pluginNameInstagram:"Instagram",pluginNameOneDrive:"OneDrive",pluginNameScreenCapture:"Screencast",pluginNameUnsplash:"Unsplash",pluginNameUrl:"Link",pluginNameWebdav:"WebDAV",pluginNameZoom:"Zoom",pluginWebdavInputLabel:"WebDAV URL for a file (e.g. from ownCloud or Nextcloud)",poweredBy:"Powered by %{uppy}",processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},recording:"Recording",recordingLength:"Recording length %{recording_length}",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordVideoBtn:"Record Video",recoveredAllFiles:"We restored all files. You can now resume the upload.",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},removeFile:"Remove file",reSelect:"Re-select",resetFilter:"Reset filter",resetSearch:"Reset search",resume:"Resume",resumeUpload:"Resume upload",retry:"Retry",retryUpload:"Retry upload",revert:"Reset",rotate:"Rotate 90Â°",save:"Save",saveChanges:"Save changes",search:"Search",searchImages:"Search for images",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},sessionRestored:"Session restored",showErrorDetails:"Show error details",signInWithGoogle:"Sign in with Google",smile:"Smile!",startAudioRecording:"Begin audio recording",startCapturing:"Begin screen capturing",startRecording:"Begin video recording",stopAudioRecording:"Stop audio recording",stopCapturing:"Stop screen capturing",stopRecording:"Stop video recording",streamActive:"Stream active",streamPassive:"Stream passive",submitRecordedFile:"Submit recorded file",takePicture:"Take a picture",takePictureBtn:"Take Picture",takeScreenshot:"Take Screenshot",unnamed:"Unnamed",upload:"Upload",uploadComplete:"Upload complete",uploadFailed:"Upload failed",uploading:"Uploading",uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},uploadPaused:"Upload paused",uploadStalled:"Upload has not made any progress for %{seconds} seconds. You may want to retry it.",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},xTimeLeft:"%{time} left",youCanOnlyUploadFileTypes:"You can only upload: %{types}",youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},zoomIn:"Zoom in",zoomOut:"Zoom out"};typeof Uppy<"u"&&(globalThis.Uppy.locales.en_US=Ea);const xa={strings:{},pluralize(n){return n<=1?0:1}};xa.strings={addBulkFilesFailed:{0:"Lâ€™ajout de %{smart_count} fichier a Ã©chouÃ© en raison dâ€™une erreur interne",1:"Lâ€™ajout de %{smart_count} fichiers a Ã©chouÃ© en raison dâ€™erreurs internes"},addedNumFiles:"%{numFiles} fichier(s) ajoutÃ©(s)",addingMoreFiles:"Ajout de fichiers",additionalRestrictionsFailed:"%{count} restrictions supplÃ©mentaires nâ€™ont pas Ã©tÃ© respectÃ©es",addMore:"Ajouter dâ€™autres",addMoreFiles:"Ajouter dâ€™autres fichiers",aggregateExceedsSize:"Vous avez sÃ©lectionnÃ© %{size} de fichiers, mais la taille maximale autorisÃ©e est %{sizeAllowed}",allFilesFromFolderNamed:"Tous les fichiers du dossier %{name}",allowAccessDescription:"Pour prendre des photos ou enregistrer une vidÃ©o, veuillez autoriser lâ€™accÃ¨s Ã  votre camÃ©ra pour ce site.",allowAccessTitle:"Veuillez autoriser lâ€™accÃ¨s Ã  votre camÃ©ra",allowAudioAccessDescription:"Pour enregistrer de lâ€™audio, veuillez autoriser lâ€™accÃ¨s au microphone pour ce site.",allowAudioAccessTitle:"Veuillez autoriser lâ€™accÃ¨s au microphone",aspectRatioLandscape:"Recadrer en paysage (16:9)",aspectRatioPortrait:"Recadrer en portrait (9:16)",aspectRatioSquare:"Recadrer pour obtenir une photo carrÃ©e",authAborted:"Authentification interrompue",authenticateWith:"Se connecter Ã  %{pluginName}",authenticateWithTitle:"Veuillez vous authentifier avec %{pluginName} pour sÃ©lectionner les fichiers",back:"Retour",browse:"naviguer",browseFiles:"naviguer dans les fichiers",browseFolders:"naviguer dans les dossiers",cancel:"Annuler",cancelUpload:"Annuler le tÃ©lÃ©versement",chooseFiles:"Choisir des fichiers",closeModal:"Fermer la fenÃªtre",companionError:"Connexion Ã  Companion a Ã©chouÃ©",companionUnauthorizeHint:"Pour vous dÃ©connecter de votre compte %{provider}, veuillez aller Ã  %{url}",complete:"TerminÃ©",compressedX:"%{size} Ã©conomisÃ©(s) par la compression",compressingImages:"Compression des imagesâ€¦",connectedToInternet:"ConnectÃ© Ã  Internet",copyLink:"Copier le lien",copyLinkToClipboardFallback:"Copier le lien ci-dessous",copyLinkToClipboardSuccess:"Lien copiÃ©",creatingAssembly:"PrÃ©paration du tÃ©lÃ©versementâ€¦",creatingAssemblyFailed:"Transloadit: Impossible de crÃ©er Assembly",dashboardTitle:"TÃ©lÃ©verseur de fichiers",dashboardWindowTitle:"FenÃªtre de tÃ©lÃ©versement de fichiers (Appuyez sur Ã‰chap pour fermer)",dataUploadedOfTotal:"%{complete} sur %{total}",discardRecordedFile:"Supprimer le fichier enregistrÃ©",done:"TerminÃ©",dropHereOr:"DÃ©poser les fichiers ici ou %{browse}",dropHint:"DÃ©posez vos fichiers ici",dropPasteBoth:"DÃ©poser les fichiers ici, coller ou %{browse}",dropPasteFiles:"DÃ©poser les fichiers ici, coller ou %{browse}",dropPasteFolders:"DÃ©poser les fichiers ici, coller ou %{browse}",dropPasteImportBoth:"DÃ©poser les fichiers ici, coller, %{browse} ou importer de",dropPasteImportFiles:"DÃ©poser les fichiers ici, coller, %{browse} ou importer de",dropPasteImportFolders:"DÃ©poser les fichiers ici, coller, %{browse} ou importer de",editFile:"Modifier le fichier",editImage:"Modifier lâ€™image",editFileWithFilename:"Modifier le fichier %{file}",editing:"Modification en cours de %{file}",emptyFolderAdded:"Aucun fichier nâ€™a Ã©tÃ© ajoutÃ© depuis un dossier vide",encoding:"Traitementâ€¦",enterCorrectUrl:"Lien incorrect: Assurez-vous que vous entrez un lien direct vers le fichier",enterTextToSearch:"Entrez un texte pour rechercher des images",enterUrlToImport:"Entrez le lien pour importer un fichier",error:"Erreur",exceedsSize:"Le fichier %{file} dÃ©passe la taille maximale autorisÃ©e de %{size}",failedToFetch:"Companion a Ã©chouÃ© Ã  rÃ©cupÃ©rer ce lien, assurez-vous quâ€™il est correct",failedToUpload:"Le tÃ©lÃ©versement de %{file} a Ã©chouÃ©",fileSource:"Fichier source: %{name}",filesUploadedOfTotal:{0:"%{complete} sur %{smart_count} fichier tÃ©lÃ©versÃ©",1:"%{complete} sur %{smart_count} fichiers tÃ©lÃ©versÃ©s"},filter:"Filtrer",finishEditingFile:"Terminer lâ€™Ã©dition du fichier",flipHorizontal:"Retourner horizontalement",folderAdded:{0:"%{smart_count} fichier ajoutÃ© de %{folder}",1:"%{smart_count} fichiers ajoutÃ©s de %{folder}"},folderAlreadyAdded:'Le dossier "%{folder}" a dÃ©jÃ  Ã©tÃ© ajoutÃ©',generatingThumbnails:"GÃ©nÃ©ration des vignettesâ€¦",import:"Importer",importFiles:"Importer des fichiers depuis :",importFrom:"Importer de %{name}",inferiorSize:"Ce fichier est plus petit que la taille autorisÃ©e de %{size}",loadedXFiles:"ChargÃ© %{numFiles} fichiers",loading:"Chargementâ€¦",logOut:"DÃ©connexion",micDisabled:"AccÃ¨s au micro refusÃ© par lâ€™utilisateur",missingRequiredMetaField:"Champ mÃ©ta requis manquant",missingRequiredMetaFieldOnFile:"Champs mÃ©ta requis manquants dans %{fileName}",missingRequiredMetaFields:{0:"Champ mÃ©ta requis manquant : %{fields}.",1:"Champs mÃ©ta requis manquants : %{fields}."},myDevice:"Mon Appareil",noAudioDescription:"Pour enregistrer de lâ€™audio, veuillez connecter un microphone ou un autre appareil dâ€™entrÃ©e audio",noAudioTitle:"Microphone non disponible",noCameraDescription:"Pour prendre des photos ou enregistrer une vidÃ©o, veuillez connecter une camÃ©ra",noDuplicates:'Impossible dâ€™ajouter le fichier "%{fileName}", il existe dÃ©jÃ ',noFilesFound:"Vous nâ€™avez aucun fichier ou dossier ici",noInternetConnection:"Pas de connexion Ã  Internet",noMoreFilesAllowed:"Impossible dâ€™ajouter de nouveaux fichiers: en cours de chargement ",noSearchResults:"Malheureusement, il nâ€™y a aucun rÃ©sultat pour cette recherche",openFolderNamed:"Ouvrir %{name}",pause:"Pause",pauseUpload:"Mettre en pause le tÃ©lÃ©versement",paused:"En pause",poweredBy:"PropulsÃ© par %{uppy}",processingXFiles:{0:"Traitement de %{smart_count} fichier",1:"Traitement de %{smart_count} fichiers"},recording:"Enregistrement",recordingLength:"DurÃ©e dâ€™enregistrement %{recording_length}",recordingStoppedMaxSize:"Lâ€™enregistrement sâ€™est arrÃ©tÃ© car la taille du fichier dÃ©passe la limite",recordVideoBtn:"Enregistrer une vidÃ©o",recoveredAllFiles:"Nous avons restaurÃ© tous les fichiers. Vous pouvez maintenant reprendre le tÃ©lÃ©versement.",recoveredXFiles:{0:"Nous nâ€™avons pas pu rÃ©cupÃ©rer entiÃ¨rement 1 fichier. Veuillez le resÃ©lectionner et reprendre le tÃ©lÃ©versement.",1:"Nous nâ€™avons pas pu rÃ©cupÃ©rer entiÃ¨rement %{smart_count} fichiers. Veuillez les resÃ©lectionner et reprendre le tÃ©lÃ©versement."},removeFile:"Effacer le fichier %{file}",resetFilter:"RÃ©initialiser filtre",resume:"Reprendre",resumeUpload:"Reprendre le tÃ©lÃ©versement",retry:"RÃ©essayer",retryUpload:"RÃ©essayer le tÃ©lÃ©versement",reSelect:"ResÃ©lectionner",save:"Sauvegarder",saveChanges:"Sauvegarder les modifications",selectFileNamed:"SÃ©lectionner le fichier %{name}",selectX:{0:"SÃ©lectionner %{smart_count}",1:"SÃ©lectionner %{smart_count}"},sessionRestored:"Session restaurÃ©e",signInWithGoogle:"Se connecter avec Google",smile:"Souriez !",startRecording:"Commencer lâ€™enregistrement vidÃ©o",stopRecording:"ArrÃªter lâ€™enregistrement vidÃ©o",streamActive:"Stream actif",streamPassive:"Stream passif",submitRecordedFile:"Envoyer la vidÃ©o enregistrÃ©e",takePicture:"Prendre une photo",takePictureBtn:"Prendre une photo",timedOut:"TÃ©lÃ©versement bloquÃ© durant %{seconds} secondes, annulation.",unselectFileNamed:"DÃ©sÃ©lectionner le fichier %{name}",upload:"TÃ©lÃ©verser",uploadComplete:"TÃ©lÃ©versement terminÃ©",uploadFailed:"Le tÃ©lÃ©versement a Ã©chouÃ©",uploadPaused:"TÃ©lÃ©versement mis en pause",uploadStalled:"TÃ©lÃ©versement bloquÃ© depuis %{seconds} secondes. Il est peut-Ãªtre nÃ©cessaire de recommencer lâ€™opÃ©ration.",uploadXFiles:{0:"TÃ©lÃ©verser %{smart_count} fichier",1:"TÃ©lÃ©verser %{smart_count} fichiers"},uploadXNewFiles:{0:"TÃ©lÃ©verser +%{smart_count} fichier",1:"TÃ©lÃ©verser +%{smart_count} fichiers"},uploading:"TÃ©lÃ©versement en cours",uploadingXFiles:{0:"TÃ©lÃ©versement de %{smart_count} fichier",1:"TÃ©lÃ©versement de %{smart_count} fichiers"},xFilesSelected:{0:"%{smart_count} fichier sÃ©lectionnÃ©",1:"%{smart_count} fichiers sÃ©lectionnÃ©s"},xMoreFilesAdded:{0:"%{smart_count} autre fichier ajoutÃ©",1:"%{smart_count} autres fichiers ajoutÃ©s"},xTimeLeft:"%{time} restantes",youCanOnlyUploadFileTypes:"Vous pouvez seulement tÃ©lÃ©verser: %{types}",youCanOnlyUploadX:{0:"Vous pouvez seulement tÃ©lÃ©verser %{smart_count} fichier",1:"Vous pouvez seulement tÃ©lÃ©verser %{smart_count} fichiers"},youHaveToAtLeastSelectX:{0:"Vous devez sÃ©lectionner au moins %{smart_count} fichier",1:"Vous devez sÃ©lectionner au moins %{smart_count} fichiers"}};typeof Uppy<"u"&&(globalThis.Uppy.locales.fr_FR=xa);const Ua={strings:{},pluralize(n){return n===1?0:1}};Ua.strings={addBulkFilesFailed:{0:"Toevoegen van %{smart_count} bestand mislukt door een interne fout",1:"Toevoegen van %{smart_count} bestanden mislukt door interne fouten"},addingMoreFiles:"Bezig met extra bestanden toe te voegen",addMore:"Meer toevoegen",addMoreFiles:"Extra bestanden toevoegen",allFilesFromFolderNamed:"Alle bestanden uit de map %{name}",allowAccessDescription:"Geef toestemming om foto's of videobeelden te kunnen maken.",allowAccessTitle:"Geef toestemming om je camera te gebruiken",allowAudioAccessDescription:"Om geluidsopnamen te maken moet U toestemming geven voor deze website",allowAudioAccessTitle:"Geef toestemming om uw microfoon te gebruiken",aspectRatioLandscape:"Landschap knippen (16:9)",aspectRatioPortrait:"Portret knippen (9:16)",aspectRatioSquare:"Vierkant knippen",authAborted:"Authenticatie geannuleerd",authenticateWith:"Verbinden met %{pluginName}",authenticateWithTitle:"Verbind met %{pluginName} om bestanden te selecteren",back:"Terug",browse:"blader",browseFiles:"blader",browseFolders:"blader",cancel:"Annuleer",cancelUpload:"Annuleer upload",chooseFiles:"Kies bestanden",closeModal:"Sluit Venster",companionError:"Verbinding met Companion mislukt",companionUnauthorizeHint:"Om toegang te ontnemen voor uw %{provider} account, ga naar %{url}",complete:"Voltooid",compressedX:"%{size} bespaard door het comprimeren van afbeeldingen",compressingImages:"Afbeeldingen aan het comprimeren...",connectedToInternet:"Verbonden met het internet",copyLink:"Kopieer link",copyLinkToClipboardFallback:"Kopieer de onderstaande URL",copyLinkToClipboardSuccess:"Link naar klembord gekopieerd",creatingAssembly:"Upload voorbereiden...",creatingAssemblyFailed:"Transloadit: Kon Assembly niet creÃ«eren",dashboardTitle:"Uppy Dashboard",dashboardWindowTitle:"Uppy Dashboard Venster (Druk escape om te sluiten)",dataUploadedOfTotal:"%{complete} van %{total}",discardRecordedFile:"Verwijder opgenomen bestand",done:"Klaar",dropHereOr:"Sleep hier je bestanden naartoe of %{browse}",dropHint:"Sleep hier je bestanden naartoe",dropPasteBoth:"Sleep hier je bestanden naartoe, plak of %{browse}",dropPasteFiles:"Sleep hier je bestanden naartoe, plak of %{browse}",dropPasteFolders:"Sleep hier je bestanden naartoe, plak of %{browse}",dropPasteImportBoth:"Sleep hier je bestanden naartoe, plak, %{browse} of importeer vanuit",dropPasteImportFiles:"Sleep hier je bestanden naartoe, plak, %{browse} of importeer vanuit",dropPasteImportFolders:"Sleep hier je bestanden naartoe, plak, %{browse} of importeer vanuit",editFile:"Bestand aanpassen",editImage:"Afbeelding aanpassen",editFileWithFilename:"Bestand aanpassen %{file}",editing:"Bezig %{file} aan te passen",emptyFolderAdded:"Er werden geen bestanden toegevoegd uit de lege map",encoding:"Coderen...",enterCorrectUrl:"Ongeldige URL: Zorg dat je een directe link naar een bestand invoert",enterTextToSearch:"Type hier om te zoeken naar plaatjes",enterUrlToImport:"Voeg URL toe om een bestand te importeren",exceedsSize:"%{file} overschrijdt de maximaal toegelaten bestandsgrootte van %{size}",failedToFetch:"Companion kan deze URL niet laden, controleer of de URL correct is",failedToUpload:"Kon %{file} niet uploaden",fileSource:"Bronbestand: %{name}",filesUploadedOfTotal:{0:"%{complete} van %{smart_count} bestand geÃ¼pload",1:"%{complete} van %{smart_count} bestanden geÃ¼pload"},filter:"Filter",finishEditingFile:"Klaar met bestand aan te passen",flipHorizontal:"Flip horizontaal",folderAdded:{0:"%{smart_count} bestand uit %{folder} toegevoegd",1:"%{smart_count} bestanden uit %{folder} toegevoegd"},folderAlreadyAdded:'De map "%{folder}" is al toegevoegd',generatingThumbnails:"Thumbnails genereren...",import:"Importeer",importFiles:"Importeer bestanden van:",importFrom:"Importeer vanuit %{name}",inferiorSize:"Dit bestand is kleiner dat de minimale grootte van %{size}",loading:"Bezig met laden...",logOut:"Uitloggen",micDisabled:"Microfoon toegang geweigerd door de gebruiker",missingRequiredMetaField:"De vereiste metadata ontbreekt",missingRequiredMetaFieldOnFile:"De vereiste metadata ontbreekt voor %{fileName}",missingRequiredMetaFields:{0:"Deze vereiste metadata ontbreekt: %{fields}.",1:"Deze vereiste metadata ontbreekt: %{fields}."},myDevice:"Mijn apparaat",noAudioDescription:"Om audio op te nemen, sluit een microfoon of andere geluidsinput aan",noAudioTitle:"Microfoon niet beschikbaar",noCameraDescription:"Om foto's en/of video op te nemen, sluit een camera aan",noCameraTitle:"Camera niet beschikbaar",noDuplicates:"Kan het dubbele bestand '%{fileName}' niet toevoegen, deze bestaat al",noFilesFound:"Geen bestanden of mappen gevonden",noInternetConnection:"Geen internetverbinding",noMoreFilesAllowed:"Meer bestanden kunnen niet worden toegevoegd",openFolderNamed:"Open map %{name}",pause:"Pauze",paused:"Gepauzeerd",pauseUpload:"Pauzeer upload",poweredBy:"Mogelijk gemaakt door %{uppy}",processingXFiles:{0:"Bezig met %{smart_count} bestand te verwerken",1:"Bezig met %{smart_count} bestanden te verwerken"},recording:"Aan het opnemen",recordingLength:"Opnameduur %{recording_length}",recordingStoppedMaxSize:"Opname gestopt omdat de bestandsgrootte de limiet bijna overschrijdt",recoveredAllFiles:"Alle bestanden zijn herstel. U kunt doorgaan me de upload.",recoveredXFiles:{0:"We konden 1 bestand niet herstellen. Kies het bestand opnieuw en vervolg de upload",1:"We konden %{smart_count} bestanden niet herstellen. Kies de bestanden opnieuw en vervolg de upload."},removeFile:"Verwijder bestand %{file}",reSelect:"Opnieuw selecteren",resetFilter:"Filter resetten",resume:"Hervatten",resumeUpload:"Upload hervatten",retry:"Opnieuw",retryUpload:"Upload opnieuw",revert:"Terugdraaien",rotate:"Draai",save:"Opslaan",saveChanges:"Wijzigingen opslaan",search:"Zoek",searchImages:"Zoek naar plaatjes",selectFileNamed:"Selecteer bestand %{name}",selectX:{0:"Selecteer %{smart_count}",1:"Selecteer %{smart_count}"},sessionRestored:"Sessie hersteld",showErrorDetails:"Laat fout details zien",signInWithGoogle:"Inloggen met Google",smile:"Lach!",startAudioRecording:"Start audio-opname",startCapturing:"Start scherm-opname",startRecording:"Start video-opname",stopAudioRecording:"Stop audio-opname",stopCapturing:"Stop scherm-opname",stopRecording:"Stop video-opname",streamActive:"Stream actief",streamPassive:"Stream passief",submitRecordedFile:"Stuur opgenomen bestand",takePicture:"Neem een foto",timedOut:"Upload al gedurende %{seconds} seconden vastgelopen, bezig afbreken upload.",unselectFileNamed:"Deselecteer bestand %{name}",upload:"Upload",uploadComplete:"Upload voltooid",uploadFailed:"Upload mislukt",uploading:"Bezig met uploaden",uploadingXFiles:{0:"Bezig met %{smart_count} bestand te uploaden",1:"Bezig met %{smart_count} bestanden te uploaden"},uploadPaused:"Upload gepauzeerd",uploadXFiles:{0:"Upload %{smart_count} bestand",1:"Upload %{smart_count} bestanden"},uploadXNewFiles:{0:"Upload +%{smart_count} bestand",1:"Upload +%{smart_count} bestanden"},xFilesSelected:{0:"%{smart_count} bestand geselecteerd",1:"%{smart_count} bestanden geselecteerd"},xMoreFilesAdded:{0:"%{smart_count} extra bestand toegevoegd",1:"%{smart_count} extra bestanden toegevoegd"},xTimeLeft:"%{time} over",youCanOnlyUploadFileTypes:"Je kan enkel volgende types uploaden: %{types}",youCanOnlyUploadX:{0:"Je kan slechts %{smart_count} bestand uploaden",1:"Je kan slechts %{smart_count} bestanden uploaden"},youHaveToAtLeastSelectX:{0:"Je moet minstens %{smart_count} bestand selecteren",1:"Je moet minstens %{smart_count} bestanden selecteren"},zoomIn:"Zoom in",zoomOut:"Zoom uit"};typeof Uppy<"u"&&(globalThis.Uppy.locales.nl_NL=Ua);function Vt(n){"@babel/helpers - typeof";return Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(n)}function Ns(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Vd(i.key),i)}}function qd(n,e,t){return e&&Ns(n.prototype,e),t&&Ns(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Vd(n){var e=Wd(n,"string");return Vt(e)=="symbol"?e:e+""}function Wd(n,e){if(Vt(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Vt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gd(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Kd(n,e,t){return e=gn(e),Xd(n,qr()?Reflect.construct(e,t||[],gn(n).constructor):e.apply(n,t))}function Xd(n,e){if(e&&(Vt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yd(n)}function Yd(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Qd(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&mn(n,e)}function dr(n){var e=typeof Map=="function"?new Map:void 0;return dr=function(i){if(i===null||!Jd(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return Zd(i,arguments,gn(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),mn(r,i)},dr(n)}function Zd(n,e,t){if(qr())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return t&&mn(r,t.prototype),r}function qr(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qr=function(){return!!n})()}function Jd(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function mn(n,e){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},mn(n,e)}function gn(n){return gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gn(n)}var Kn=function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(Gd(this,e),i=Kd(this,e,[t]),i.originalRequest=s,i.originalResponse=o,i.causingError=r,r!=null&&(t+=", caused by ".concat(r.toString())),s!=null){var a=s.getHeader("X-Request-ID")||"n/a",u=s.getMethod(),c=s.getURL(),p=o?o.getStatus():"n/a",d=o?o.getBody()||"":"n/a";t+=", originated from request (method: ".concat(u,", url: ").concat(c,", response code: ").concat(p,", response text: ").concat(d,", request id: ").concat(a,")")}return i.message=t,i}return Qd(e,n),qd(e)}(dr(Error)),ep=!1;function Qe(n){ep&&console.log(n)}function yn(n){"@babel/helpers - typeof";return yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yn(n)}function tp(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Bs(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ip(i.key),i)}}function np(n,e,t){return e&&Bs(n.prototype,e),t&&Bs(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ip(n){var e=rp(n,"string");return yn(e)=="symbol"?e:e+""}function rp(n,e){if(yn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(yn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var sp=function(){function n(){tp(this,n)}return np(n,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(t){return Promise.resolve([])}},{key:"removeUpload",value:function(t){return Promise.resolve()}},{key:"addUpload",value:function(t,i){return Promise.resolve(null)}}])}();const Oa="3.7.8",op=Oa,Gt=typeof Buffer=="function",Ms=typeof TextDecoder=="function"?new TextDecoder:void 0,zs=typeof TextEncoder=="function"?new TextEncoder:void 0,ap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",rn=Array.prototype.slice.call(ap),Xn=(n=>{let e={};return n.forEach((t,i)=>e[t]=i),e})(rn),lp=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,J=String.fromCharCode.bind(String),Ls=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):n=>new Uint8Array(Array.prototype.slice.call(n,0)),Da=n=>n.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),Ia=n=>n.replace(/[^A-Za-z0-9\+\/]/g,""),Ra=n=>{let e,t,i,r,s="";const o=n.length%3;for(let a=0;a<n.length;){if((t=n.charCodeAt(a++))>255||(i=n.charCodeAt(a++))>255||(r=n.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=t<<16|i<<8|r,s+=rn[e>>18&63]+rn[e>>12&63]+rn[e>>6&63]+rn[e&63]}return o?s.slice(0,o-3)+"===".substring(o):s},Vr=typeof btoa=="function"?n=>btoa(n):Gt?n=>Buffer.from(n,"binary").toString("base64"):Ra,pr=Gt?n=>Buffer.from(n).toString("base64"):n=>{let t=[];for(let i=0,r=n.length;i<r;i+=4096)t.push(J.apply(null,n.subarray(i,i+4096)));return Vr(t.join(""))},ri=(n,e=!1)=>e?Da(pr(n)):pr(n),up=n=>{if(n.length<2){var e=n.charCodeAt(0);return e<128?n:e<2048?J(192|e>>>6)+J(128|e&63):J(224|e>>>12&15)+J(128|e>>>6&63)+J(128|e&63)}else{var e=65536+(n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320);return J(240|e>>>18&7)+J(128|e>>>12&63)+J(128|e>>>6&63)+J(128|e&63)}},cp=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Na=n=>n.replace(cp,up),$s=Gt?n=>Buffer.from(n,"utf8").toString("base64"):zs?n=>pr(zs.encode(n)):n=>Vr(Na(n)),Ct=(n,e=!1)=>e?Da($s(n)):$s(n),js=n=>Ct(n,!0),dp=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,pp=n=>{switch(n.length){case 4:var e=(7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3),t=e-65536;return J((t>>>10)+55296)+J((t&1023)+56320);case 3:return J((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return J((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},Ba=n=>n.replace(dp,pp),Ma=n=>{if(n=n.replace(/\s+/g,""),!lp.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(n.length&3));let e,t,i,r=[];for(let s=0;s<n.length;)e=Xn[n.charAt(s++)]<<18|Xn[n.charAt(s++)]<<12|(t=Xn[n.charAt(s++)])<<6|(i=Xn[n.charAt(s++)]),t===64?r.push(J(e>>16&255)):i===64?r.push(J(e>>16&255,e>>8&255)):r.push(J(e>>16&255,e>>8&255,e&255));return r.join("")},Wr=typeof atob=="function"?n=>atob(Ia(n)):Gt?n=>Buffer.from(n,"base64").toString("binary"):Ma,za=Gt?n=>Ls(Buffer.from(n,"base64")):n=>Ls(Wr(n).split("").map(e=>e.charCodeAt(0))),La=n=>za($a(n)),hp=Gt?n=>Buffer.from(n,"base64").toString("utf8"):Ms?n=>Ms.decode(za(n)):n=>Ba(Wr(n)),$a=n=>Ia(n.replace(/[-_]/g,e=>e=="-"?"+":"/")),hr=n=>hp($a(n)),fp=n=>{if(typeof n!="string")return!1;const e=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},ja=n=>({value:n,enumerable:!1,writable:!0,configurable:!0}),Ha=function(){const n=(e,t)=>Object.defineProperty(String.prototype,e,ja(t));n("fromBase64",function(){return hr(this)}),n("toBase64",function(e){return Ct(this,e)}),n("toBase64URI",function(){return Ct(this,!0)}),n("toBase64URL",function(){return Ct(this,!0)}),n("toUint8Array",function(){return La(this)})},qa=function(){const n=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,ja(t));n("toBase64",function(e){return ri(this,e)}),n("toBase64URI",function(){return ri(this,!0)}),n("toBase64URL",function(){return ri(this,!0)})},mp=()=>{Ha(),qa()},gp={version:Oa,VERSION:op,atob:Wr,atobPolyfill:Ma,btoa:Vr,btoaPolyfill:Ra,fromBase64:hr,toBase64:Ct,encode:Ct,encodeURI:js,encodeURL:js,utob:Na,btou:Ba,decode:hr,isValid:fp,fromUint8Array:ri,toUint8Array:La,extendString:Ha,extendUint8Array:qa,extendBuiltins:mp};var yp=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0};var Gr={},vp=Object.prototype.hasOwnProperty,bp;function Hs(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch{return null}}function qs(n){try{return encodeURIComponent(n)}catch{return null}}function wp(n){for(var e=/([^=?#&]+)=?([^&]*)/g,t={},i;i=e.exec(n);){var r=Hs(i[1]),s=Hs(i[2]);r===null||s===null||r in t||(t[r]=s)}return t}function _p(n,e){e=e||"";var t=[],i,r;typeof e!="string"&&(e="?");for(r in n)if(vp.call(n,r)){if(i=n[r],!i&&(i===null||i===bp||isNaN(i))&&(i=""),r=qs(r),i=qs(i),r===null||i===null)continue;t.push(r+"="+i)}return t.length?e+t.join("&"):""}var p0=Gr.stringify=_p,h0=Gr.parse=wp,Va=yp,Ai=Gr,Sp=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Wa=/[\n\r\t]/g,Fp=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Ga=/:\d+$/,Pp=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,kp=/^[a-zA-Z]:/;function Kr(n){return(n||"").toString().replace(Sp,"")}var fr=[["#","hash"],["?","query"],function(e,t){return Ue(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Vs={hash:1,query:1};function Ka(n){var e;typeof window<"u"?e=window:typeof wt<"u"?e=wt:typeof self<"u"?e=self:e={};var t=e.location||{};n=n||t;var i={},r=typeof n,s;if(n.protocol==="blob:")i=new Oe(unescape(n.pathname),{});else if(r==="string"){i=new Oe(n,{});for(s in Vs)delete i[s]}else if(r==="object"){for(s in n)s in Vs||(i[s]=n[s]);i.slashes===void 0&&(i.slashes=Fp.test(n.href))}return i}function Ue(n){return n==="file:"||n==="ftp:"||n==="http:"||n==="https:"||n==="ws:"||n==="wss:"}function Xa(n,e){n=Kr(n),n=n.replace(Wa,""),e=e||{};var t=Pp.exec(n),i=t[1]?t[1].toLowerCase():"",r=!!t[2],s=!!t[3],o=0,a;return r?s?(a=t[2]+t[3]+t[4],o=t[2].length+t[3].length):(a=t[2]+t[4],o=t[2].length):s?(a=t[3]+t[4],o=t[3].length):a=t[4],i==="file:"?o>=2&&(a=a.slice(2)):Ue(i)?a=t[4]:i?r&&(a=a.slice(2)):o>=2&&Ue(e.protocol)&&(a=t[4]),{protocol:i,slashes:r||Ue(i),slashesCount:o,rest:a}}function Tp(n,e){if(n==="")return e;for(var t=(e||"/").split("/").slice(0,-1).concat(n.split("/")),i=t.length,r=t[i-1],s=!1,o=0;i--;)t[i]==="."?t.splice(i,1):t[i]===".."?(t.splice(i,1),o++):o&&(i===0&&(s=!0),t.splice(i,1),o--);return s&&t.unshift(""),(r==="."||r==="..")&&t.push(""),t.join("/")}function Oe(n,e,t){if(n=Kr(n),n=n.replace(Wa,""),!(this instanceof Oe))return new Oe(n,e,t);var i,r,s,o,a,u,c=fr.slice(),p=typeof e,d=this,g=0;for(p!=="object"&&p!=="string"&&(t=e,e=null),t&&typeof t!="function"&&(t=Ai.parse),e=Ka(e),r=Xa(n||"",e),i=!r.protocol&&!r.slashes,d.slashes=r.slashes||i&&e.slashes,d.protocol=r.protocol||e.protocol||"",n=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||kp.test(n))||!r.slashes&&(r.protocol||r.slashesCount<2||!Ue(d.protocol)))&&(c[3]=[/(.*)/,"pathname"]);g<c.length;g++){if(o=c[g],typeof o=="function"){n=o(n,d);continue}s=o[0],u=o[1],s!==s?d[u]=n:typeof s=="string"?(a=s==="@"?n.lastIndexOf(s):n.indexOf(s),~a&&(typeof o[2]=="number"?(d[u]=n.slice(0,a),n=n.slice(a+o[2])):(d[u]=n.slice(a),n=n.slice(0,a)))):(a=s.exec(n))&&(d[u]=a[1],n=n.slice(0,a.index)),d[u]=d[u]||i&&o[3]&&e[u]||"",o[4]&&(d[u]=d[u].toLowerCase())}t&&(d.query=t(d.query)),i&&e.slashes&&d.pathname.charAt(0)!=="/"&&(d.pathname!==""||e.pathname!=="")&&(d.pathname=Tp(d.pathname,e.pathname)),d.pathname.charAt(0)!=="/"&&Ue(d.protocol)&&(d.pathname="/"+d.pathname),Va(d.port,d.protocol)||(d.host=d.hostname,d.port=""),d.username=d.password="",d.auth&&(a=d.auth.indexOf(":"),~a?(d.username=d.auth.slice(0,a),d.username=encodeURIComponent(decodeURIComponent(d.username)),d.password=d.auth.slice(a+1),d.password=encodeURIComponent(decodeURIComponent(d.password))):d.username=encodeURIComponent(decodeURIComponent(d.auth)),d.auth=d.password?d.username+":"+d.password:d.username),d.origin=d.protocol!=="file:"&&Ue(d.protocol)&&d.host?d.protocol+"//"+d.host:"null",d.href=d.toString()}function Cp(n,e,t){var i=this;switch(n){case"query":typeof e=="string"&&e.length&&(e=(t||Ai.parse)(e)),i[n]=e;break;case"port":i[n]=e,Va(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[n]="");break;case"hostname":i[n]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[n]=e,Ga.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!t;break;case"pathname":case"hash":if(e){var r=n==="pathname"?"/":"#";i[n]=e.charAt(0)!==r?r+e:e}else i[n]=e;break;case"username":case"password":i[n]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(i.username=e.slice(0,s),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=e.slice(s+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(e))}for(var o=0;o<fr.length;o++){var a=fr[o];a[4]&&(i[a[1]]=i[a[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&Ue(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function Ap(n){(!n||typeof n!="function")&&(n=Ai.stringify);var e,t=this,i=t.host,r=t.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var s=r+(t.protocol&&t.slashes||Ue(t.protocol)?"//":"");return t.username?(s+=t.username,t.password&&(s+=":"+t.password),s+="@"):t.password?(s+=":"+t.password,s+="@"):t.protocol!=="file:"&&Ue(t.protocol)&&!i&&t.pathname!=="/"&&(s+="@"),(i[i.length-1]===":"||Ga.test(t.hostname)&&!t.port)&&(i+=":"),s+=i+t.pathname,e=typeof t.query=="object"?n(t.query):t.query,e&&(s+=e.charAt(0)!=="?"?"?"+e:e),t.hash&&(s+=t.hash),s}Oe.prototype={set:Cp,toString:Ap};Oe.extractProtocol=Xa;Oe.location=Ka;Oe.trimLeft=Kr;Oe.qs=Ai;var Ep=Oe;const xp=ze(Ep);function Up(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var e=Math.random()*16|0,t=n==="x"?e:e&3|8;return t.toString(16)})}function mr(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */mr=function(){return e};var n,e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(b,h,m){b[h]=m.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(b,h,m){return Object.defineProperty(b,h,{value:m,enumerable:!0,configurable:!0,writable:!0}),b[h]}try{c({},"")}catch{c=function(m,S,k){return m[S]=k}}function p(b,h,m,S){var k=h&&h.prototype instanceof F?h:F,P=Object.create(k.prototype),N=new De(S||[]);return r(P,"_invoke",{value:ae(b,m,N)}),P}function d(b,h,m){try{return{type:"normal",arg:b.call(h,m)}}catch(S){return{type:"throw",arg:S}}}e.wrap=p;var g="suspendedStart",v="suspendedYield",_="executing",A="completed",w={};function F(){}function T(){}function E(){}var R={};c(R,o,function(){return this});var M=Object.getPrototypeOf,D=M&&M(M(Pe([])));D&&D!==t&&i.call(D,o)&&(R=D);var I=E.prototype=F.prototype=Object.create(R);function q(b){["next","throw","return"].forEach(function(h){c(b,h,function(m){return this._invoke(h,m)})})}function V(b,h){function m(k,P,N,z){var L=d(b[k],b,P);if(L.type!=="throw"){var ee=L.arg,Y=ee.value;return Y&&ft(Y)=="object"&&i.call(Y,"__await")?h.resolve(Y.__await).then(function(te){m("next",te,N,z)},function(te){m("throw",te,N,z)}):h.resolve(Y).then(function(te){ee.value=te,N(ee)},function(te){return m("throw",te,N,z)})}z(L.arg)}var S;r(this,"_invoke",{value:function(P,N){function z(){return new h(function(L,ee){m(P,N,L,ee)})}return S=S?S.then(z,z):z()}})}function ae(b,h,m){var S=g;return function(k,P){if(S===_)throw Error("Generator is already running");if(S===A){if(k==="throw")throw P;return{value:n,done:!0}}for(m.method=k,m.arg=P;;){var N=m.delegate;if(N){var z=W(N,m);if(z){if(z===w)continue;return z}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(S===g)throw S=A,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);S=_;var L=d(b,h,m);if(L.type==="normal"){if(S=m.done?A:v,L.arg===w)continue;return{value:L.arg,done:m.done}}L.type==="throw"&&(S=A,m.method="throw",m.arg=L.arg)}}}function W(b,h){var m=h.method,S=b.iterator[m];if(S===n)return h.delegate=null,m==="throw"&&b.iterator.return&&(h.method="return",h.arg=n,W(b,h),h.method==="throw")||m!=="return"&&(h.method="throw",h.arg=new TypeError("The iterator does not provide a '"+m+"' method")),w;var k=d(S,b.iterator,h.arg);if(k.type==="throw")return h.method="throw",h.arg=k.arg,h.delegate=null,w;var P=k.arg;return P?P.done?(h[b.resultName]=P.value,h.next=b.nextLoc,h.method!=="return"&&(h.method="next",h.arg=n),h.delegate=null,w):P:(h.method="throw",h.arg=new TypeError("iterator result is not an object"),h.delegate=null,w)}function le(b){var h={tryLoc:b[0]};1 in b&&(h.catchLoc=b[1]),2 in b&&(h.finallyLoc=b[2],h.afterLoc=b[3]),this.tryEntries.push(h)}function ye(b){var h=b.completion||{};h.type="normal",delete h.arg,b.completion=h}function De(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(le,this),this.reset(!0)}function Pe(b){if(b||b===""){var h=b[o];if(h)return h.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var m=-1,S=function k(){for(;++m<b.length;)if(i.call(b,m))return k.value=b[m],k.done=!1,k;return k.value=n,k.done=!0,k};return S.next=S}}throw new TypeError(ft(b)+" is not iterable")}return T.prototype=E,r(I,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:T,configurable:!0}),T.displayName=c(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(b){var h=typeof b=="function"&&b.constructor;return!!h&&(h===T||(h.displayName||h.name)==="GeneratorFunction")},e.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,E):(b.__proto__=E,c(b,u,"GeneratorFunction")),b.prototype=Object.create(I),b},e.awrap=function(b){return{__await:b}},q(V.prototype),c(V.prototype,a,function(){return this}),e.AsyncIterator=V,e.async=function(b,h,m,S,k){k===void 0&&(k=Promise);var P=new V(p(b,h,m,S),k);return e.isGeneratorFunction(h)?P:P.next().then(function(N){return N.done?N.value:P.next()})},q(I),c(I,u,"Generator"),c(I,o,function(){return this}),c(I,"toString",function(){return"[object Generator]"}),e.keys=function(b){var h=Object(b),m=[];for(var S in h)m.push(S);return m.reverse(),function k(){for(;m.length;){var P=m.pop();if(P in h)return k.value=P,k.done=!1,k}return k.done=!0,k}},e.values=Pe,De.prototype={constructor:De,reset:function(h){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(ye),!h)for(var m in this)m.charAt(0)==="t"&&i.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=n)},stop:function(){this.done=!0;var h=this.tryEntries[0].completion;if(h.type==="throw")throw h.arg;return this.rval},dispatchException:function(h){if(this.done)throw h;var m=this;function S(ee,Y){return N.type="throw",N.arg=h,m.next=ee,Y&&(m.method="next",m.arg=n),!!Y}for(var k=this.tryEntries.length-1;k>=0;--k){var P=this.tryEntries[k],N=P.completion;if(P.tryLoc==="root")return S("end");if(P.tryLoc<=this.prev){var z=i.call(P,"catchLoc"),L=i.call(P,"finallyLoc");if(z&&L){if(this.prev<P.catchLoc)return S(P.catchLoc,!0);if(this.prev<P.finallyLoc)return S(P.finallyLoc)}else if(z){if(this.prev<P.catchLoc)return S(P.catchLoc,!0)}else{if(!L)throw Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return S(P.finallyLoc)}}}},abrupt:function(h,m){for(var S=this.tryEntries.length-1;S>=0;--S){var k=this.tryEntries[S];if(k.tryLoc<=this.prev&&i.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var P=k;break}}P&&(h==="break"||h==="continue")&&P.tryLoc<=m&&m<=P.finallyLoc&&(P=null);var N=P?P.completion:{};return N.type=h,N.arg=m,P?(this.method="next",this.next=P.finallyLoc,w):this.complete(N)},complete:function(h,m){if(h.type==="throw")throw h.arg;return h.type==="break"||h.type==="continue"?this.next=h.arg:h.type==="return"?(this.rval=this.arg=h.arg,this.method="return",this.next="end"):h.type==="normal"&&m&&(this.next=m),w},finish:function(h){for(var m=this.tryEntries.length-1;m>=0;--m){var S=this.tryEntries[m];if(S.finallyLoc===h)return this.complete(S.completion,S.afterLoc),ye(S),w}},catch:function(h){for(var m=this.tryEntries.length-1;m>=0;--m){var S=this.tryEntries[m];if(S.tryLoc===h){var k=S.completion;if(k.type==="throw"){var P=k.arg;ye(S)}return P}}throw Error("illegal catch attempt")},delegateYield:function(h,m,S){return this.delegate={iterator:Pe(h),resultName:m,nextLoc:S},this.method==="next"&&(this.arg=n),w}},e}function Ws(n,e,t,i,r,s,o){try{var a=n[s](o),u=a.value}catch(c){t(c);return}a.done?e(u):Promise.resolve(u).then(i,r)}function Op(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(u){Ws(s,i,r,o,a,"next",u)}function a(u){Ws(s,i,r,o,a,"throw",u)}o(void 0)})}}function Ya(n,e){return Rp(n)||Ip(n,e)||Qa(n,e)||Dp()}function Dp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ip(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,o,a=[],u=!0,c=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(i=s.call(t)).done)&&(a.push(i.value),a.length!==e);u=!0);}catch(p){c=!0,r=p}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw r}}return a}}function Rp(n){if(Array.isArray(n))return n}function ft(n){"@babel/helpers - typeof";return ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(n)}function Np(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Qa(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(c){throw c},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function Qa(n,e){if(n){if(typeof n=="string")return Gs(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gs(n,e)}}function Gs(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Ks(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function gt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ks(Object(t),!0).forEach(function(i){Bp(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ks(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Bp(n,e,t){return e=Za(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mp(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Xs(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Za(i.key),i)}}function zp(n,e,t){return e&&Xs(n.prototype,e),t&&Xs(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Za(n){var e=Lp(n,"string");return ft(e)=="symbol"?e:e+""}function Lp(n,e){if(ft(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(ft(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var si="tus-v1",oi="ietf-draft-03",sn="ietf-draft-05",$p={endpoint:null,uploadUrl:null,metadata:{},metadataForPartialUploads:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:Ja,chunkSize:Number.POSITIVE_INFINITY,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null,protocol:si},di=function(){function n(e,t){Mp(this,n),"resume"in t&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=t,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return zp(n,[{key:"findPreviousUploads",value:function(){var t=this;return this.options.fingerprint(this.file,this.options).then(function(i){return t._urlStorage.findUploadsByFingerprint(i)})}},{key:"resumeFromPreviousUpload",value:function(t){this.url=t.uploadUrl||null,this._parallelUploadUrls=t.parallelUploadUrls||null,this._urlStorageKey=t.urlStorageKey}},{key:"start",value:function(){var t=this,i=this.file;if(!i){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(![si,oi,sn].includes(this.options.protocol)){this._emitError(new Error("tus: unsupported protocol ".concat(this.options.protocol)));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var r=this.options.retryDelays;if(r!=null&&Object.prototype.toString.call(r)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var s=0,o=["uploadUrl","uploadSize","uploadLengthDeferred"];s<o.length;s++){var a=o[s];if(this.options[a]){this._emitError(new Error("tus: cannot use the ".concat(a," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(i,this.options).then(function(u){return u==null?Qe("No fingerprint was calculated meaning that the upload cannot be stored in the URL storage."):Qe("Calculated fingerprint: ".concat(u)),t._fingerprint=u,t._source?t._source:t.options.fileReader.openFile(i,t.options.chunkSize)}).then(function(u){if(t._source=u,t.options.uploadLengthDeferred)t._size=null;else if(t.options.uploadSize!=null){if(t._size=Number(t.options.uploadSize),Number.isNaN(t._size)){t._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(t._size=t._source.size,t._size==null){t._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}t.options.parallelUploads>1||t._parallelUploadUrls!=null?t._startParallelUpload():t._startSingleUpload()}).catch(function(u){t._emitError(u)})}},{key:"_startParallelUpload",value:function(){var t,i=this,r=this._size,s=0;this._parallelUploads=[];var o=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,a=(t=this.options.parallelUploadBoundaries)!==null&&t!==void 0?t:Hp(this._source.size,o);this._parallelUploadUrls&&a.forEach(function(p,d){p.uploadUrl=i._parallelUploadUrls[d]||null}),this._parallelUploadUrls=new Array(a.length);var u=a.map(function(p,d){var g=0;return i._source.slice(p.start,p.end).then(function(v){var _=v.value;return new Promise(function(A,w){var F=gt(gt({},i.options),{},{uploadUrl:p.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:i.options.metadataForPartialUploads,headers:gt(gt({},i.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:A,onError:w,onProgress:function(R){s=s-g+R,g=R,i._emitProgress(s,r)},onUploadUrlAvailable:function(){i._parallelUploadUrls[d]=T.url,i._parallelUploadUrls.filter(function(R){return!!R}).length===a.length&&i._saveUploadInUrlStorage()}}),T=new n(_,F);T.start(),i._parallelUploads.push(T)})})}),c;Promise.all(u).then(function(){c=i._openRequest("POST",i.options.endpoint),c.setHeader("Upload-Concat","final;".concat(i._parallelUploadUrls.join(" ")));var p=Ys(i.options.metadata);return p!==""&&c.setHeader("Upload-Metadata",p),i._sendRequest(c,null)}).then(function(p){if(!vt(p.getStatus(),200)){i._emitHttpError(c,p,"tus: unexpected response while creating upload");return}var d=p.getHeader("Location");if(d==null){i._emitHttpError(c,p,"tus: invalid or missing Location header");return}i.url=eo(i.options.endpoint,d),Qe("Created upload at ".concat(i.url)),i._emitSuccess(p)}).catch(function(p){i._emitError(p)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,this.url!=null){Qe("Resuming upload from previous URL: ".concat(this.url)),this._resumeUpload();return}if(this.options.uploadUrl!=null){Qe("Resuming upload from provided URL: ".concat(this.options.uploadUrl)),this.url=this.options.uploadUrl,this._resumeUpload();return}Qe("Creating a new upload"),this._createUpload()}},{key:"abort",value:function(t){var i=this;if(this._parallelUploads!=null){var r=Np(this._parallelUploads),s;try{for(r.s();!(s=r.n()).done;){var o=s.value;o.abort(t)}}catch(a){r.e(a)}finally{r.f()}}return this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!t||this.url==null?Promise.resolve():n.terminate(this.url,this.options).then(function(){return i._removeFromUrlStorage()})}},{key:"_emitHttpError",value:function(t,i,r,s){this._emitError(new Kn(r,s,t,i))}},{key:"_emitError",value:function(t){var i=this;if(!this._aborted){if(this.options.retryDelays!=null){var r=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(r&&(this._retryAttempt=0),Js(t,this._retryAttempt,this.options)){var s=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){i.start()},s);return}}if(typeof this.options.onError=="function")this.options.onError(t);else throw t}}},{key:"_emitSuccess",value:function(t){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess({lastResponse:t})}},{key:"_emitProgress",value:function(t,i){typeof this.options.onProgress=="function"&&this.options.onProgress(t,i)}},{key:"_emitChunkComplete",value:function(t,i,r){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(t,i,r)}},{key:"_createUpload",value:function(){var t=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var i=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?i.setHeader("Upload-Defer-Length","1"):i.setHeader("Upload-Length","".concat(this._size));var r=Ys(this.options.metadata);r!==""&&i.setHeader("Upload-Metadata",r);var s;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,s=this._addChunkToRequest(i)):((this.options.protocol===oi||this.options.protocol===sn)&&i.setHeader("Upload-Complete","?0"),s=this._sendRequest(i,null)),s.then(function(o){if(!vt(o.getStatus(),200)){t._emitHttpError(i,o,"tus: unexpected response while creating upload");return}var a=o.getHeader("Location");if(a==null){t._emitHttpError(i,o,"tus: invalid or missing Location header");return}if(t.url=eo(t.options.endpoint,a),Qe("Created upload at ".concat(t.url)),typeof t.options.onUploadUrlAvailable=="function"&&t.options.onUploadUrlAvailable(),t._size===0){t._emitSuccess(o),t._source.close();return}t._saveUploadInUrlStorage().then(function(){t.options.uploadDataDuringCreation?t._handleUploadResponse(i,o):(t._offset=0,t._performUpload())})}).catch(function(o){t._emitHttpError(i,null,"tus: failed to create upload",o)})}},{key:"_resumeUpload",value:function(){var t=this,i=this._openRequest("HEAD",this.url),r=this._sendRequest(i,null);r.then(function(s){var o=s.getStatus();if(!vt(o,200)){if(o===423){t._emitHttpError(i,s,"tus: upload is currently locked; retry later");return}if(vt(o,400)&&t._removeFromUrlStorage(),!t.options.endpoint){t._emitHttpError(i,s,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}t.url=null,t._createUpload();return}var a=Number.parseInt(s.getHeader("Upload-Offset"),10);if(Number.isNaN(a)){t._emitHttpError(i,s,"tus: invalid or missing offset value");return}var u=Number.parseInt(s.getHeader("Upload-Length"),10);if(Number.isNaN(u)&&!t.options.uploadLengthDeferred&&t.options.protocol===si){t._emitHttpError(i,s,"tus: invalid or missing length value");return}typeof t.options.onUploadUrlAvailable=="function"&&t.options.onUploadUrlAvailable(),t._saveUploadInUrlStorage().then(function(){if(a===u){t._emitProgress(u,u),t._emitSuccess(s);return}t._offset=a,t._performUpload()})}).catch(function(s){t._emitHttpError(i,null,"tus: failed to resume upload",s)})}},{key:"_performUpload",value:function(){var t=this;if(!this._aborted){var i;this.options.overridePatchMethod?(i=this._openRequest("POST",this.url),i.setHeader("X-HTTP-Method-Override","PATCH")):i=this._openRequest("PATCH",this.url),i.setHeader("Upload-Offset","".concat(this._offset));var r=this._addChunkToRequest(i);r.then(function(s){if(!vt(s.getStatus(),200)){t._emitHttpError(i,s,"tus: unexpected response while uploading chunk");return}t._handleUploadResponse(i,s)}).catch(function(s){t._aborted||t._emitHttpError(i,null,"tus: failed to upload chunk at offset ".concat(t._offset),s)})}}},{key:"_addChunkToRequest",value:function(t){var i=this,r=this._offset,s=this._offset+this.options.chunkSize;return t.setProgressHandler(function(o){i._emitProgress(r+o,i._size)}),this.options.protocol===si?t.setHeader("Content-Type","application/offset+octet-stream"):this.options.protocol===sn&&t.setHeader("Content-Type","application/partial-upload"),(s===Number.POSITIVE_INFINITY||s>this._size)&&!this.options.uploadLengthDeferred&&(s=this._size),this._source.slice(r,s).then(function(o){var a=o.value,u=o.done,c=a!=null&&a.size?a.size:0;i.options.uploadLengthDeferred&&u&&(i._size=i._offset+c,t.setHeader("Upload-Length","".concat(i._size)));var p=i._offset+c;return!i.options.uploadLengthDeferred&&u&&p!==i._size?Promise.reject(new Error("upload was configured with a size of ".concat(i._size," bytes, but the source is done after ").concat(p," bytes"))):a===null?i._sendRequest(t):((i.options.protocol===oi||i.options.protocol===sn)&&t.setHeader("Upload-Complete",u?"?1":"?0"),i._emitProgress(i._offset,i._size),i._sendRequest(t,a))})}},{key:"_handleUploadResponse",value:function(t,i){var r=Number.parseInt(i.getHeader("Upload-Offset"),10);if(Number.isNaN(r)){this._emitHttpError(t,i,"tus: invalid or missing offset value");return}if(this._emitProgress(r,this._size),this._emitChunkComplete(r-this._offset,r,this._size),this._offset=r,r===this._size){this._emitSuccess(i),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(t,i){var r=Qs(t,i,this.options);return this._req=r,r}},{key:"_removeFromUrlStorage",value:function(){var t=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(i){t._emitError(i)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var t=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var i={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?i.parallelUploadUrls=this._parallelUploadUrls:i.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,i).then(function(r){t._urlStorageKey=r})}},{key:"_sendRequest",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Zs(t,i,this.options)}}],[{key:"terminate",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Qs("DELETE",t,i);return Zs(r,null,i).then(function(s){if(s.getStatus()!==204)throw new Kn("tus: unexpected response while terminating upload",null,r,s)}).catch(function(s){if(s instanceof Kn||(s=new Kn("tus: failed to terminate upload",s,r,null)),!Js(s,0,i))throw s;var o=i.retryDelays[0],a=i.retryDelays.slice(1),u=gt(gt({},i),{},{retryDelays:a});return new Promise(function(c){return setTimeout(c,o)}).then(function(){return n.terminate(t,u)})})}}])}();function Ys(n){return Object.entries(n).map(function(e){var t=Ya(e,2),i=t[0],r=t[1];return"".concat(i," ").concat(gp.encode(String(r)))}).join(",")}function vt(n,e){return n>=e&&n<e+100}function Qs(n,e,t){var i=t.httpStack.createRequest(n,e);t.protocol===oi?i.setHeader("Upload-Draft-Interop-Version","5"):t.protocol===sn?i.setHeader("Upload-Draft-Interop-Version","6"):i.setHeader("Tus-Resumable","1.0.0");for(var r=t.headers||{},s=0,o=Object.entries(r);s<o.length;s++){var a=Ya(o[s],2),u=a[0],c=a[1];i.setHeader(u,c)}if(t.addRequestId){var p=Up();i.setHeader("X-Request-ID",p)}return i}function Zs(n,e,t){return gr.apply(this,arguments)}function gr(){return gr=Op(mr().mark(function n(e,t,i){var r;return mr().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(typeof i.onBeforeRequest!="function"){o.next=3;break}return o.next=3,i.onBeforeRequest(e);case 3:return o.next=5,e.send(t);case 5:if(r=o.sent,typeof i.onAfterResponse!="function"){o.next=9;break}return o.next=9,i.onAfterResponse(e,r);case 9:return o.abrupt("return",r);case 10:case"end":return o.stop()}},n)})),gr.apply(this,arguments)}function jp(){var n=!0;return typeof navigator<"u"&&navigator.onLine===!1&&(n=!1),n}function Js(n,e,t){return t.retryDelays==null||e>=t.retryDelays.length||n.originalRequest==null?!1:t&&typeof t.onShouldRetry=="function"?t.onShouldRetry(n,e,t):Ja(n)}function Ja(n){var e=n.originalResponse?n.originalResponse.getStatus():0;return(!vt(e,400)||e===409||e===423)&&jp()}function eo(n,e){return new xp(e,n).toString()}function Hp(n,e){for(var t=Math.floor(n/e),i=[],r=0;r<e;r++)i.push({start:t*r,end:t*(r+1)});return i[e-1].end=n,i}di.defaultOptions=$p;var el=function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"};function qp(n){return new Promise(function(e,t){var i=new XMLHttpRequest;i.responseType="blob",i.onload=function(){var r=i.response;e(r)},i.onerror=function(r){t(r)},i.open("GET",n),i.send()})}var Vp=function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")};function Wp(n){return new Promise(function(e,t){var i=new FileReader;i.onload=function(){var r=new Uint8Array(i.result);e({value:r})},i.onerror=function(r){t(r)},i.readAsArrayBuffer(n)})}function vn(n){"@babel/helpers - typeof";return vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(n)}function Gp(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function to(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Xp(i.key),i)}}function Kp(n,e,t){return e&&to(n.prototype,e),t&&to(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Xp(n){var e=Yp(n,"string");return vn(e)=="symbol"?e:e+""}function Yp(n,e){if(vn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(vn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var no=function(){function n(e){Gp(this,n),this._file=e,this.size=e.size}return Kp(n,[{key:"slice",value:function(t,i){if(Vp())return Wp(this._file.slice(t,i));var r=this._file.slice(t,i),s=i>=this.size;return Promise.resolve({value:r,done:s})}},{key:"close",value:function(){}}])}();function bn(n){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(n)}function Qp(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function io(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Jp(i.key),i)}}function Zp(n,e,t){return e&&io(n.prototype,e),t&&io(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Jp(n){var e=eh(n,"string");return bn(e)=="symbol"?e:e+""}function eh(n,e){if(bn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(bn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ro(n){return n===void 0?0:n.size!==void 0?n.size:n.length}function th(n,e){if(n.concat)return n.concat(e);if(n instanceof Blob)return new Blob([n,e],{type:n.type});if(n.set){var t=new n.constructor(n.length+e.length);return t.set(n),t.set(e,n.length),t}throw new Error("Unknown data type")}var nh=function(){function n(e){Qp(this,n),this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return Zp(n,[{key:"slice",value:function(t,i){return t<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(t,i)}},{key:"_readUntilEnoughDataOrDone",value:function(t,i){var r=this,s=i<=this._bufferOffset+ro(this._buffer);if(this._done||s){var o=this._getDataFromBuffer(t,i),a=o==null?this._done:!1;return Promise.resolve({value:o,done:a})}return this._reader.read().then(function(u){var c=u.value,p=u.done;return p?r._done=!0:r._buffer===void 0?r._buffer=c:r._buffer=th(r._buffer,c),r._readUntilEnoughDataOrDone(t,i)})}},{key:"_getDataFromBuffer",value:function(t,i){t>this._bufferOffset&&(this._buffer=this._buffer.slice(t-this._bufferOffset),this._bufferOffset=t);var r=ro(this._buffer)===0;return this._done&&r?null:this._buffer.slice(0,i-t)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}])}();function mt(n){"@babel/helpers - typeof";return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(n)}function yr(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */yr=function(){return e};var n,e={},t=Object.prototype,i=t.hasOwnProperty,r=Object.defineProperty||function(b,h,m){b[h]=m.value},s=typeof Symbol=="function"?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function c(b,h,m){return Object.defineProperty(b,h,{value:m,enumerable:!0,configurable:!0,writable:!0}),b[h]}try{c({},"")}catch{c=function(m,S,k){return m[S]=k}}function p(b,h,m,S){var k=h&&h.prototype instanceof F?h:F,P=Object.create(k.prototype),N=new De(S||[]);return r(P,"_invoke",{value:ae(b,m,N)}),P}function d(b,h,m){try{return{type:"normal",arg:b.call(h,m)}}catch(S){return{type:"throw",arg:S}}}e.wrap=p;var g="suspendedStart",v="suspendedYield",_="executing",A="completed",w={};function F(){}function T(){}function E(){}var R={};c(R,o,function(){return this});var M=Object.getPrototypeOf,D=M&&M(M(Pe([])));D&&D!==t&&i.call(D,o)&&(R=D);var I=E.prototype=F.prototype=Object.create(R);function q(b){["next","throw","return"].forEach(function(h){c(b,h,function(m){return this._invoke(h,m)})})}function V(b,h){function m(k,P,N,z){var L=d(b[k],b,P);if(L.type!=="throw"){var ee=L.arg,Y=ee.value;return Y&&mt(Y)=="object"&&i.call(Y,"__await")?h.resolve(Y.__await).then(function(te){m("next",te,N,z)},function(te){m("throw",te,N,z)}):h.resolve(Y).then(function(te){ee.value=te,N(ee)},function(te){return m("throw",te,N,z)})}z(L.arg)}var S;r(this,"_invoke",{value:function(P,N){function z(){return new h(function(L,ee){m(P,N,L,ee)})}return S=S?S.then(z,z):z()}})}function ae(b,h,m){var S=g;return function(k,P){if(S===_)throw Error("Generator is already running");if(S===A){if(k==="throw")throw P;return{value:n,done:!0}}for(m.method=k,m.arg=P;;){var N=m.delegate;if(N){var z=W(N,m);if(z){if(z===w)continue;return z}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(S===g)throw S=A,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);S=_;var L=d(b,h,m);if(L.type==="normal"){if(S=m.done?A:v,L.arg===w)continue;return{value:L.arg,done:m.done}}L.type==="throw"&&(S=A,m.method="throw",m.arg=L.arg)}}}function W(b,h){var m=h.method,S=b.iterator[m];if(S===n)return h.delegate=null,m==="throw"&&b.iterator.return&&(h.method="return",h.arg=n,W(b,h),h.method==="throw")||m!=="return"&&(h.method="throw",h.arg=new TypeError("The iterator does not provide a '"+m+"' method")),w;var k=d(S,b.iterator,h.arg);if(k.type==="throw")return h.method="throw",h.arg=k.arg,h.delegate=null,w;var P=k.arg;return P?P.done?(h[b.resultName]=P.value,h.next=b.nextLoc,h.method!=="return"&&(h.method="next",h.arg=n),h.delegate=null,w):P:(h.method="throw",h.arg=new TypeError("iterator result is not an object"),h.delegate=null,w)}function le(b){var h={tryLoc:b[0]};1 in b&&(h.catchLoc=b[1]),2 in b&&(h.finallyLoc=b[2],h.afterLoc=b[3]),this.tryEntries.push(h)}function ye(b){var h=b.completion||{};h.type="normal",delete h.arg,b.completion=h}function De(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(le,this),this.reset(!0)}function Pe(b){if(b||b===""){var h=b[o];if(h)return h.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var m=-1,S=function k(){for(;++m<b.length;)if(i.call(b,m))return k.value=b[m],k.done=!1,k;return k.value=n,k.done=!0,k};return S.next=S}}throw new TypeError(mt(b)+" is not iterable")}return T.prototype=E,r(I,"constructor",{value:E,configurable:!0}),r(E,"constructor",{value:T,configurable:!0}),T.displayName=c(E,u,"GeneratorFunction"),e.isGeneratorFunction=function(b){var h=typeof b=="function"&&b.constructor;return!!h&&(h===T||(h.displayName||h.name)==="GeneratorFunction")},e.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,E):(b.__proto__=E,c(b,u,"GeneratorFunction")),b.prototype=Object.create(I),b},e.awrap=function(b){return{__await:b}},q(V.prototype),c(V.prototype,a,function(){return this}),e.AsyncIterator=V,e.async=function(b,h,m,S,k){k===void 0&&(k=Promise);var P=new V(p(b,h,m,S),k);return e.isGeneratorFunction(h)?P:P.next().then(function(N){return N.done?N.value:P.next()})},q(I),c(I,u,"Generator"),c(I,o,function(){return this}),c(I,"toString",function(){return"[object Generator]"}),e.keys=function(b){var h=Object(b),m=[];for(var S in h)m.push(S);return m.reverse(),function k(){for(;m.length;){var P=m.pop();if(P in h)return k.value=P,k.done=!1,k}return k.done=!0,k}},e.values=Pe,De.prototype={constructor:De,reset:function(h){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(ye),!h)for(var m in this)m.charAt(0)==="t"&&i.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=n)},stop:function(){this.done=!0;var h=this.tryEntries[0].completion;if(h.type==="throw")throw h.arg;return this.rval},dispatchException:function(h){if(this.done)throw h;var m=this;function S(ee,Y){return N.type="throw",N.arg=h,m.next=ee,Y&&(m.method="next",m.arg=n),!!Y}for(var k=this.tryEntries.length-1;k>=0;--k){var P=this.tryEntries[k],N=P.completion;if(P.tryLoc==="root")return S("end");if(P.tryLoc<=this.prev){var z=i.call(P,"catchLoc"),L=i.call(P,"finallyLoc");if(z&&L){if(this.prev<P.catchLoc)return S(P.catchLoc,!0);if(this.prev<P.finallyLoc)return S(P.finallyLoc)}else if(z){if(this.prev<P.catchLoc)return S(P.catchLoc,!0)}else{if(!L)throw Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return S(P.finallyLoc)}}}},abrupt:function(h,m){for(var S=this.tryEntries.length-1;S>=0;--S){var k=this.tryEntries[S];if(k.tryLoc<=this.prev&&i.call(k,"finallyLoc")&&this.prev<k.finallyLoc){var P=k;break}}P&&(h==="break"||h==="continue")&&P.tryLoc<=m&&m<=P.finallyLoc&&(P=null);var N=P?P.completion:{};return N.type=h,N.arg=m,P?(this.method="next",this.next=P.finallyLoc,w):this.complete(N)},complete:function(h,m){if(h.type==="throw")throw h.arg;return h.type==="break"||h.type==="continue"?this.next=h.arg:h.type==="return"?(this.rval=this.arg=h.arg,this.method="return",this.next="end"):h.type==="normal"&&m&&(this.next=m),w},finish:function(h){for(var m=this.tryEntries.length-1;m>=0;--m){var S=this.tryEntries[m];if(S.finallyLoc===h)return this.complete(S.completion,S.afterLoc),ye(S),w}},catch:function(h){for(var m=this.tryEntries.length-1;m>=0;--m){var S=this.tryEntries[m];if(S.tryLoc===h){var k=S.completion;if(k.type==="throw"){var P=k.arg;ye(S)}return P}}throw Error("illegal catch attempt")},delegateYield:function(h,m,S){return this.delegate={iterator:Pe(h),resultName:m,nextLoc:S},this.method==="next"&&(this.arg=n),w}},e}function so(n,e,t,i,r,s,o){try{var a=n[s](o),u=a.value}catch(c){t(c);return}a.done?e(u):Promise.resolve(u).then(i,r)}function ih(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(u){so(s,i,r,o,a,"next",u)}function a(u){so(s,i,r,o,a,"throw",u)}o(void 0)})}}function rh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oo(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,oh(i.key),i)}}function sh(n,e,t){return e&&oo(n.prototype,e),t&&oo(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function oh(n){var e=ah(n,"string");return mt(e)=="symbol"?e:e+""}function ah(n,e){if(mt(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(mt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lh=function(){function n(){rh(this,n)}return sh(n,[{key:"openFile",value:function(){var e=ih(yr().mark(function i(r,s){var o;return yr().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(el()&&r&&typeof r.uri<"u")){u.next=11;break}return u.prev=1,u.next=4,qp(r.uri);case 4:return o=u.sent,u.abrupt("return",new no(o));case 8:throw u.prev=8,u.t0=u.catch(1),new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(u.t0));case 11:if(!(typeof r.slice=="function"&&typeof r.size<"u")){u.next=13;break}return u.abrupt("return",Promise.resolve(new no(r)));case 13:if(typeof r.read!="function"){u.next=18;break}if(s=Number(s),Number.isFinite(s)){u.next=17;break}return u.abrupt("return",Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option")));case 17:return u.abrupt("return",Promise.resolve(new nh(r,s)));case 18:return u.abrupt("return",Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment")));case 19:case"end":return u.stop()}},i,null,[[1,8]])}));function t(i,r){return e.apply(this,arguments)}return t}()}])}();function uh(n,e){return el()?Promise.resolve(ch(n,e)):Promise.resolve(["tus-br",n.name,n.type,n.size,n.lastModified,e.endpoint].join("-"))}function ch(n,e){var t=n.exif?dh(JSON.stringify(n.exif)):"noexif";return["tus-rn",n.name||"noname",n.size||"nosize",t,e.endpoint].join("/")}function dh(n){var e=0;if(n.length===0)return e;for(var t=0;t<n.length;t++){var i=n.charCodeAt(t);e=(e<<5)-e+i,e&=e}return e}function wn(n){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(n)}function Xr(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ao(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,ph(i.key),i)}}function Yr(n,e,t){return e&&ao(n.prototype,e),t&&ao(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ph(n){var e=hh(n,"string");return wn(e)=="symbol"?e:e+""}function hh(n,e){if(wn(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(wn(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fh=function(){function n(){Xr(this,n)}return Yr(n,[{key:"createRequest",value:function(t,i){return new mh(t,i)}},{key:"getName",value:function(){return"XHRHttpStack"}}])}(),mh=function(){function n(e,t){Xr(this,n),this._xhr=new XMLHttpRequest,this._xhr.open(e,t,!0),this._method=e,this._url=t,this._headers={}}return Yr(n,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(t,i){this._xhr.setRequestHeader(t,i),this._headers[t]=i}},{key:"getHeader",value:function(t){return this._headers[t]}},{key:"setProgressHandler",value:function(t){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(i){i.lengthComputable&&t(i.loaded)})}},{key:"send",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(r,s){t._xhr.onload=function(){r(new gh(t._xhr))},t._xhr.onerror=function(o){s(o)},t._xhr.send(i)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}])}(),gh=function(){function n(e){Xr(this,n),this._xhr=e}return Yr(n,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(t){return this._xhr.getResponseHeader(t)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}])}();function _n(n){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(n)}function yh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lo(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,bh(i.key),i)}}function vh(n,e,t){return e&&lo(n.prototype,e),t&&lo(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function bh(n){var e=wh(n,"string");return _n(e)=="symbol"?e:e+""}function wh(n,e){if(_n(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(_n(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var vr=!1;try{vr="localStorage"in window;var Mi="tusSupport",uo=localStorage.getItem(Mi);localStorage.setItem(Mi,uo),uo===null&&localStorage.removeItem(Mi)}catch(n){if(n.code===n.SECURITY_ERR||n.code===n.QUOTA_EXCEEDED_ERR)vr=!1;else throw n}var _h=vr,Sh=function(){function n(){yh(this,n)}return vh(n,[{key:"findAllUploads",value:function(){var t=this._findEntries("tus::");return Promise.resolve(t)}},{key:"findUploadsByFingerprint",value:function(t){var i=this._findEntries("tus::".concat(t,"::"));return Promise.resolve(i)}},{key:"removeUpload",value:function(t){return localStorage.removeItem(t),Promise.resolve()}},{key:"addUpload",value:function(t,i){var r=Math.round(Math.random()*1e12),s="tus::".concat(t,"::").concat(r);return localStorage.setItem(s,JSON.stringify(i)),Promise.resolve(s)}},{key:"_findEntries",value:function(t){for(var i=[],r=0;r<localStorage.length;r++){var s=localStorage.key(r);if(s.indexOf(t)===0)try{var o=JSON.parse(localStorage.getItem(s));o.urlStorageKey=s,i.push(o)}catch{}}return i}}])}();function Wt(n){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(n)}function Fh(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function co(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,nl(i.key),i)}}function Ph(n,e,t){return e&&co(n.prototype,e),t&&co(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function kh(n,e,t){return e=pi(e),Th(n,tl()?Reflect.construct(e,t||[],pi(n).constructor):e.apply(n,t))}function Th(n,e){if(e&&(Wt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ch(n)}function Ch(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function tl(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tl=function(){return!!n})()}function pi(n){return pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pi(n)}function Ah(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&br(n,e)}function br(n,e){return br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},br(n,e)}function po(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function _t(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?po(Object(t),!0).forEach(function(i){Eh(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):po(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Eh(n,e,t){return e=nl(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function nl(n){var e=xh(n,"string");return Wt(e)=="symbol"?e:e+""}function xh(n,e){if(Wt(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(Wt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var wr=_t(_t({},di.defaultOptions),{},{httpStack:new fh,fileReader:new lh,urlStorage:_h?new Sh:new sp,fingerprint:uh}),Uh=function(n){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Fh(this,e),i=_t(_t({},wr),i),kh(this,e,[t,i])}return Ah(e,n),Ph(e,null,[{key:"terminate",value:function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=_t(_t({},wr),r),di.terminate(i,r)}}])}(di),f0=typeof XMLHttpRequest=="function"&&typeof Blob=="function"&&typeof Blob.prototype.slice=="function",Ce,xn;class Oh{constructor(e){x(this,Ce);x(this,xn,[]);U(this,Ce,e)}on(e,t){return f(this,xn).push([e,t]),f(this,Ce).on(e,t)}remove(){for(const[e,t]of f(this,xn).splice(0))f(this,Ce).off(e,t)}onFilePause(e,t){this.on("upload-pause",(i,r)=>{e===(i==null?void 0:i.id)&&t(r)})}onFileRemove(e,t){this.on("file-removed",i=>{e===i.id&&t(i.id)})}onPause(e,t){this.on("upload-pause",(i,r)=>{e===(i==null?void 0:i.id)&&t(r)})}onRetry(e,t){this.on("upload-retry",i=>{e===(i==null?void 0:i.id)&&t()})}onRetryAll(e,t){this.on("retry-all",()=>{f(this,Ce).getFile(e)&&t()})}onPauseAll(e,t){this.on("pause-all",()=>{f(this,Ce).getFile(e)&&t()})}onCancelAll(e,t){this.on("cancel-all",(...i)=>{f(this,Ce).getFile(e)&&t(...i)})}onResumeAll(e,t){this.on("resume-all",()=>{f(this,Ce).getFile(e)&&t()})}}Ce=new WeakMap,xn=new WeakMap;class Dh extends Error{constructor(t,i=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");y(this,"cause");y(this,"isNetworkError");y(this,"request");this.cause=t,this.isNetworkError=!0,this.request=i}}function Ih(n){return n?n.readyState!==0&&n.readyState!==4||n.status===0:!1}function Rh(n){return new Error("Cancelled",{cause:n})}function ho(n){var e;if(n!=null){const t=()=>this.abort(n.reason);n.addEventListener("abort",t,{once:!0});const i=()=>{n.removeEventListener("abort",t)};(e=this.then)==null||e.call(this,i,i)}return this}var Ie,Ae,Re,Ot,Ee,Dt,at,ie,_r,on,il,rl,sl,vi,It;class Nh{constructor(e){x(this,ie);x(this,Ie,0);x(this,Ae,[]);x(this,Re,!1);x(this,Ot);x(this,Ee,1);x(this,Dt);x(this,at);y(this,"limit");x(this,vi,()=>this.resume());x(this,It,()=>{if(f(this,Re)){U(this,at,setTimeout(f(this,It),0));return}U(this,Ee,this.limit),this.limit=Math.ceil((f(this,Dt)+f(this,Ee))/2);for(let e=f(this,Ee);e<=this.limit;e++)C(this,ie,on).call(this);f(this,Dt)-f(this,Ee)>3?U(this,at,setTimeout(f(this,It),2e3)):U(this,Ee,Math.floor(f(this,Ee)/2))});typeof e!="number"||e===0?this.limit=1/0:this.limit=e}run(e,t){return!f(this,Re)&&f(this,Ie)<this.limit?C(this,ie,_r).call(this,e):C(this,ie,rl).call(this,e,t)}wrapSyncFunction(e,t){return(...i)=>{const r=this.run(()=>(e(...i),queueMicrotask(()=>r.done()),()=>{}),t);return{abortOn:ho,abort(){r.abort()}}}}wrapPromiseFunction(e,t){return(...i)=>{let r;const s=new Promise((o,a)=>{r=this.run(()=>{let u,c;try{c=Promise.resolve(e(...i))}catch(p){c=Promise.reject(p)}return c.then(p=>{u?a(u):(r.done(),o(p))},p=>{u?a(u):(r.done(),a(p))}),p=>{u=Rh(p)}},t)});return s.abort=o=>{r.abort(o)},s.abortOn=ho,s}}resume(){U(this,Re,!1),clearTimeout(f(this,Ot));for(let e=0;e<this.limit;e++)C(this,ie,on).call(this)}pause(e=null){U(this,Re,!0),clearTimeout(f(this,Ot)),e!=null&&U(this,Ot,setTimeout(f(this,vi),e))}rateLimit(e){clearTimeout(f(this,at)),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(U(this,Dt,this.limit-1),this.limit=f(this,Ee),U(this,at,setTimeout(f(this,It),e)))}get isPaused(){return f(this,Re)}}Ie=new WeakMap,Ae=new WeakMap,Re=new WeakMap,Ot=new WeakMap,Ee=new WeakMap,Dt=new WeakMap,at=new WeakMap,ie=new WeakSet,_r=function(e){U(this,Ie,f(this,Ie)+1);let t=!1,i;try{i=e()}catch(r){throw U(this,Ie,f(this,Ie)-1),r}return{abort:r=>{t||(t=!0,U(this,Ie,f(this,Ie)-1),i==null||i(r),C(this,ie,on).call(this))},done:()=>{t||(t=!0,U(this,Ie,f(this,Ie)-1),C(this,ie,on).call(this))}}},on=function(){queueMicrotask(()=>C(this,ie,il).call(this))},il=function(){if(f(this,Re)||f(this,Ie)>=this.limit||f(this,Ae).length===0)return;const e=f(this,Ae).shift();if(e==null)throw new Error("Invariant violation: next is null");const t=C(this,ie,_r).call(this,e.fn);e.abort=t.abort,e.done=t.done},rl=function(e,t){const i={fn:e,priority:(t==null?void 0:t.priority)||0,abort:()=>{C(this,ie,sl).call(this,i)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},r=f(this,Ae).findIndex(s=>i.priority>s.priority);return r===-1?f(this,Ae).push(i):f(this,Ae).splice(r,0,i),i},sl=function(e){const t=f(this,Ae).indexOf(e);t!==-1&&f(this,Ae).splice(t,1)},vi=new WeakMap,It=new WeakMap;const m0=Symbol("__queue");function zi(n,e){return Object.hasOwn(n,e)}function Bh(n){const e=t=>"error"in t&&!!t.error;return n.filter(t=>!e(t))}function Mh(n){return n.filter(e=>{var t;return!((t=e.progress)!=null&&t.uploadStarted)||!e.isRestored})}function zh(n,e){return n===!0?Object.keys(e):Array.isArray(n)?n:[]}function Lh(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")}function $h(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}function jh(n){return(e,t)=>{if(Lh()||$h())return wr.fingerprint(e,t);const i=["tus",n.id,t.endpoint].join("-");return Promise.resolve(i)}}function nt(n,e){if(!{}.hasOwnProperty.call(n,e))throw new TypeError("attempted to use private field on non-instance");return n}var Hh=0;function Ln(n){return"__private_"+Hh+++"_"+n}const qh={version:"4.2.2"},ol={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,excludeFile:n=>!1},Vh={limit:20,retryDelays:ol.retryDelays,withCredentials:!1,allowedMetaFields:!0};var dn=Ln("retryDelayIterator"),Sr=Ln("uploadLocalFile"),Fr=Ln("getCompanionClientArgs"),Li=Ln("uploadFiles"),Zt=Ln("handleUpload");class Wh extends Wo{constructor(e,t){var i,r;if(super(e,{...Vh,...t}),Object.defineProperty(this,Li,{value:Xh}),Object.defineProperty(this,Fr,{value:Kh}),Object.defineProperty(this,Sr,{value:Gh}),Object.defineProperty(this,dn,{writable:!0,value:void 0}),Object.defineProperty(this,Zt,{writable:!0,value:async s=>{if(s.length===0){this.uppy.log("[Tus] No files to upload");return}this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] handle excluded files..."),s.filter(c=>{const p=this.uppy.getFile(c);return this.opts.excludeFile(p)}).forEach(c=>{const p=this.uppy.getFile(c);this.uppy.emit("upload-started",p),this.uppy.emit("upload-success",p,{uploadURL:null})}),this.uppy.log("[Tus] handle included files...");const a=s.filter(c=>{const p=this.uppy.getFile(c);return!this.opts.excludeFile(p)});this.uppy.log("[Tus] Uploading...");const u=this.uppy.getFilesByIds(a);await nt(this,Li)[Li](u)}}),this.type="uploader",this.id=this.opts.id||"Tus",(t==null?void 0:t.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in t)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=(i=this.opts.rateLimitedQueue)!=null?i:new Nh(this.opts.limit),nt(this,dn)[dn]=(r=this.opts.retryDelays)==null?void 0:r.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}resetUploaderReferences(e,t){const i=this.uploaders[e];i&&(i.abort(),t!=null&&t.abort&&i.abort(!0),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null)}onReceiveUploadUrl(e,t){const i=this.uppy.getFile(e.id);i&&(!i.tus||i.tus.uploadUrl!==t)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(i.id,{tus:{...i.tus,uploadUrl:t}}))}install(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!0}}),this.uppy.addUploader(nt(this,Zt)[Zt])}uninstall(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!1}}),this.uppy.removeUploader(nt(this,Zt)[Zt])}}function Gh(n){return this.resetUploaderReferences(n.id),new Promise((e,t)=>{let i,r,s;const o={...this.opts,...n.tus||{}};typeof o.headers=="function"&&(o.headers=o.headers(n));const{onShouldRetry:a,onBeforeRequest:u,...c}=o,p={...ol,...c};p.fingerprint=jh(n),p.onBeforeRequest=async w=>{const F=w.getUnderlyingObject();F.withCredentials=!!o.withCredentials;let T;if(typeof u=="function"&&(T=u(w,n)),zi(i,"shouldBeRequeued")){if(!i.shouldBeRequeued)return Promise.reject();let E;const R=new Promise(M=>{E=M});i=this.requests.run(()=>(n.isPaused&&i.abort(),E(),()=>{})),await Promise.all([R,T]);return}return T},p.onError=w=>{var F;this.uppy.log(w);const T=w.originalRequest!=null?w.originalRequest.getUnderlyingObject():null;Ih(T)&&(w=new Dh(w,T)),this.resetUploaderReferences(n.id),(F=i)==null||F.abort(),typeof o.onError=="function"&&o.onError(w),t(w)},p.onProgress=(w,F)=>{var T;this.onReceiveUploadUrl(n,s.url),typeof o.onProgress=="function"&&o.onProgress(w,F);const E=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",E,{uploadStarted:(T=E.progress.uploadStarted)!=null?T:0,bytesUploaded:w,bytesTotal:F})},p.onSuccess=w=>{var F;const T={uploadURL:(F=s.url)!=null?F:void 0,status:200,body:{xhr:w.lastResponse.getUnderlyingObject()}};if(this.uppy.emit("upload-success",this.uppy.getFile(n.id),T),this.resetUploaderReferences(n.id),i.done(),s.url){const{name:E}=s.file;this.uppy.log(`Download ${E} from ${s.url}`)}typeof o.onSuccess=="function"&&o.onSuccess(w),e(s)};const d=w=>{var F;const T=w==null||(F=w.originalResponse)==null?void 0:F.getStatus();if(T===429){if(!this.requests.isPaused){var E;const R=(E=nt(this,dn)[dn])==null?void 0:E.next();if(R==null||R.done)return!1;this.requests.rateLimit(R.value)}}else{if(T!=null&&T>=400&&T<500&&T!==409&&T!==423)return!1;typeof navigator<"u"&&navigator.onLine===!1&&(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",()=>{this.requests.resume()},{once:!0})))}return i.abort(),i={shouldBeRequeued:!0,abort(){this.shouldBeRequeued=!1},done(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0};a!=null?p.onShouldRetry=(w,F)=>a(w,F,o,d):p.onShouldRetry=d;const g=(w,F,T)=>{zi(w,F)&&!zi(w,T)&&(w[T]=w[F])},v={};zh(o.allowedMetaFields,n.meta).forEach(w=>{v[w]=String(n.meta[w])}),g(v,"type","filetype"),g(v,"name","filename"),p.metadata=v,s=new Uh(n.data,p),this.uploaders[n.id]=s;const A=new Oh(this.uppy);this.uploaderEvents[n.id]=A,r=()=>(n.isPaused||s.start(),()=>{}),s.findPreviousUploads().then(w=>{const F=w[0];F&&(this.uppy.log(`[Tus] Resuming upload of ${n.id} started at ${F.creationTime}`),s.resumeFromPreviousUpload(F)),i=this.requests.run(r)}),A.onFileRemove(n.id,w=>{i.abort(),this.resetUploaderReferences(n.id,{abort:!!s.url}),e(`upload ${w} was removed`)}),A.onPause(n.id,w=>{i.abort(),w?s.abort():i=this.requests.run(r)}),A.onPauseAll(n.id,()=>{i.abort(),s.abort()}),A.onCancelAll(n.id,()=>{i.abort(),this.resetUploaderReferences(n.id,{abort:!!s.url}),e(`upload ${n.id} was canceled`)}),A.onResumeAll(n.id,()=>{i.abort(),n.error&&s.abort(),i=this.requests.run(r)})}).catch(e=>{throw this.uppy.emit("upload-error",n,e),e})}function Kh(n){var e;const t={...this.opts};return n.tus&&Object.assign(t,n.tus),typeof t.headers=="function"&&(t.headers=t.headers(n)),{...(e=n.remote)==null?void 0:e.body,endpoint:t.endpoint,uploadUrl:t.uploadUrl,protocol:"tus",size:n.data.size,headers:t.headers,metadata:n.meta}}async function Xh(n){const e=Bh(n),t=Mh(e);this.uppy.emit("upload-start",t),await Promise.allSettled(e.map(i=>{if(i.isRemote){const r=()=>this.requests,s=new AbortController,o=u=>{u.id===i.id&&s.abort()};this.uppy.on("file-removed",o);const a=this.uppy.getRequestClientForFile(i).uploadRemoteFile(i,nt(this,Fr)[Fr](i),{signal:s.signal,getQueue:r});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",o)},{priority:-1})(),a}return nt(this,Sr)[Sr](i)}))}Wh.VERSION=qh.version;const Yh=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Qh=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Zh=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Jh=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],fo=(n,e,t)=>{let i=n;return typeof e=="string"||Array.isArray(e)?i=n.toLocaleString(e,t):(e===!0||t!==void 0)&&(i=n.toLocaleString(void 0,t)),i};function al(n,e){if(!Number.isFinite(n))throw new TypeError(`Expected a finite number, got ${typeof n}: ${n}`);e={bits:!1,binary:!1,space:!0,...e};const t=e.bits?e.binary?Jh:Zh:e.binary?Qh:Yh,i=e.space?" ":"";if(e.signed&&n===0)return` 0${i}${t[0]}`;const r=n<0,s=r?"-":e.signed?"+":"";r&&(n=-n);let o;if(e.minimumFractionDigits!==void 0&&(o={minimumFractionDigits:e.minimumFractionDigits}),e.maximumFractionDigits!==void 0&&(o={maximumFractionDigits:e.maximumFractionDigits,...o}),n<1){const p=fo(n,e.locale,o);return s+p+i+t[0]}const a=Math.min(Math.floor(e.binary?Math.log(n)/Math.log(1024):Math.log10(n)/3),t.length-1);n/=(e.binary?1024:1e3)**a,o||(n=n.toPrecision(3));const u=fo(Number(n),e.locale,o),c=t[a];return s+u+i+c}var ef=0,g0=Array.isArray;function l(n,e,t,i,r,s){e||(e={});var o,a,u=e;if("ref"in u)for(a in u={},e)a=="ref"?o=e[a]:u[a]=e[a];var c={type:n,props:u,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ef,__i:-1,__u:0,__source:r,__self:s};if(typeof n=="function"&&(o=n.defaultProps))for(a in o)u[a]===void 0&&(u[a]=o[a]);return B.vnode&&B.vnode(c),c}const tf="@uppy/informer",nf="A notification and error pop-up bar for Uppy.",rf="4.3.2",sf="MIT",of="lib/index.js",af="dist/style.min.css",lf="module",uf={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},cf=["file uploader","uppy","uppy-plugin","notification","bar","ui"],df="https://uppy.io",pf={url:"https://github.com/transloadit/uppy/issues"},hf={type:"git",url:"git+https://github.com/transloadit/uppy.git"},ff=["src","lib","dist","CHANGELOG.md"],mf={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},gf={"@uppy/core":"^4.5.2"},yf={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},vf={name:tf,description:nf,version:rf,license:sf,main:of,style:af,type:lf,scripts:uf,keywords:cf,homepage:df,bugs:pf,repository:hf,files:ff,dependencies:mf,peerDependencies:gf,devDependencies:yf},mo=300;class bf extends ue{constructor(){super(...arguments);y(this,"ref",Fu())}componentWillEnter(t){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(t,mo)}componentWillLeave(t){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(t,mo)}render(){const{children:t}=this.props;return l("div",{className:"uppy-Informer-animated",ref:this.ref,children:t})}}function wf(n,e){return Object.assign(n,e)}function _f(n,e){return(n==null?void 0:n.key)??e}function Sf(n,e){const t=n._ptgLinkedRefs||(n._ptgLinkedRefs={});return t[e]||(t[e]=i=>{n.refs[e]=i})}function Jt(n){const e={};for(let t=0;t<n.length;t++)if(n[t]!=null){const i=_f(n[t],t.toString(36));e[i]=n[t]}return e}function Ff(n,e){n=n||{},e=e||{};const t=o=>Object.hasOwn(e,o)?e[o]:n[o],i={};let r=[];for(const o in n)Object.hasOwn(e,o)?r.length&&(i[o]=r,r=[]):r.push(o);const s={};for(const o in e){if(Object.hasOwn(i,o))for(let a=0;a<i[o].length;a++){const u=i[o][a];s[i[o][a]]=t(u)}s[o]=t(o)}for(let o=0;o<r.length;o++)s[r[o]]=t(r[o]);return s}const Pf=n=>n;class ll extends ue{constructor(e,t){super(e,t),this.refs={},this.state={children:Jt(_e(_e(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const e=this.state.children;for(const t in e)e[t]&&this.performAppear(t)}componentWillReceiveProps(e){const t=Jt(_e(e.children)||[]),i=this.state.children;this.setState(s=>({children:Ff(s.children,t)}));let r;for(r in t)if(Object.hasOwn(t,r)){const s=i&&Object.hasOwn(i,r);t[r]&&s&&this.currentlyTransitioningKeys[r]?(this.keysToEnter.push(r),this.keysToAbortLeave.push(r)):t[r]&&!s&&!this.currentlyTransitioningKeys[r]&&this.keysToEnter.push(r)}for(r in i)if(Object.hasOwn(i,r)){const s=t&&Object.hasOwn(t,r);i[r]&&!s&&!this.currentlyTransitioningKeys[r]&&this.keysToLeave.push(r)}}componentDidUpdate(){const{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);const{keysToLeave:t}=this;this.keysToLeave=[],t.forEach(this.performLeave)}_finishAbort(e){const t=this.keysToAbortLeave.indexOf(e);t!==-1&&this.keysToAbortLeave.splice(t,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t!=null&&t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){const t=this.refs[e];t!=null&&t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const i=Jt(_e(this.props.children)||[]);(!i||!Object.hasOwn(i,e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;const t=this.refs[e];t!=null&&t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){const t=this.refs[e];t!=null&&t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);const i=Jt(_e(this.props.children)||[]);(!i||!Object.hasOwn(i,e))&&this.performLeave(e)}performLeave(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;this.currentlyTransitioningKeys[e]=!0;const i=this.refs[e];i!=null&&i.componentWillLeave?i.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(this.keysToAbortLeave.indexOf(e)!==-1)return;const i=this.refs[e];i!=null&&i.componentDidLeave&&i.componentDidLeave(),delete this.currentlyTransitioningKeys[e];const r=Jt(_e(this.props.children)||[]);if(r&&Object.hasOwn(r,e))this.performEnter(e);else{const s=wf({},this.state.children);delete s[e],this.setState({children:s})}}render({childFactory:e,transitionLeave:t,transitionName:i,transitionAppear:r,transitionEnter:s,transitionLeaveTimeout:o,transitionEnterTimeout:a,transitionAppearTimeout:u,component:c,...p},{children:d}){const g=Object.entries(d).map(([v,_])=>{if(!_)return;const A=Sf(this,v);return oa(e(_),{ref:A,key:v})}).filter(Boolean);return Fe(c,p,g)}}ll.defaultProps={component:"span",childFactory:Pf};class ul extends Me{constructor(t,i){super(t,i);y(this,"render",t=>l("div",{className:"uppy uppy-Informer",children:l(ll,{children:t.info.map(i=>l(bf,{children:l("p",{role:"alert",children:[i.message," ",i.details&&l("span",{"aria-label":i.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${i.message} 

 ${i.details}`),children:"?"})]})},i.message))})}));this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer"}install(){const{target:t}=this.opts;t&&this.mount(t,this)}}y(ul,"VERSION",vf.version);function kf(){return l("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg",children:l("g",{fill:"none","fill-rule":"evenodd",children:[l("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),l("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),l("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),l("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),l("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),l("path",{d:"M4 4h18v18H4z"})]})})}function Tf({pluginName:n,i18n:e,onAuth:t}){const i=n==="Google Drive",r=jr(s=>{s.preventDefault(),t()},[t]);return l("form",{onSubmit:r,children:i?l("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google","data-uppy-super-focusable":!0,children:[l(kf,{}),e("signInWithGoogle")]}):l("button",{type:"submit",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn","data-uppy-super-focusable":!0,children:e("authenticateWith",{pluginName:n})})})}const Cf=({pluginName:n,i18n:e,onAuth:t})=>l(Tf,{pluginName:n,i18n:e,onAuth:t});function Af({loading:n,pluginName:e,pluginIcon:t,i18n:i,handleAuth:r,renderForm:s=Cf}){return l("div",{className:"uppy-Provider-auth",children:[l("div",{className:"uppy-Provider-authIcon",children:t()}),l("div",{className:"uppy-Provider-authTitle",children:i("authenticateWithTitle",{pluginName:e})}),s({pluginName:e,i18n:i,loading:n,onAuth:r})]})}function cl(n){return{...n,type:n.mimeType,extension:n.name?Hr(n.name).extension:null}}var Qr={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var y0=Qr.exports;(function(n){(function(){"use strict";var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=r(s,i(a)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=r(o,a));return o}function r(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Qr);var Ef=Qr.exports;const re=ze(Ef),xf="@uppy/provider-views",Uf="View library for Uppy remote provider plugins.",Of="4.5.3",Df="MIT",If="lib/index.js",Rf="dist/style.min.css",Nf="module",Bf={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Mf=["file uploader","uppy"],zf="https://uppy.io",Lf={url:"https://github.com/transloadit/uppy/issues"},$f={type:"git",url:"git+https://github.com/transloadit/uppy.git"},jf=["src","lib","dist","CHANGELOG.md"],Hf={"@uppy/utils":"^6.2.2",classnames:"^2.2.6",nanoid:"^5.0.9","p-queue":"^8.0.0",preact:"^10.5.13"},qf={"@types/gapi":"^0.0.47","@types/google.accounts":"^0.0.14","@types/google.picker":"^0.0.42",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},Vf={"@uppy/core":"^4.5.3"},dl={name:xf,description:Uf,version:Of,license:Df,main:If,style:Rf,type:Nf,scripts:Bf,keywords:Mf,homepage:zf,bugs:Lf,repository:$f,files:jf,dependencies:Hf,devDependencies:qf,peerDependencies:Vf},Wf={position:"relative",width:"100%",minHeight:"100%"},Gf={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};class pl extends ue{constructor(t){super(t);y(this,"handleScroll",()=>{this.setState({offset:this.base.scrollTop})});y(this,"handleResize",()=>{this.resize()});this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){var t;(t=this.focusElement)!=null&&t.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){const{height:t}=this.state;t!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render({data:t,rowHeight:i,renderRow:r,overscanCount:s=10,...o}){const{offset:a,height:u}=this.state;let c=Math.floor(a/i),p=Math.floor(u/i);s&&(c=Math.max(0,c-c%s),p+=s);const d=c+p+4,g=t.slice(c,d),v={...Wf,height:t.length*i},_={...Gf,top:c*i};return l("div",{onScroll:this.handleScroll,...o,children:l("div",{role:"presentation",style:v,children:l("div",{role:"presentation",style:_,children:g.map(r)})})})}}function Kf(){return l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58",children:l("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"})})}function Xf(){return l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157",children:l("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"})})}function Yf(){return l("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58",children:[l("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),l("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"})]})}function Pr({itemIconString:n,alt:e=void 0}){if(n===null)return null;switch(n){case"file":return l(Kf,{});case"folder":return l(Xf,{});case"video":return l(Yf,{});default:return l("img",{src:n,alt:e,referrerPolicy:"no-referrer",loading:"lazy",width:16,height:16})}}function go({file:n,toggleCheckbox:e,className:t,isDisabled:i,restrictionError:r,showTitles:s,children:o=null,i18n:a}){return l("li",{className:t,title:i&&r?r:void 0,children:[l("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox uppy-ProviderBrowserItem-checkbox--grid",onChange:e,name:"listitem",id:n.id,checked:n.status==="checked",disabled:i,"data-uppy-super-focusable":!0}),l("label",{htmlFor:n.id,"aria-label":n.data.name??a("unnamed"),className:"uppy-u-reset uppy-ProviderBrowserItem-inner",children:[l(Pr,{itemIconString:n.data.thumbnail||n.data.icon}),s&&(n.data.name??a("unnamed")),o]})]})}function Qf({file:n,openFolder:e,className:t,isDisabled:i,restrictionError:r,toggleCheckbox:s,showTitles:o,i18n:a}){return l("li",{className:t,title:n.status!=="checked"&&r?r:void 0,children:[l("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox",onChange:s,name:"listitem",id:n.id,checked:n.status==="checked","aria-label":n.data.isFolder?a("allFilesFromFolderNamed",{name:n.data.name??a("unnamed")}):null,disabled:i,"data-uppy-super-focusable":!0}),n.data.isFolder?l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:()=>e(n.id),"aria-label":a("openFolderNamed",{name:n.data.name??a("unnamed")}),children:[l("div",{className:"uppy-ProviderBrowserItem-iconWrap",children:l(Pr,{itemIconString:n.data.icon})}),o&&n.data.name?l("span",{children:n.data.name}):a("unnamed")]}):l("label",{htmlFor:n.id,className:"uppy-u-reset uppy-ProviderBrowserItem-inner",children:[l("div",{className:"uppy-ProviderBrowserItem-iconWrap",children:l(Pr,{itemIconString:n.data.icon})}),o&&(n.data.name??a("unnamed"))]})]})}function Zf(n){const{viewType:e,toggleCheckbox:t,showTitles:i,i18n:r,openFolder:s,file:o,utmSource:a}=n,u=o.type==="folder"?null:o.restrictionError,c=!!u&&o.status!=="checked",p={file:o,openFolder:s,toggleCheckbox:t,utmSource:a,i18n:r,viewType:e,showTitles:i,className:re("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--disabled":c},{"uppy-ProviderBrowserItem--noPreview":o.data.icon==="video"},{"uppy-ProviderBrowserItem--is-checked":o.status==="checked"},{"uppy-ProviderBrowserItem--is-partial":o.status==="partial"}),isDisabled:c,restrictionError:u};switch(e){case"grid":return l(go,{...p});case"list":return l(Qf,{...p});case"unsplash":return l(go,{...p,children:l("a",{href:`${o.data.author.url}?utm_source=${a}&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author",tabIndex:-1,children:o.data.author.name})});default:throw new Error(`There is no such type ${e}`)}}function hl(n){const{displayedPartialTree:e,viewType:t,toggleCheckbox:i,handleScroll:r,showTitles:s,i18n:o,isLoading:a,openFolder:u,noResultsLabel:c,virtualList:p,utmSource:d}=n,[g,v]=We(!1);if(Ge(()=>{const A=F=>{F.key==="Shift"&&v(!1)},w=F=>{F.key==="Shift"&&v(!0)};return document.addEventListener("keyup",A),document.addEventListener("keydown",w),()=>{document.removeEventListener("keyup",A),document.removeEventListener("keydown",w)}},[]),a)return l("div",{className:"uppy-Provider-loading",children:typeof a=="string"?a:o("loading")});if(e.length===0)return l("div",{className:"uppy-Provider-empty",children:c});const _=A=>l(Zf,{viewType:t,toggleCheckbox:w=>{var F;w.stopPropagation(),w.preventDefault(),(F=document.getSelection())==null||F.removeAllRanges(),i(A,g)},showTitles:s,i18n:o,openFolder:u,file:A,utmSource:d},A.id);return p?l("div",{className:"uppy-ProviderBrowser-body",children:l(pl,{className:"uppy-ProviderBrowser-list",data:e,renderRow:_,rowHeight:35.5})}):l("div",{className:"uppy-ProviderBrowser-body",children:l("ul",{className:"uppy-ProviderBrowser-list",onScroll:r,tabIndex:-1,children:e.map(_)})})}const fl=n=>n.filter(t=>t.type==="file"&&t.status==="checked"?!0:t.type==="folder"&&t.status==="checked"?!n.some(r=>r.type!=="root"&&r.parentId===t.id):!1).length;function ml({cancelSelection:n,donePicking:e,i18n:t,partialTree:i,validateAggregateRestrictions:r}){const s=ht(()=>r(i),[i,r]),o=ht(()=>fl(i),[i]);return o===0?null:l("div",{className:"uppy-ProviderBrowser-footer",children:[l("div",{className:"uppy-ProviderBrowser-footer-buttons",children:[l("button",{className:re("uppy-u-reset uppy-c-btn uppy-c-btn-primary",{"uppy-c-btn--disabled":s}),disabled:!!s,onClick:e,type:"button",children:t("selectX",{smart_count:o})}),l("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:n,type:"button",children:t("cancel")})]}),s&&l("div",{className:"uppy-ProviderBrowser-footer-error",children:s})]})}function kr({searchString:n,setSearchString:e,submitSearchString:t,wrapperClassName:i,inputClassName:r,inputLabel:s,clearSearchLabel:o="",showButton:a=!1,buttonLabel:u="",buttonCSSClassName:c=""}){const p=v=>{e(v.target.value)},d=jr(v=>{v.preventDefault(),t()},[t]),[g]=We(()=>{const v=document.createElement("form");return v.setAttribute("tabindex","-1"),v.id=Ci(),v});return Ge(()=>(document.body.appendChild(g),g.addEventListener("submit",d),()=>{g.removeEventListener("submit",d),document.body.removeChild(g)}),[g,d]),l("section",{className:i,children:[l("input",{className:`uppy-u-reset ${r}`,type:"search","aria-label":s,placeholder:s,value:n,onInput:p,form:g.id,"data-uppy-super-focusable":!0}),!a&&l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-searchFilterIcon",width:"12",height:"12",viewBox:"0 0 12 12",children:l("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})}),!a&&n&&l("button",{className:"uppy-u-reset uppy-ProviderBrowser-searchFilterReset",type:"button","aria-label":o,title:o,onClick:()=>e(""),children:l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19",children:l("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"})})}),a&&l("button",{className:`uppy-u-reset uppy-c-btn uppy-c-btn-primary ${c}`,type:"submit",form:g.id,children:u})]})}const Jf=(n,e,t)=>{var r,s;return{id:n.id,source:e.id,name:n.name||n.id,type:n.mimeType,isRemote:!0,data:n,preview:n.thumbnail||void 0,meta:{authorName:(r=n.author)==null?void 0:r.name,authorUrl:(s=n.author)==null?void 0:s.url,relativePath:n.relDirPath||null,absolutePath:n.absDirPath},body:{fileId:n.id},remote:{companionUrl:e.opts.companionUrl,url:`${t.fileUrl(n.requestPath)}`,body:{fileId:n.id},providerName:t.name,provider:t.provider,requestClientId:t.provider}}},gl=(n,e,t)=>{const i=n.map(o=>Jf(o,e,t)),r=[],s=[];i.forEach(o=>{e.uppy.checkIfFileAlreadyExists(ya(o,e.uppy.getID()))?s.push(o):r.push(o)}),r.length>0&&e.uppy.info(e.uppy.i18n("addedNumFiles",{numFiles:r.length})),s.length>0&&e.uppy.info(`Not adding ${s.length} files because they already exist`),e.uppy.addFiles(r)},yl=(n,e,t,i)=>{const r=e.findIndex(s=>s.id===i);if(r!==-1&&t){const s=e.findIndex(a=>a.id===n);return e.slice(Math.min(r,s),Math.max(r,s)+1).map(a=>a.id)}return[n]},et=n=>e=>{if(!e.isAuthError){if(e.name==="AbortError"){n.log("Aborting request","warning");return}n.log(e,"error"),e.name==="UserFacingApiError"&&n.info({message:n.i18n("companionError"),details:n.i18n(e.message)},"warning",5e3)}},em=(n,e)=>{let t=n.find(r=>r.id===e),i=[];for(;i=[t,...i],t.type!=="root";){const r=t.parentId;t=n.find(s=>s.id===r)}return i},vl=(n,e,t)=>{const i=e===null?"null":e;if(t[i])return t[i];const r=n.find(o=>o.id===e);if(r.type==="root")return[];const s=[...vl(n,r.parentId,t),r];return t[i]=s,s},bl=n=>{const e=Object.create(null);return n.filter(r=>r.type==="file"&&r.status==="checked").map(r=>{const s=vl(n,r.id,e),o=s.findIndex(p=>p.type==="folder"&&p.status==="checked"),a=s.slice(o),u=`/${s.map(p=>p.data.name).join("/")}`,c=a.length===1?void 0:a.map(p=>p.data.name).join("/");return{...r.data,absDirPath:u,relDirPath:c}})};var Zr={exports:{}},v0=Zr.exports;(function(n){"use strict";var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(u,c,p){this.fn=u,this.context=c,this.once=p||!1}function s(u,c,p,d,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new r(p,d||u,g),_=t?t+c:c;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],v]:u._events[_].push(v):(u._events[_]=v,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new i:delete u._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],p,d;if(this._eventsCount===0)return c;for(d in p=this._events)e.call(p,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(p)):c},a.prototype.listeners=function(c){var p=t?t+c:c,d=this._events[p];if(!d)return[];if(d.fn)return[d.fn];for(var g=0,v=d.length,_=new Array(v);g<v;g++)_[g]=d[g].fn;return _},a.prototype.listenerCount=function(c){var p=t?t+c:c,d=this._events[p];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,p,d,g,v,_){var A=t?t+c:c;if(!this._events[A])return!1;var w=this._events[A],F=arguments.length,T,E;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),F){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,d),!0;case 4:return w.fn.call(w.context,p,d,g),!0;case 5:return w.fn.call(w.context,p,d,g,v),!0;case 6:return w.fn.call(w.context,p,d,g,v,_),!0}for(E=1,T=new Array(F-1);E<F;E++)T[E-1]=arguments[E];w.fn.apply(w.context,T)}else{var R=w.length,M;for(E=0;E<R;E++)switch(w[E].once&&this.removeListener(c,w[E].fn,void 0,!0),F){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,p);break;case 3:w[E].fn.call(w[E].context,p,d);break;case 4:w[E].fn.call(w[E].context,p,d,g);break;default:if(!T)for(M=1,T=new Array(F-1);M<F;M++)T[M-1]=arguments[M];w[E].fn.apply(w[E].context,T)}}return!0},a.prototype.on=function(c,p,d){return s(this,c,p,d,!1)},a.prototype.once=function(c,p,d){return s(this,c,p,d,!0)},a.prototype.removeListener=function(c,p,d,g){var v=t?t+c:c;if(!this._events[v])return this;if(!p)return o(this,v),this;var _=this._events[v];if(_.fn)_.fn===p&&(!g||_.once)&&(!d||_.context===d)&&o(this,v);else{for(var A=0,w=[],F=_.length;A<F;A++)(_[A].fn!==p||g&&!_[A].once||d&&_[A].context!==d)&&w.push(_[A]);w.length?this._events[v]=w.length===1?w[0]:w:o(this,v)}return this},a.prototype.removeAllListeners=function(c){var p;return c?(p=t?t+c:c,this._events[p]&&o(this,p)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(Zr);var tm=Zr.exports;const nm=ze(tm);class wl extends Error{constructor(e){super(e),this.name="TimeoutError"}}class im extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const yo=n=>globalThis.DOMException===void 0?new im(n):new DOMException(n),vo=n=>{const e=n.reason===void 0?yo("This operation was aborted."):n.reason;return e instanceof Error?e:yo(e)};function rm(n,e){const{milliseconds:t,fallback:i,message:r,customTimers:s={setTimeout,clearTimeout}}=e;let o,a;const c=new Promise((p,d)=>{if(typeof t!="number"||Math.sign(t)!==1)throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(e.signal){const{signal:v}=e;v.aborted&&d(vo(v)),a=()=>{d(vo(v))},v.addEventListener("abort",a,{once:!0})}if(t===Number.POSITIVE_INFINITY){n.then(p,d);return}const g=new wl;o=s.setTimeout.call(void 0,()=>{if(i){try{p(i())}catch(v){d(v)}return}typeof n.cancel=="function"&&n.cancel(),r===!1?p():r instanceof Error?d(r):(g.message=r??`Promise timed out after ${t} milliseconds`,d(g))},t),(async()=>{try{p(await n)}catch(v){d(v)}})()}).finally(()=>{c.clear(),a&&e.signal&&e.signal.removeEventListener("abort",a)});return c.clear=()=>{s.clearTimeout.call(void 0,o),o=void 0},c}function sm(n,e,t){let i=0,r=n.length;for(;r>0;){const s=Math.trunc(r/2);let o=i+s;t(n[o],e)<=0?(i=++o,r-=s+1):r=s}return i}var he;class om{constructor(){x(this,he,[])}enqueue(e,t){t={priority:0,...t};const i={priority:t.priority,id:t.id,run:e};if(this.size===0||f(this,he)[this.size-1].priority>=t.priority){f(this,he).push(i);return}const r=sm(f(this,he),i,(s,o)=>o.priority-s.priority);f(this,he).splice(r,0,i)}setPriority(e,t){const i=f(this,he).findIndex(s=>s.id===e);if(i===-1)throw new ReferenceError(`No promise function with the id "${e}" exists in the queue.`);const[r]=f(this,he).splice(i,1);this.enqueue(r.run,{priority:t,id:e})}dequeue(){const e=f(this,he).shift();return e==null?void 0:e.run}filter(e){return f(this,he).filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return f(this,he).length}}he=new WeakMap;var Rt,Nt,$e,Un,Bt,On,fe,Mt,oe,Dn,me,zt,Ne,In,bi,$,_l,Sl,Fl,Pl,kl,ai,Tr,Cr,li,Tl,ui;class am extends nm{constructor(t){var i,r;super();x(this,$);x(this,Rt);x(this,Nt);x(this,$e,0);x(this,Un);x(this,Bt);x(this,On,0);x(this,fe);x(this,Mt);x(this,oe);x(this,Dn);x(this,me,0);x(this,zt);x(this,Ne);x(this,In);x(this,bi,1n);y(this,"timeout");if(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:om,...t},!(typeof t.intervalCap=="number"&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${((i=t.intervalCap)==null?void 0:i.toString())??""}\` (${typeof t.intervalCap})`);if(t.interval===void 0||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${((r=t.interval)==null?void 0:r.toString())??""}\` (${typeof t.interval})`);U(this,Rt,t.carryoverConcurrencyCount),U(this,Nt,t.intervalCap===Number.POSITIVE_INFINITY||t.interval===0),U(this,Un,t.intervalCap),U(this,Bt,t.interval),U(this,oe,new t.queueClass),U(this,Dn,t.queueClass),this.concurrency=t.concurrency,this.timeout=t.timeout,U(this,In,t.throwOnTimeout===!0),U(this,Ne,t.autoStart===!1)}get concurrency(){return f(this,zt)}set concurrency(t){if(!(typeof t=="number"&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);U(this,zt,t),C(this,$,li).call(this)}setPriority(t,i){f(this,oe).setPriority(t,i)}async add(t,i={}){return i.id??(i.id=(Yt(this,bi)._++).toString()),i={timeout:this.timeout,throwOnTimeout:f(this,In),...i},new Promise((r,s)=>{f(this,oe).enqueue(async()=>{var o;Yt(this,me)._++;try{(o=i.signal)==null||o.throwIfAborted(),Yt(this,$e)._++;let a=t({signal:i.signal});i.timeout&&(a=rm(Promise.resolve(a),{milliseconds:i.timeout})),i.signal&&(a=Promise.race([a,C(this,$,Tl).call(this,i.signal)]));const u=await a;r(u),this.emit("completed",u)}catch(a){if(a instanceof wl&&!i.throwOnTimeout){r();return}s(a),this.emit("error",a)}finally{C(this,$,Fl).call(this)}},i),this.emit("add"),C(this,$,ai).call(this)})}async addAll(t,i){return Promise.all(t.map(async r=>this.add(r,i)))}start(){return f(this,Ne)?(U(this,Ne,!1),C(this,$,li).call(this),this):this}pause(){U(this,Ne,!0)}clear(){U(this,oe,new(f(this,Dn)))}async onEmpty(){f(this,oe).size!==0&&await C(this,$,ui).call(this,"empty")}async onSizeLessThan(t){f(this,oe).size<t||await C(this,$,ui).call(this,"next",()=>f(this,oe).size<t)}async onIdle(){f(this,me)===0&&f(this,oe).size===0||await C(this,$,ui).call(this,"idle")}get size(){return f(this,oe).size}sizeBy(t){return f(this,oe).filter(t).length}get pending(){return f(this,me)}get isPaused(){return f(this,Ne)}}Rt=new WeakMap,Nt=new WeakMap,$e=new WeakMap,Un=new WeakMap,Bt=new WeakMap,On=new WeakMap,fe=new WeakMap,Mt=new WeakMap,oe=new WeakMap,Dn=new WeakMap,me=new WeakMap,zt=new WeakMap,Ne=new WeakMap,In=new WeakMap,bi=new WeakMap,$=new WeakSet,_l=function(){return f(this,Nt)||f(this,$e)<f(this,Un)},Sl=function(){return f(this,me)<f(this,zt)},Fl=function(){Yt(this,me)._--,C(this,$,ai).call(this),this.emit("next")},Pl=function(){C(this,$,Cr).call(this),C(this,$,Tr).call(this),U(this,Mt,void 0)},kl=function(){const t=Date.now();if(f(this,fe)===void 0){const i=f(this,On)-t;if(i<0)U(this,$e,f(this,Rt)?f(this,me):0);else return f(this,Mt)===void 0&&U(this,Mt,setTimeout(()=>{C(this,$,Pl).call(this)},i)),!0}return!1},ai=function(){if(f(this,oe).size===0)return f(this,fe)&&clearInterval(f(this,fe)),U(this,fe,void 0),this.emit("empty"),f(this,me)===0&&this.emit("idle"),!1;if(!f(this,Ne)){const t=!f(this,$,kl);if(f(this,$,_l)&&f(this,$,Sl)){const i=f(this,oe).dequeue();return i?(this.emit("active"),i(),t&&C(this,$,Tr).call(this),!0):!1}}return!1},Tr=function(){f(this,Nt)||f(this,fe)!==void 0||(U(this,fe,setInterval(()=>{C(this,$,Cr).call(this)},f(this,Bt))),U(this,On,Date.now()+f(this,Bt)))},Cr=function(){f(this,$e)===0&&f(this,me)===0&&f(this,fe)&&(clearInterval(f(this,fe)),U(this,fe,void 0)),U(this,$e,f(this,Rt)?f(this,me):0),C(this,$,li).call(this)},li=function(){for(;C(this,$,ai).call(this););},Tl=async function(t){return new Promise((i,r)=>{t.addEventListener("abort",()=>{r(t.reason)},{once:!0})})},ui=async function(t,i){return new Promise(r=>{const s=()=>{i&&!i()||(this.off(t,s),r())};this.on(t,s)})};const Cl=n=>n.map(e=>({...e})),Al=async(n,e,t,i,r)=>{let s=[],o=t.cached?t.nextPagePath:t.id;for(;o;){const d=await i(o);s=s.concat(d.items),o=d.nextPagePath}const a=s.filter(d=>d.isFolder===!0),u=s.filter(d=>d.isFolder===!1),c=a.map(d=>({type:"folder",id:d.requestPath,cached:!1,nextPagePath:null,status:"checked",parentId:t.id,data:d})),p=u.map(d=>{const g=r(d);return{type:"file",id:d.requestPath,restrictionError:g,status:g?"unchecked":"checked",parentId:t.id,data:d}});t.cached=!0,t.nextPagePath=null,e.push(...p,...c),c.forEach(async d=>{n.add(()=>Al(n,e,d,i,r))})},lm=async(n,e,t,i)=>{const r=new am({concurrency:6}),s=Cl(n);return s.filter(a=>a.type==="folder"&&a.status==="checked"&&(a.cached===!1||a.nextPagePath)).forEach(a=>{r.add(()=>Al(r,s,a,e,t))}),r.on("completed",()=>{const a=s.filter(u=>u.type==="file"&&u.status==="checked").length;i(a)}),await r.onIdle(),s},um=(n,e,t,i,r)=>{const s=e.filter(v=>v.isFolder===!0),o=e.filter(v=>v.isFolder===!1),a=t.type==="folder"&&t.status==="checked",u=s.map(v=>({type:"folder",id:v.requestPath,cached:!1,nextPagePath:null,status:a?"checked":"unchecked",parentId:t.id,data:v})),c=o.map(v=>{const _=r(v);return{type:"file",id:v.requestPath,restrictionError:_,status:a&&!_?"checked":"unchecked",parentId:t.id,data:v}}),p={...t,cached:!0,nextPagePath:i};return[...n.map(v=>v.id===p.id?p:v),...u,...c]},cm=(n,e,t,i,r)=>{const s=n.find(_=>_.id===e),o=t.filter(_=>_.isFolder===!0),a=t.filter(_=>_.isFolder===!1),u={...s,nextPagePath:i},c=n.map(_=>_.id===u.id?u:_),p=u.type==="folder"&&u.status==="checked",d=o.map(_=>({type:"folder",id:_.requestPath,cached:!1,nextPagePath:null,status:p?"checked":"unchecked",parentId:u.id,data:_})),g=a.map(_=>{const A=r(_);return{type:"file",id:_.requestPath,restrictionError:A,status:p&&!A?"checked":"unchecked",parentId:u.id,data:_}});return[...c,...d,...g]},Ar=(n,e,t)=>{n.filter(r=>r.type!=="root"&&r.parentId===e).forEach(r=>{r.status=t&&!(r.type==="file"&&r.restrictionError)?"checked":"unchecked",Ar(n,r.id,t)})},Er=(n,e)=>{const t=n.find(o=>o.id===e);if(t.type==="root")return;const i=n.filter(o=>o.type!=="root"&&o.parentId===t.id&&!(o.type==="file"&&o.restrictionError)),r=i.every(o=>o.status==="checked"),s=i.every(o=>o.status==="unchecked");r?t.status="checked":s?t.status="unchecked":t.status="partial",Er(n,t.parentId)},dm=(n,e)=>{const t=Cl(n);if(e.length>=2){const i=t.filter(r=>r.type!=="root"&&e.includes(r.id));i.forEach(r=>{r.type==="file"?r.status=r.restrictionError?"unchecked":"checked":r.status="checked"}),i.forEach(r=>{Ar(t,r.id,!0)}),Er(t,i[0].parentId)}else{const i=t.find(r=>r.id===e[0]);i.status=i.status==="checked"?"unchecked":"checked",Ar(t,i.id,i.status==="checked"),Er(t,i.parentId)}return t},an={afterOpenFolder:um,afterScrollFolder:cm,afterToggleCheckbox:dm,afterFill:lm},El=n=>{const{scrollHeight:e,scrollTop:t,offsetHeight:i}=n.target;return e-(t+i)<50};function pm(n){const{openFolder:e,title:t,breadcrumbsIcon:i,breadcrumbs:r,i18n:s}=n;return l("div",{className:"uppy-Provider-breadcrumbs",children:[l("div",{className:"uppy-Provider-breadcrumbsIcon",children:i}),r.map((o,a)=>l(ne,{children:[l("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:()=>e(o.id),children:o.type==="root"?t:o.data.name??s("unnamed")},o.id),r.length===a+1?"":" / "]}))]})}function hm({i18n:n,logout:e,username:t}){return l(ne,{children:[t&&l("span",{className:"uppy-ProviderBrowser-user",children:t},"username"),l("button",{type:"button",onClick:e,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",children:n("logOut")},"logout")]})}function fm(n){var e;return l("div",{className:"uppy-ProviderBrowser-header",children:l("div",{className:re("uppy-ProviderBrowser-headerBar",!n.showBreadcrumbs&&"uppy-ProviderBrowser-headerBar--simple"),children:[n.showBreadcrumbs&&l(pm,{openFolder:n.openFolder,breadcrumbs:n.breadcrumbs,breadcrumbsIcon:(e=n.pluginIcon)==null?void 0:e.call(n),title:n.title,i18n:n.i18n}),l(hm,{logout:n.logout,username:n.username,i18n:n.i18n})]})})}function xl(){return l("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:l("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}const bo=n=>({authenticated:void 0,partialTree:[{type:"root",id:n,cached:!1,nextPagePath:null}],currentFolderId:n,searchString:"",didFirstRender:!1,username:null,loading:!1});var Lt,je,bt;class mm{constructor(e,t){x(this,je);y(this,"plugin");y(this,"provider");y(this,"opts");y(this,"isHandlingScroll",!1);y(this,"lastCheckbox",null);x(this,Lt);y(this,"validateSingleFile",e=>{const t=cl(e);return this.plugin.uppy.validateSingleFile(t)});y(this,"getDisplayedPartialTree",()=>{const{partialTree:e,currentFolderId:t,searchString:i}=this.plugin.getPluginState(),r=e.filter(o=>o.type!=="root"&&o.parentId===t);return i===""?r:r.filter(o=>(o.data.name??this.plugin.uppy.i18n("unnamed")).toLowerCase().indexOf(i.toLowerCase())!==-1)});y(this,"getBreadcrumbs",()=>{const{partialTree:e,currentFolderId:t}=this.plugin.getPluginState();return em(e,t)});y(this,"getSelectedAmount",()=>{const{partialTree:e}=this.plugin.getPluginState();return fl(e)});y(this,"validateAggregateRestrictions",e=>{const i=e.filter(r=>r.type==="file"&&r.status==="checked").map(r=>r.data);return this.plugin.uppy.validateAggregateRestrictions(i)});this.plugin=e,this.provider=t.provider;const i={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,loadAllFiles:!1,virtualList:!1};this.opts={...i,...t},this.openFolder=this.openFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.resetPluginState=this.resetPluginState.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.cancelSelection=this.cancelSelection.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.resetPluginState(),this.plugin.uppy.on("dashboard:close-panel",this.resetPluginState),this.plugin.uppy.registerRequestClient(this.provider.provider,this.provider)}resetPluginState(){this.plugin.setPluginState(bo(this.plugin.rootFolderId))}tearDown(){}setLoading(e){this.plugin.setPluginState({loading:e})}cancelSelection(){const{partialTree:e}=this.plugin.getPluginState(),t=e.map(i=>i.type==="root"?i:{...i,status:"unchecked"});this.plugin.setPluginState({partialTree:t})}async openFolder(e){this.lastCheckbox=null;const{partialTree:t}=this.plugin.getPluginState(),i=t.find(r=>r.id===e);if(i.cached){this.plugin.setPluginState({currentFolderId:e,searchString:""});return}this.setLoading(!0),await C(this,je,bt).call(this,async r=>{let s=e,o=[];do{const{username:u,nextPagePath:c,items:p}=await this.provider.list(s,{signal:r});this.plugin.setPluginState({username:u}),s=c,o=o.concat(p),this.setLoading(this.plugin.uppy.i18n("loadedXFiles",{numFiles:o.length}))}while(this.opts.loadAllFiles&&s);const a=an.afterOpenFolder(t,o,i,s,this.validateSingleFile);this.plugin.setPluginState({partialTree:a,currentFolderId:e,searchString:""})}).catch(et(this.plugin.uppy)),this.setLoading(!1)}async logout(){await C(this,je,bt).call(this,async e=>{const t=await this.provider.logout({signal:e});if(t.ok){if(!t.revoked){const i=this.plugin.uppy.i18n("companionUnauthorizeHint",{provider:this.plugin.title,url:t.manual_revoke_url});this.plugin.uppy.info(i,"info",7e3)}this.plugin.setPluginState({...bo(this.plugin.rootFolderId),authenticated:!1})}}).catch(et(this.plugin.uppy))}async handleAuth(e){await C(this,je,bt).call(this,async t=>{this.setLoading(!0),await this.provider.login({authFormData:e,signal:t}),this.plugin.setPluginState({authenticated:!0}),await Promise.all([this.provider.fetchPreAuthToken(),this.openFolder(this.plugin.rootFolderId)])}).catch(et(this.plugin.uppy)),this.setLoading(!1)}async handleScroll(e){const{partialTree:t,currentFolderId:i}=this.plugin.getPluginState(),r=t.find(s=>s.id===i);El(e)&&!this.isHandlingScroll&&r.nextPagePath&&(this.isHandlingScroll=!0,await C(this,je,bt).call(this,async s=>{const{nextPagePath:o,items:a}=await this.provider.list(r.nextPagePath,{signal:s}),u=an.afterScrollFolder(t,i,a,o,this.validateSingleFile);this.plugin.setPluginState({partialTree:u})}).catch(et(this.plugin.uppy)),this.isHandlingScroll=!1)}async donePicking(){const{partialTree:e}=this.plugin.getPluginState();this.setLoading(!0),await C(this,je,bt).call(this,async t=>{const i=await an.afterFill(e,o=>this.provider.list(o,{signal:t}),this.validateSingleFile,o=>{this.setLoading(this.plugin.uppy.i18n("addedNumFiles",{numFiles:o}))});if(this.validateAggregateRestrictions(i)){this.plugin.setPluginState({partialTree:i});return}const s=bl(i);gl(s,this.plugin,this.provider),this.resetPluginState()}).catch(et(this.plugin.uppy)),this.setLoading(!1)}toggleCheckbox(e,t){const{partialTree:i}=this.plugin.getPluginState(),r=yl(e.id,this.getDisplayedPartialTree(),t,this.lastCheckbox),s=an.afterToggleCheckbox(i,r);this.plugin.setPluginState({partialTree:s}),this.lastCheckbox=e.id}render(e,t={}){const{didFirstRender:i}=this.plugin.getPluginState(),{i18n:r}=this.plugin.uppy;i||(this.plugin.setPluginState({didFirstRender:!0}),this.provider.fetchPreAuthToken(),this.openFolder(this.plugin.rootFolderId));const s={...this.opts,...t},{authenticated:o,loading:a}=this.plugin.getPluginState(),u=this.plugin.icon||xl;if(o===!1)return l(Af,{pluginName:this.plugin.title,pluginIcon:u,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,renderForm:s.renderAuthForm,loading:a});const{partialTree:c,username:p,searchString:d}=this.plugin.getPluginState(),g=this.getBreadcrumbs();return l("div",{className:re("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${s.viewType}`),children:[l(fm,{showBreadcrumbs:s.showBreadcrumbs,openFolder:this.openFolder,breadcrumbs:g,pluginIcon:u,title:this.plugin.title,logout:this.logout,username:p,i18n:r}),s.showFilter&&l(kr,{searchString:d,setSearchString:v=>{this.plugin.setPluginState({searchString:v})},submitSearchString:()=>{},inputLabel:r("filter"),clearSearchLabel:r("resetFilter"),wrapperClassName:"uppy-ProviderBrowser-searchFilter",inputClassName:"uppy-ProviderBrowser-searchFilterInput"}),l(hl,{toggleCheckbox:this.toggleCheckbox,displayedPartialTree:this.getDisplayedPartialTree(),openFolder:this.openFolder,virtualList:s.virtualList,noResultsLabel:r("noFilesFound"),handleScroll:this.handleScroll,viewType:s.viewType,showTitles:s.showTitles,i18n:this.plugin.uppy.i18n,isLoading:a,utmSource:"Companion"}),l(ml,{partialTree:c,donePicking:this.donePicking,cancelSelection:this.cancelSelection,i18n:r,validateAggregateRestrictions:this.validateAggregateRestrictions})]})}}Lt=new WeakMap,je=new WeakSet,bt=async function(e){var r;(r=f(this,Lt))==null||r.abort();const t=new AbortController;U(this,Lt,t);const i=()=>{t.abort()};try{this.plugin.uppy.on("dashboard:close-panel",i),this.plugin.uppy.on("cancel-all",i),await e(t.signal)}finally{this.plugin.uppy.off("dashboard:close-panel",i),this.plugin.uppy.off("cancel-all",i),U(this,Lt,void 0)}},y(mm,"VERSION",dl.version);const gm={loading:!1,searchString:"",partialTree:[{type:"root",id:null,cached:!1,nextPagePath:null}],currentFolderId:null,isInputMode:!0},ym={viewType:"grid",showTitles:!0,showFilter:!0,utmSource:"Companion"};class vm{constructor(e,t){y(this,"plugin");y(this,"provider");y(this,"opts");y(this,"isHandlingScroll",!1);y(this,"lastCheckbox",null);y(this,"validateSingleFile",e=>{const t=cl(e);return this.plugin.uppy.validateSingleFile(t)});y(this,"getDisplayedPartialTree",()=>{const{partialTree:e}=this.plugin.getPluginState();return e.filter(t=>t.type!=="root")});y(this,"setSearchString",e=>{this.plugin.setPluginState({searchString:e}),e===""&&this.plugin.setPluginState({partialTree:[]})});y(this,"validateAggregateRestrictions",e=>{const i=e.filter(r=>r.type==="file"&&r.status==="checked").map(r=>r.data);return this.plugin.uppy.validateAggregateRestrictions(i)});this.plugin=e,this.provider=t.provider,this.opts={...ym,...t},this.setSearchString=this.setSearchString.bind(this),this.search=this.search.bind(this),this.resetPluginState=this.resetPluginState.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.cancelSelection=this.cancelSelection.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.render=this.render.bind(this),this.resetPluginState(),this.plugin.uppy.on("dashboard:close-panel",this.resetPluginState),this.plugin.uppy.registerRequestClient(this.provider.provider,this.provider)}tearDown(){}setLoading(e){this.plugin.setPluginState({loading:e})}resetPluginState(){this.plugin.setPluginState(gm)}cancelSelection(){const{partialTree:e}=this.plugin.getPluginState(),t=e.map(i=>i.type==="root"?i:{...i,status:"unchecked"});this.plugin.setPluginState({partialTree:t})}async search(){const{searchString:e}=this.plugin.getPluginState();if(e!==""){this.setLoading(!0);try{const t=await this.provider.search(e),i=[{type:"root",id:null,cached:!1,nextPagePath:t.nextPageQuery},...t.items.map(r=>({type:"file",id:r.requestPath,status:"unchecked",parentId:null,data:r}))];this.plugin.setPluginState({partialTree:i,isInputMode:!1})}catch(t){et(this.plugin.uppy)(t)}this.setLoading(!1)}}async handleScroll(e){const{partialTree:t,searchString:i}=this.plugin.getPluginState(),r=t.find(s=>s.type==="root");if(El(e)&&!this.isHandlingScroll&&r.nextPagePath){this.isHandlingScroll=!0;try{const s=await this.provider.search(i,r.nextPagePath),o={...r,nextPagePath:s.nextPageQuery},a=t.filter(c=>c.type!=="root"),u=[o,...a,...s.items.map(c=>({type:"file",id:c.requestPath,status:"unchecked",parentId:null,data:c}))];this.plugin.setPluginState({partialTree:u})}catch(s){et(this.plugin.uppy)(s)}this.isHandlingScroll=!1}}async donePicking(){const{partialTree:e}=this.plugin.getPluginState(),t=bl(e);gl(t,this.plugin,this.provider),this.resetPluginState()}toggleCheckbox(e,t){const{partialTree:i}=this.plugin.getPluginState(),r=yl(e.id,this.getDisplayedPartialTree(),t,this.lastCheckbox),s=an.afterToggleCheckbox(i,r);this.plugin.setPluginState({partialTree:s}),this.lastCheckbox=e.id}render(e,t={}){const{isInputMode:i,searchString:r,loading:s,partialTree:o}=this.plugin.getPluginState(),{i18n:a}=this.plugin.uppy,u={...this.opts,...t};return i?l(kr,{searchString:r,setSearchString:this.setSearchString,submitSearchString:this.search,inputLabel:a("enterTextToSearch"),buttonLabel:a("searchImages"),wrapperClassName:"uppy-SearchProvider",inputClassName:"uppy-c-textInput uppy-SearchProvider-input",showButton:!0,buttonCSSClassName:"uppy-SearchProvider-searchButton"}):l("div",{className:re("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${u.viewType}`),children:[u.showFilter&&l(kr,{searchString:r,setSearchString:this.setSearchString,submitSearchString:this.search,inputLabel:a("search"),clearSearchLabel:a("resetSearch"),wrapperClassName:"uppy-ProviderBrowser-searchFilter",inputClassName:"uppy-ProviderBrowser-searchFilterInput"}),l(hl,{toggleCheckbox:this.toggleCheckbox,displayedPartialTree:this.getDisplayedPartialTree(),handleScroll:this.handleScroll,openFolder:async()=>{},noResultsLabel:a("noSearchResults"),viewType:u.viewType,showTitles:u.showTitles,isLoading:s,i18n:a,virtualList:!1,utmSource:this.opts.utmSource}),l(ml,{partialTree:o,donePicking:this.donePicking,cancelSelection:this.cancelSelection,i18n:a,validateAggregateRestrictions:this.validateAggregateRestrictions})]})}}y(vm,"VERSION",dl.version);function wo(n,e,t,i){return t===0||n===e?n:i===0?e:n+(e-n)*2**(-i/t)}const bm="@uppy/status-bar",wm="A progress bar for Uppy, with many bells and whistles.",_m="4.2.3",Sm="MIT",Fm="lib/index.js",Pm="dist/style.min.css",km="module",Tm={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},Cm=["file uploader","uppy","uppy-plugin","progress bar","status bar","progress","upload","eta","speed"],Am="https://uppy.io",Em={url:"https://github.com/transloadit/uppy/issues"},xm={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Um=["src","lib","dist","CHANGELOG.md"],Om={"@transloadit/prettier-bytes":"^0.3.4","@uppy/utils":"^6.2.2",classnames:"^2.2.6",preact:"^10.5.13"},Dm={"@uppy/core":"^4.5.2"},Im={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},Rm={name:bm,description:wm,version:_m,license:Sm,main:Fm,style:Pm,type:km,scripts:Tm,keywords:Cm,homepage:Am,bugs:Em,repository:xm,files:Um,dependencies:Om,peerDependencies:Dm,devDependencies:Im},Nm={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},Te={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"};function Bm(n){const e=Math.floor(n/3600)%24,t=Math.floor(n/60)%60,i=Math.floor(n%60);return{hours:e,minutes:t,seconds:i}}function Mm(n){const e=Bm(n),t=e.hours===0?"":`${e.hours}h`,i=e.minutes===0?"":`${e.hours===0?e.minutes:` ${e.minutes.toString(10).padStart(2,"0")}`}m`,r=e.hours!==0?"":`${e.minutes===0?e.seconds:` ${e.seconds.toString(10).padStart(2,"0")}`}s`;return`${t}${i}${r}`}const zm="Â·",_o=()=>` ${zm} `;function Lm(n){const{newFiles:e,isUploadStarted:t,recoveredState:i,i18n:r,uploadState:s,isSomeGhost:o,startUpload:a}=n,u=re("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":s===Te.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),c=e&&t&&!i?r("uploadXNewFiles",{smart_count:e}):r("uploadXFiles",{smart_count:e});return l("button",{type:"button",className:u,"aria-label":r("uploadXFiles",{smart_count:e}),onClick:a,disabled:o,"data-uppy-super-focusable":!0,children:c})}function $m(n){const{i18n:e,uppy:t}=n;return l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":e("retryUpload"),onClick:()=>t.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:l("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),e("retry")]})}function jm(n){const{i18n:e,uppy:t}=n;return l("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:e("cancel"),"aria-label":e("cancel"),onClick:()=>t.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:l("g",{fill:"none",fillRule:"evenodd",children:[l("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),l("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function Hm(n){const{isAllPaused:e,i18n:t,isAllComplete:i,resumableUploads:r,uppy:s}=n,o=t(e?"resume":"pause");function a(){if(!i){if(!r){s.cancelAll();return}if(e){s.resumeAll();return}s.pauseAll()}}return l("button",{title:o,"aria-label":o,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:a,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:l("g",{fill:"none",fillRule:"evenodd",children:[l("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),l("path",{fill:"#FFF",d:e?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function qm(n){const{i18n:e,doneButtonHandler:t}=n;return l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:t,"data-uppy-super-focusable":!0,children:e("done")})}function Ul(){return l("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:l("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function Vm(n){const{progress:e}=n,{value:t,mode:i,message:r}=e;return l("div",{className:"uppy-StatusBar-content",children:[l(Ul,{}),i==="determinate"?`${Math.round(t*100)}% Â· `:"",r]})}function Wm(n){const{numUploads:e,complete:t,totalUploadedSize:i,totalSize:r,totalETA:s,i18n:o}=n,a=e>1,u=tt(i);return l("div",{className:"uppy-StatusBar-statusSecondary",children:[a&&o("filesUploadedOfTotal",{complete:t,smart_count:e}),l("span",{className:"uppy-StatusBar-additionalInfo",children:[a&&_o(),r!=null?o("dataUploadedOfTotal",{complete:u,total:tt(r)}):o("dataUploadedOfUnknown",{complete:u}),_o(),s!=null&&o("xTimeLeft",{time:Mm(s)})]})]})}function Ol(n){const{i18n:e,complete:t,numUploads:i}=n;return l("div",{className:"uppy-StatusBar-statusSecondary",children:e("filesUploadedOfTotal",{complete:t,smart_count:i})})}function Gm(n){const{i18n:e,newFiles:t,startUpload:i}=n,r=re("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return l("div",{className:"uppy-StatusBar-statusSecondary",children:[l("div",{className:"uppy-StatusBar-statusSecondaryHint",children:e("xMoreFilesAdded",{smart_count:t})}),l("button",{type:"button",className:r,"aria-label":e("uploadXFiles",{smart_count:t}),onClick:i,children:e("upload")})]})}function Km(n){const{i18n:e,supportsUploadProgress:t,totalProgress:i,showProgressDetails:r,isUploadStarted:s,isAllComplete:o,isAllPaused:a,newFiles:u,numUploads:c,complete:p,totalUploadedSize:d,totalSize:g,totalETA:v,startUpload:_}=n,A=u&&s;if(!s||o)return null;const w=e(a?"paused":"uploading");function F(){return!a&&!A&&r?t?l(Wm,{numUploads:c,complete:p,totalUploadedSize:d,totalSize:g,totalETA:v,i18n:e}):l(Ol,{i18n:e,complete:p,numUploads:c}):null}return l("div",{className:"uppy-StatusBar-content",title:w,children:[a?null:l(Ul,{}),l("div",{className:"uppy-StatusBar-status",children:[l("div",{className:"uppy-StatusBar-statusPrimary",children:t&&i!==0?`${w}: ${i}%`:w}),F(),A?l(Gm,{i18n:e,newFiles:u,startUpload:_}):null]})]})}function Xm(n){const{i18n:e}=n;return l("div",{className:"uppy-StatusBar-content",role:"status",title:e("complete"),children:l("div",{className:"uppy-StatusBar-status",children:l("div",{className:"uppy-StatusBar-statusPrimary",children:[l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:l("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),e("complete")]})})})}function Ym(n){const{error:e,i18n:t,complete:i,numUploads:r}=n;function s(){const o=`${t("uploadFailed")} 

 ${e}`;alert(o)}return l("div",{className:"uppy-StatusBar-content",title:t("uploadFailed"),children:[l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:l("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),l("div",{className:"uppy-StatusBar-status",children:[l("div",{className:"uppy-StatusBar-statusPrimary",children:[t("uploadFailed"),l("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":t("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:s,type:"button",children:"?"})]}),l(Ol,{i18n:t,complete:i,numUploads:r})]})]})}function $i(n){const e=[];let t="indeterminate",i;for(const{progress:s}of Object.values(n)){const{preprocess:o,postprocess:a}=s;i==null&&(o||a)&&({mode:t,message:i}=o||a),(o==null?void 0:o.mode)==="determinate"&&e.push(o.value),(a==null?void 0:a.mode)==="determinate"&&e.push(a.value)}const r=e.reduce((s,o)=>s+o/e.length,0);return{mode:t,message:i,value:r}}const{STATE_ERROR:So,STATE_WAITING:Qm,STATE_PREPROCESSING:ji,STATE_UPLOADING:Yn,STATE_POSTPROCESSING:Hi,STATE_COMPLETE:Qn}=Te;function Zm({newFiles:n,allowNewUpload:e,isUploadInProgress:t,isAllPaused:i,resumableUploads:r,error:s,hideUploadButton:o=void 0,hidePauseResumeButton:a=!1,hideCancelButton:u=!1,hideRetryButton:c=!1,recoveredState:p,uploadState:d,totalProgress:g,files:v,supportsUploadProgress:_,hideAfterFinish:A=!1,isSomeGhost:w,doneButtonHandler:F=void 0,isUploadStarted:T,i18n:E,startUpload:R,uppy:M,isAllComplete:D,showProgressDetails:I=void 0,numUploads:q,complete:V,totalSize:ae,totalETA:W,totalUploadedSize:le}){function ye(){switch(d){case Hi:case ji:{const qn=$i(v);return qn.mode==="determinate"?qn.value*100:g}case So:return null;case Yn:return _?g:null;default:return g}}function De(){switch(d){case Hi:case ji:{const{mode:qn}=$i(v);return qn==="indeterminate"}case Yn:return!_;default:return!1}}const Pe=ye(),b=Pe??100,h=!s&&n&&(!t&&!i||p)&&e&&!o,m=!u&&d!==Qm&&d!==Qn,S=r&&!a&&d===Yn,k=s&&!D&&!c,P=F&&d===Qn,N=re("uppy-StatusBar-progress",{"is-indeterminate":De()}),z=re("uppy-StatusBar",`is-${d}`,{"has-ghosts":w}),L=(()=>{switch(d){case ji:case Hi:return l(Vm,{progress:$i(v)});case Qn:return l(Xm,{i18n:E});case So:return l(Ym,{error:s,i18n:E,numUploads:q,complete:V});case Yn:return l(Km,{i18n:E,supportsUploadProgress:_,totalProgress:g,showProgressDetails:I,isUploadStarted:T,isAllComplete:D,isAllPaused:i,newFiles:n,numUploads:q,complete:V,totalUploadedSize:le,totalSize:ae,totalETA:W,startUpload:R});default:return null}})();return!(h||k||S||m||P)&&!L||d===Qn&&A?null:l("div",{className:z,children:[l("div",{className:N,style:{width:`${b}%`},role:"progressbar","aria-label":`${b}%`,"aria-valuetext":`${b}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Pe}),L,l("div",{className:"uppy-StatusBar-actions",children:[h?l(Lm,{newFiles:n,isUploadStarted:T,recoveredState:p,i18n:E,isSomeGhost:w,startUpload:R,uploadState:d}):null,k?l($m,{i18n:E,uppy:M}):null,S?l(Hm,{isAllPaused:i,i18n:E,isAllComplete:D,resumableUploads:r,uppy:M}):null,m?l(jm,{i18n:E,uppy:M}):null,P?l(qm,{i18n:E,doneButtonHandler:F}):null]})]})}const Jm=2e3,eg=2e3;function tg(n,e,t,i){if(n)return Te.STATE_ERROR;if(e)return Te.STATE_COMPLETE;if(t)return Te.STATE_WAITING;let r=Te.STATE_WAITING;const s=Object.keys(i);for(let o=0;o<s.length;o++){const{progress:a}=i[s[o]];if(a.uploadStarted&&!a.uploadComplete)return Te.STATE_UPLOADING;a.preprocess&&(r=Te.STATE_PREPROCESSING),a.postprocess&&r!==Te.STATE_PREPROCESSING&&(r=Te.STATE_POSTPROCESSING)}return r}const ng={hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};var Qi,He,qe,lt,Be,wi,Il,Rn;let Dl=(Qi=class extends Me{constructor(t,i){super(t,{...ng,...i});x(this,wi);x(this,He);x(this,qe);x(this,lt);x(this,Be);y(this,"startUpload",()=>this.uppy.upload().catch(()=>{}));x(this,Rn,()=>{const{recoveredState:t}=this.uppy.getState();if(U(this,lt,null),U(this,Be,null),t){U(this,qe,Object.values(t.files).reduce((i,{progress:r})=>i+r.bytesUploaded,0)),this.uppy.emit("restore-confirmed");return}U(this,He,performance.now()),U(this,qe,0)});this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Nm,this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(t){const{capabilities:i,files:r,allowNewUpload:s,totalProgress:o,error:a,recoveredState:u}=t,{newFiles:c,startedFiles:p,completeFiles:d,isUploadStarted:g,isAllComplete:v,isAllPaused:_,isUploadInProgress:A,isSomeGhost:w}=this.uppy.getObjectOfFilesPerState(),F=u?Object.values(r):c,T=!!i.resumableUploads,E=i.uploadProgress!==!1;let R=null,M=0;p.every(I=>I.progress.bytesTotal!=null&&I.progress.bytesTotal!==0)?(R=0,p.forEach(I=>{R+=I.progress.bytesTotal||0,M+=I.progress.bytesUploaded||0})):p.forEach(I=>{M+=I.progress.bytesUploaded||0});const D=C(this,wi,Il).call(this,{uploaded:M,total:R});return Zm({error:a,uploadState:tg(a,v,u,t.files||{}),allowNewUpload:s,totalProgress:o,totalSize:R,totalUploadedSize:M,isAllComplete:!1,isAllPaused:_,isUploadStarted:g,isUploadInProgress:A,isSomeGhost:w,recoveredState:u,complete:d.length,newFiles:F.length,numUploads:p.length,totalETA:D,files:r,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:T,supportsUploadProgress:E,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish})}onMount(){const t=this.el;Ko(t)||(t.dir="ltr")}install(){const{target:t}=this.opts;t&&this.mount(t,this),this.uppy.on("upload",f(this,Rn)),U(this,He,performance.now()),U(this,qe,this.uppy.getFiles().reduce((i,r)=>i+r.progress.bytesUploaded,0))}uninstall(){this.unmount(),this.uppy.off("upload",f(this,Rn))}},He=new WeakMap,qe=new WeakMap,lt=new WeakMap,Be=new WeakMap,wi=new WeakSet,Il=function(t){if(t.total==null||t.total===0)return null;const i=t.total-t.uploaded;if(i<=0)return null;f(this,He)??U(this,He,performance.now());const r=performance.now()-f(this,He);if(r===0)return Math.round((f(this,Be)??0)/100)/10;const s=t.uploaded-f(this,qe);if(U(this,qe,t.uploaded),s<=0)return Math.round((f(this,Be)??0)/100)/10;const o=s/r,a=f(this,lt)==null?o:wo(o,f(this,lt),Jm,r);U(this,lt,a);const u=i/a,c=Math.max(f(this,Be)-r,0),p=f(this,Be)==null?u:wo(u,c,eg,r);return U(this,Be,p),U(this,He,performance.now()),Math.round(p/100)/10},Rn=new WeakMap,y(Qi,"VERSION",Rm.version),Qi);const ig=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function rg(n,e,t){const i=ig.exec(n),r=e.mimeType??(i==null?void 0:i[1])??"plain/text";let s;if((i==null?void 0:i[2])!=null){const o=atob(decodeURIComponent(i[3])),a=new Uint8Array(o.length);for(let u=0;u<o.length;u++)a[u]=o.charCodeAt(u);s=[a]}else(i==null?void 0:i[3])!=null&&(s=[decodeURIComponent(i[3])]);return t?new File(s,e.name||"",{type:r}):new Blob(s,{type:r})}function Fo(n){return n.startsWith("blob:")}function Po(n){return n?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(n):!1}function j(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Rl=typeof self<"u"?self:global;const Sn=typeof navigator<"u",sg=Sn&&typeof HTMLImageElement>"u",ko=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),Nl=Rl.Buffer,Bl=!!Nl,og=n=>n!==void 0;function Ml(n){return n===void 0||(n instanceof Map?n.size===0:Object.values(n).filter(og).length===0)}function Q(n){let e=new Error(n);throw delete e.stack,e}function To(n){let e=function(t){let i=0;return t.ifd0.enabled&&(i+=1024),t.exif.enabled&&(i+=2048),t.makerNote&&(i+=2048),t.userComment&&(i+=1024),t.gps.enabled&&(i+=512),t.interop.enabled&&(i+=100),t.ifd1.enabled&&(i+=1024),i+2048}(n);return n.jfif.enabled&&(e+=50),n.xmp.enabled&&(e+=2e4),n.iptc.enabled&&(e+=14e3),n.icc.enabled&&(e+=6e3),e}const qi=n=>String.fromCharCode.apply(null,n),Co=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;class Se{static from(e,t){return e instanceof this&&e.le===t?e:new Se(e,void 0,void 0,t)}constructor(e,t=0,i,r){if(typeof r=="boolean"&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),e===0)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){i===void 0&&(i=e.byteLength-t);let s=new DataView(e,t,i);this._swapDataView(s)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Se){i===void 0&&(i=e.byteLength-t),(t+=e.byteOffset)+i>e.byteOffset+e.byteLength&&Q("Creating view outside of available memory in ArrayBuffer");let s=new DataView(e.buffer,t,i);this._swapDataView(s)}else if(typeof e=="number"){let s=new DataView(new ArrayBuffer(e));this._swapDataView(s)}else Q("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,i=Se){return e instanceof DataView||e instanceof Se?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Q("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new i(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Se(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return r=this.getUint8Array(e,t),Co?Co.decode(r):Bl?Buffer.from(r).toString("utf8"):decodeURIComponent(escape(qi(r)));var r}getLatin1String(e=0,t=this.byteLength){let i=this.getUint8Array(e,t);return qi(i)}getUnicodeString(e=0,t=this.byteLength){const i=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)i.push(this.getUint16(e+r));return qi(i)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,i){switch(t){case 1:return this.getUint8(e,i);case 2:return this.getUint16(e,i);case 4:return this.getUint32(e,i);case 8:return this.getUint64&&this.getUint64(e,i)}}getUint(e,t,i){switch(t){case 8:return this.getUint8(e,i);case 16:return this.getUint16(e,i);case 32:return this.getUint32(e,i);case 64:return this.getUint64&&this.getUint64(e,i)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function xr(n,e){Q(`${n} '${e}' was not loaded, try using full build of exifr.`)}class Jr extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||xr(this.kind,e),t&&(e in t||function(i,r){Q(`Unknown ${i} '${r}'.`)}(this.kind,e),t[e].enabled||xr(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Ei=new Jr("file parser"),de=new Jr("segment parser"),$n=new Jr("file reader");let ag=Rl.fetch;function Ao(n,e){return(t=n).startsWith("data:")||t.length>1e4?Or(n,e,"base64"):ko&&n.includes("://")?Ur(n,e,"url",hi):ko?Or(n,e,"fs"):Sn?Ur(n,e,"url",hi):void Q("Invalid input argument");var t}async function Ur(n,e,t,i){return $n.has(t)?Or(n,e,t):i?async function(r,s){let o=await s(r);return new Se(o)}(n,i):void Q(`Parser ${t} is not loaded`)}async function Or(n,e,t){let i=new($n.get(t))(n,e);return await i.read(),i}const hi=n=>ag(n).then(e=>e.arrayBuffer()),Fn=n=>new Promise((e,t)=>{let i=new FileReader;i.onloadend=()=>e(i.result||new ArrayBuffer),i.onerror=t,i.readAsArrayBuffer(n)});class lg extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function zl(n,e,t){let i=new lg;for(let[r,s]of t)i.set(r,s);if(Array.isArray(e))for(let r of e)n.set(r,i);else n.set(e,i);return i}function Ll(n,e,t){let i,r=n.get(e);for(i of t)r.set(i[0],i[1])}const jn=new Map,es=new Map,ts=new Map,St=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],xi=["jfif","xmp","icc","iptc","ihdr"],Pn=["tiff",...xi],K=["ifd0","ifd1","exif","gps","interop"],Ft=[...Pn,...K],Pt=["makerNote","userComment"],Ui=["translateKeys","translateValues","reviveValues","multiSegment"],kt=[...Ui,"sanitize","mergeOutput","silentErrors"];class $l{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class en extends $l{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,i,r){if(super(),j(this,"enabled",!1),j(this,"skip",new Set),j(this,"pick",new Set),j(this,"deps",new Set),j(this,"translateKeys",!1),j(this,"translateValues",!1),j(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=K.includes(e),this.canBeFiltered&&(this.dict=jn.get(e)),i!==void 0)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if(typeof i=="object"){if(this.enabled=!0,this.parse=i.parse!==!1,this.canBeFiltered){let{pick:s,skip:o}=i;s&&s.length>0&&this.translateTagSet(s,this.pick),o&&o.length>0&&this.translateTagSet(o,this.skip)}this.applyInheritables(i)}else i===!0||i===!1?this.parse=this.enabled=i:Q(`Invalid options argument: ${i}`)}applyInheritables(e){let t,i;for(t of Ui)i=e[t],i!==void 0&&(this[t]=i)}translateTagSet(e,t){if(this.dict){let i,r,{tagKeys:s,tagValues:o}=this.dict;for(i of e)typeof i=="string"?(r=o.indexOf(i),r===-1&&(r=s.indexOf(Number(i))),r!==-1&&t.add(Number(s[r]))):t.add(i)}else for(let i of e)t.add(i)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,fi(this.pick,this.deps)):this.enabled&&this.pick.size>0&&fi(this.pick,this.deps)}}var se={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},Eo=new Map;class Hn extends $l{static useCached(e){let t=Eo.get(e);return t!==void 0||(t=new this(e),Eo.set(e,t)),t}constructor(e){super(),e===!0?this.setupFromTrue():e===void 0?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):typeof e=="object"?this.setupFromObject(e):Q(`Invalid options argument ${e}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Sn?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of St)this[e]=se[e];for(e of kt)this[e]=se[e];for(e of Pt)this[e]=se[e];for(e of Ft)this[e]=new en(e,se[e],void 0,this)}setupFromTrue(){let e;for(e of St)this[e]=se[e];for(e of kt)this[e]=se[e];for(e of Pt)this[e]=!0;for(e of Ft)this[e]=new en(e,!0,void 0,this)}setupFromArray(e){let t;for(t of St)this[t]=se[t];for(t of kt)this[t]=se[t];for(t of Pt)this[t]=se[t];for(t of Ft)this[t]=new en(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,K)}setupFromObject(e){let t;for(t of(K.ifd0=K.ifd0||K.image,K.ifd1=K.ifd1||K.thumbnail,Object.assign(this,e),St))this[t]=Vi(e[t],se[t]);for(t of kt)this[t]=Vi(e[t],se[t]);for(t of Pt)this[t]=Vi(e[t],se[t]);for(t of Pn)this[t]=new en(t,se[t],e[t],this);for(t of K)this[t]=new en(t,se[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,K,Ft),e.tiff===!0?this.batchEnableWithBool(K,!0):e.tiff===!1?this.batchEnableWithUserValue(K,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,K):typeof e.tiff=="object"&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,K)}batchEnableWithBool(e,t){for(let i of e)this[i].enabled=t}batchEnableWithUserValue(e,t){for(let i of e){let r=t[i];this[i].enabled=r!==!1&&r!==void 0}}setupGlobalFilters(e,t,i,r=i){if(e&&e.length){for(let o of r)this[o].enabled=!1;let s=xo(e,i);for(let[o,a]of s)fi(this[o].pick,a),this[o].enabled=!0}else if(t&&t.length){let s=xo(t,i);for(let[o,a]of s)fi(this[o].skip,a)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:i,iptc:r,icc:s}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),i.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),s.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:i,interop:r}=this;r.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),i.needed&&e.deps.add(34853),this.tiff.enabled=K.some(s=>this[s].enabled===!0)||this.makerNote||this.userComment;for(let s of K)this[s].finalizeFilters()}get onlyTiff(){return!xi.map(e=>this[e].enabled).some(e=>e===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let e of Pn)this[e].enabled&&!de.has(e)&&xr("segment parser",e)}}function xo(n,e){let t,i,r,s,o=[];for(r of e){for(s of(t=jn.get(r),i=[],t))(n.includes(s[0])||n.includes(s[1]))&&i.push(s[0]);i.length&&o.push([r,i])}return o}function Vi(n,e){return n!==void 0?n:e!==void 0?e:void 0}function fi(n,e){for(let t of e)n.add(t)}j(Hn,"default",se);class Oi{constructor(e){j(this,"parsers",{}),j(this,"output",{}),j(this,"errors",[]),j(this,"pushToErrors",t=>this.errors.push(t)),this.options=Hn.useCached(e)}async read(e){this.file=await function(t,i){return typeof t=="string"?Ao(t,i):Sn&&!sg&&t instanceof HTMLImageElement?Ao(t.src,i):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Se(t):Sn&&t instanceof Blob?Ur(t,i,"blob",Fn):void Q("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[i,r]of Ei)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[i]=!0;this.file.close&&this.file.close(),Q("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Ml(i=e)?void 0:i;var i}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map(async i=>{let r=await i.parse();i.assignToOutput(e,r)});this.options.silentErrors&&(t=t.map(i=>i.catch(this.pushToErrors))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,i=de.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),r===void 0)return;let s=await this.fileParser.ensureSegmentChunk(r),o=this.parsers.tiff=new i(s,e,t),a=await o.extractThumbnail();return t.close&&t.close(),a}}async function jl(n,e){let t=new Oi(e);return await t.read(n),t.parse()}var ug=Object.freeze({__proto__:null,parse:jl,Exifr:Oi,fileParsers:Ei,segmentParsers:de,fileReaders:$n,tagKeys:jn,tagValues:es,tagRevivers:ts,createDictionary:zl,extendDictionary:Ll,fetchUrlAsArrayBuffer:hi,readBlobAsArrayBuffer:Fn,chunkedProps:St,otherSegments:xi,segments:Pn,tiffBlocks:K,segmentsAndBlocks:Ft,tiffExtractables:Pt,inheritables:Ui,allFormatters:kt,Options:Hn});class Tt{static findPosition(e,t){let i=e.getUint16(t+2)+2,r=typeof this.headerLength=="function"?this.headerLength(e,t,i):this.headerLength,s=t+r,o=i-r;return{offset:t,length:i,headerLength:r,start:s,size:o,end:s+o}}static parse(e,t={}){return new this(e,new Hn({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Se?e:new Se(e)}constructor(e,t={},i){j(this,"errors",[]),j(this,"raw",new Map),j(this,"handleError",r=>{if(!this.options.silentErrors)throw r;this.errors.push(r.message)}),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let i=ts.get(t),r=es.get(t),s=jn.get(t),o=this.options[t],a=o.reviveValues&&!!i,u=o.translateValues&&!!r,c=o.translateKeys&&!!s,p={};for(let[d,g]of e)a&&i.has(d)?g=i.get(d)(g):u&&r.has(d)&&(g=this.translateValue(g,r.get(d))),c&&s.has(d)&&(d=s.get(d)||d),p[d]=g;return p}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,i){if(this.globalOptions.mergeOutput)return Object.assign(e,i);e[t]?Object.assign(e[t],i):e[t]=i}}j(Tt,"headerLength",4),j(Tt,"type",void 0),j(Tt,"multiSegment",!1),j(Tt,"canHandle",()=>!1);function cg(n){return n===192||n===194||n===196||n===219||n===221||n===218||n===254}function dg(n){return n>=224&&n<=239}function pg(n,e,t){for(let[i,r]of de)if(r.canHandle(n,e,t))return i}class Uo extends class{constructor(e,t,i){j(this,"errors",[]),j(this,"ensureSegmentChunk",async r=>{let s=r.start,o=r.size||65536;if(this.file.chunked)if(this.file.available(s,o))r.chunk=this.file.subarray(s,o);else try{r.chunk=await this.file.readChunk(s,o)}catch(a){Q(`Couldn't read segment: ${JSON.stringify(r)}. ${a.message}`)}else this.file.byteLength>s+o?r.chunk=this.file.subarray(s,o):r.size===void 0?r.chunk=this.file.subarray(s):Q("Segment unreachable: "+JSON.stringify(r));return r.chunk}),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let i=new(de.get(e))(t,this.options,this.file);return this.parsers[e]=i}createParsers(e){for(let t of e){let{type:i,chunk:r}=t,s=this.options[i];if(s&&s.enabled){let o=this.parsers[i];o&&o.append||o||this.createParser(i,r)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),j(this,"appSegments",[]),j(this,"jpegSegments",[]),j(this,"unknownSegments",[])}static canHandle(e,t){return t===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){e===!0?(this.findAll=!0,this.wanted=new Set(de.keyList())):(e=e===void 0?de.keyList().filter(t=>this.options[t].enabled):e.filter(t=>this.options[t].enabled&&de.has(t)),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:i,findAll:r,wanted:s,remaining:o}=this;if(!r&&this.file.chunked&&(r=Array.from(s).some(a=>{let u=de.get(a),c=this.options[a];return u.multiSegment&&c.multiSegment}),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,i.byteLength),!this.options.onlyTiff&&i.chunked){let a=!1;for(;o.size>0&&!a&&(i.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:u}=i,c=this.appSegments.some(p=>!this.file.available(p.offset||p.start,p.length||p.size));if(a=e>u&&!c?!await i.readNextChunk(e):!await i.readNextChunk(u),(e=this.findAppSegmentsInRange(e,i.byteLength))===void 0)return}}}findAppSegmentsInRange(e,t){t-=2;let i,r,s,o,a,u,{file:c,findAll:p,wanted:d,remaining:g,options:v}=this;for(;e<t;e++)if(c.getUint8(e)===255){if(i=c.getUint8(e+1),dg(i)){if(r=c.getUint16(e+2),s=pg(c,e,r),s&&d.has(s)&&(o=de.get(s),a=o.findPosition(c,e),u=v[s],a.type=s,this.appSegments.push(a),!p&&(o.multiSegment&&u.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||g.delete(s)):g.delete(s),g.size===0)))break;v.recordUnknownSegments&&(a=Tt.findPosition(c,e),a.marker=i,this.unknownSegments.push(a)),e+=r+1}else if(cg(i)){if(r=c.getUint16(e+2),i===218&&v.stopAfterSos!==!1)return;v.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:i}),e+=r+1}}return e}mergeMultiSegments(){if(!this.appSegments.some(t=>t.multiSegment))return;let e=function(t,i){let r,s,o,a=new Map;for(let u=0;u<t.length;u++)r=t[u],s=r[i],a.has(s)?o=a.get(s):a.set(s,o=[]),o.push(r);return Array.from(a)}(this.appSegments,"type");this.mergedAppSegments=e.map(([t,i])=>{let r=de.get(t,this.options);return r.handleMultiSegments?{type:t,chunk:r.handleMultiSegments(i)}:i[0]})}getSegment(e){return this.appSegments.find(t=>t.type===e)}async getOrFindSegment(e){let t=this.getSegment(e);return t===void 0&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}j(Uo,"type","jpeg"),Ei.set("jpeg",Uo);const hg=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class fg extends Tt{parseHeader(){var e=this.chunk.getUint16();e===18761?this.le=!0:e===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,i=new Map){let{pick:r,skip:s}=this.options[t];r=new Set(r);let o=r.size>0,a=s.size===0,u=this.chunk.getUint16(e);e+=2;for(let c=0;c<u;c++){let p=this.chunk.getUint16(e);if(o){if(r.has(p)&&(i.set(p,this.parseTag(e,p,t)),r.delete(p),r.size===0))break}else!a&&s.has(p)||i.set(p,this.parseTag(e,p,t));e+=12}return i}parseTag(e,t,i){let{chunk:r}=this,s=r.getUint16(e+2),o=r.getUint32(e+4),a=hg[s];if(a*o<=4?e+=8:e=r.getUint32(e+8),(s<1||s>13)&&Q(`Invalid TIFF value type. block: ${i.toUpperCase()}, tag: ${t.toString(16)}, type: ${s}, offset ${e}`),e>r.byteLength&&Q(`Invalid TIFF value offset. block: ${i.toUpperCase()}, tag: ${t.toString(16)}, type: ${s}, offset ${e} is outside of chunk size ${r.byteLength}`),s===1)return r.getUint8Array(e,o);if(s===2)return(u=function(c){for(;c.endsWith("\0");)c=c.slice(0,-1);return c}(u=r.getString(e,o)).trim())===""?void 0:u;var u;if(s===7)return r.getUint8Array(e,o);if(o===1)return this.parseTagValue(s,e);{let c=new(function(d){switch(d){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(s))(o),p=a;for(let d=0;d<o;d++)c[d]=this.parseTagValue(s,e),e+=p;return c}}parseTagValue(e,t){let{chunk:i}=this;switch(e){case 1:return i.getUint8(t);case 3:return i.getUint16(t);case 4:return i.getUint32(t);case 5:return i.getUint32(t)/i.getUint32(t+4);case 6:return i.getInt8(t);case 8:return i.getInt16(t);case 9:return i.getInt32(t);case 10:return i.getInt32(t)/i.getInt32(t+4);case 11:return i.getFloat(t);case 12:return i.getDouble(t);case 13:return i.getUint32(t);default:Q(`Invalid tiff type ${e}`)}}}class Wi extends fg{static canHandle(e,t){return e.getUint8(t+1)===225&&e.getUint32(t+4)===1165519206&&e.getUint16(t+8)===0}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return t.catch!==void 0&&(t=t.catch(this.handleError)),t}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let i=new Map;return this[t]=i,this.parseTags(e,t,i),i}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Q("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Q(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,To(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return t.size!==0?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,To(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let i=e.get(t);i&&i.length===1&&e.set(t,i[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",Oo(...e.get(2),e.get(1))),e.set("longitude",Oo(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,i,r={};for(t of K)if(e=this[t],!Ml(e))if(i=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(t==="ifd1")continue;Object.assign(r,i)}else r[t]=i;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[i,r]of Object.entries(t))this.assignObjectToOutput(e,i,r)}}function Oo(n,e,t,i){var r=n+e/60+t/3600;return i!=="S"&&i!=="W"||(r*=-1),r}j(Wi,"type","tiff"),j(Wi,"headerLength",10),de.set("tiff",Wi);var w0=Object.freeze({__proto__:null,default:ug,Exifr:Oi,fileParsers:Ei,segmentParsers:de,fileReaders:$n,tagKeys:jn,tagValues:es,tagRevivers:ts,createDictionary:zl,extendDictionary:Ll,fetchUrlAsArrayBuffer:hi,readBlobAsArrayBuffer:Fn,chunkedProps:St,otherSegments:xi,segments:Pn,tiffBlocks:K,segmentsAndBlocks:Ft,tiffExtractables:Pt,inheritables:Ui,allFormatters:kt,Options:Hn,parse:jl});const ns={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},_0=Object.assign({},ns,{firstChunkSize:4e4,gps:[1,2,3,4]});const S0=Object.assign({},ns,{tiff:!1,ifd1:!0,mergeOutput:!1});const mg=Object.assign({},ns,{firstChunkSize:4e4,ifd0:[274]});async function gg(n){let e=new Oi(mg);await e.read(n);let t=await e.parse();if(t&&t.ifd0)return t.ifd0[274]}const yg=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ln=!0,un=!0;if(typeof navigator=="object"){let n=navigator.userAgent;if(n.includes("iPad")||n.includes("iPhone")){let e=n.match(/OS (\d+)_(\d+)/);if(e){let[,t,i]=e;ln=Number(t)+.1*Number(i)<13.4,un=!1}}else if(n.includes("OS X 10")){let[,e]=n.match(/OS X 10[_.](\d+)/);ln=un=Number(e)<15}if(n.includes("Chrome/")){let[,e]=n.match(/Chrome\/(\d+)/);ln=un=Number(e)<81}else if(n.includes("Firefox/")){let[,e]=n.match(/Firefox\/(\d+)/);ln=un=Number(e)<77}}async function vg(n){let e=await gg(n);return Object.assign({canvas:ln,css:un},yg[e])}class bg extends Se{constructor(...e){super(...e),j(this,"ranges",new wg),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,i){if(e===0&&this.byteLength===0&&i){let r=new DataView(i.buffer||i,i.byteOffset,i.byteLength);this._swapDataView(r)}else{let r=e+t;if(r>this.byteLength){let{dataView:s}=this._extend(r);this._swapDataView(s)}}}_extend(e){let t;t=Bl?Nl.allocUnsafe(e):new Uint8Array(e);let i=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:i}}subarray(e,t,i=!1){return t=t||this._lengthToEnd(e),i&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,i=!1){i&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class wg{constructor(){j(this,"list",[])}get length(){return this.list.length}add(e,t,i=0){let r=e+t,s=this.list.filter(o=>Do(e,o.offset,r)||Do(e,o.end,r));if(s.length>0){e=Math.min(e,...s.map(a=>a.offset)),r=Math.max(r,...s.map(a=>a.end)),t=r-e;let o=s.shift();o.offset=e,o.length=t,o.end=r,this.list=this.list.filter(a=>!s.includes(a))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let i=e+t;return this.list.some(r=>r.offset<=e&&i<=r.end)}}function Do(n,e,t){return n<=e&&e<=t}class _g extends bg{constructor(e,t){super(0),j(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,i=await this.readChunk(e,t);return!!i&&i.byteLength===t}async readChunk(e,t){if(this.chunksRead++,(t=this.safeWrapAddress(e,t))!==0)return this._readChunk(e,t)}safeWrapAddress(e,t){return this.size!==void 0&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}$n.set("blob",class extends _g{async readWhole(){this.chunked=!1;let n=await Fn(this.input);this._swapArrayBuffer(n)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(n,e){let t=e?n+e:void 0,i=this.input.slice(n,t),r=await Fn(i);return this.set(r,n,!0)}});const Sg="@uppy/thumbnail-generator",Fg="Uppy plugin that generates small previews of images to show on your upload UI.",Pg="4.2.3",kg="MIT",Tg="lib/index.js",Cg="module",Ag={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Eg=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],xg="https://uppy.io",Ug={url:"https://github.com/transloadit/uppy/issues"},Og={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Dg=["src","lib","dist","CHANGELOG.md"],Ig={"@uppy/utils":"^6.2.2",exifr:"^7.0.0"},Rg={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},Ng={"@uppy/core":"^4.5.3"},Bg={name:Sg,description:Fg,version:Pg,license:kg,main:Tg,type:Cg,scripts:Ag,keywords:Eg,homepage:xg,bugs:Ug,repository:Og,files:Dg,dependencies:Ig,devDependencies:Rg,peerDependencies:Ng},Mg={strings:{generatingThumbnails:"Generating thumbnails..."}};function zg(n,e,t){try{n.getContext("2d").getImageData(0,0,1,1)}catch(i){if(i.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return n.toBlob?new Promise(i=>{n.toBlob(i,e,t)}).then(i=>{if(i===null)throw new Error("cannot read image, probably an svg with external resources");return i}):Promise.resolve().then(()=>rg(n.toDataURL(e,t),{})).then(i=>{if(i===null)throw new Error("could not extract blob, probably an old browser");return i})}function Lg(n,e){let t=n.width,i=n.height;(e.deg===90||e.deg===270)&&(t=n.height,i=n.width);const r=document.createElement("canvas");r.width=t,r.height=i;const s=r.getContext("2d");return s.translate(t/2,i/2),e.canvas&&(s.rotate(e.rad),s.scale(e.scaleX,e.scaleY)),s.drawImage(n,-n.width/2,-n.height/2,n.width,n.height),r}function $g(n){const e=n.width/n.height,t=5e6,i=4096;let r=Math.floor(Math.sqrt(t*e)),s=Math.floor(t/Math.sqrt(t*e));if(r>i&&(r=i,s=Math.round(r/e)),s>i&&(s=i,r=Math.round(e*s)),n.width>r){const o=document.createElement("canvas");return o.width=r,o.height=s,o.getContext("2d").drawImage(n,0,0,r,s),o}return n}const jg={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class Hl extends Me{constructor(t,i){super(t,{...jg,...i});y(this,"queue");y(this,"queueProcessing");y(this,"defaultThumbnailDimension");y(this,"thumbnailType");y(this,"onFileAdded",t=>{!t.preview&&t.data&&Po(t.type)&&!t.isRemote&&this.addToQueue(t.id)});y(this,"onCancelRequest",t=>{const i=this.queue.indexOf(t.id);i!==-1&&this.queue.splice(i,1)});y(this,"onFileRemoved",t=>{const i=this.queue.indexOf(t.id);i!==-1&&this.queue.splice(i,1),t.preview&&Fo(t.preview)&&URL.revokeObjectURL(t.preview)});y(this,"onRestored",()=>{this.uppy.getFiles().filter(i=>i.isRestored).forEach(i=>{(!i.preview||Fo(i.preview))&&this.addToQueue(i.id)})});y(this,"onAllFilesRemoved",()=>{this.queue=[]});y(this,"waitUntilAllProcessed",t=>{t.forEach(r=>{const s=this.uppy.getFile(r);this.uppy.emit("preprocess-progress",s,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const i=()=>{t.forEach(r=>{const s=this.uppy.getFile(r);this.uppy.emit("preprocess-complete",s)})};return new Promise(r=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{i(),r()}):(i(),r())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Mg,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(t,i,r){const s=URL.createObjectURL(t.data),o=new Promise((u,c)=>{const p=new Image;p.src=s,p.addEventListener("load",()=>{URL.revokeObjectURL(s),u(p)}),p.addEventListener("error",d=>{URL.revokeObjectURL(s),c(d.error||new Error("Could not create thumbnail"))})}),a=vg(t.data).catch(()=>1);return Promise.all([o,a]).then(([u,c])=>{const p=this.getProportionalDimensions(u,i,r,c.deg),d=Lg(u,c),g=this.resizeImage(d,p.width,p.height);return zg(g,this.thumbnailType,80)}).then(u=>URL.createObjectURL(u))}getProportionalDimensions(t,i,r,s){let o=t.width/t.height;if((s===90||s===270)&&(o=t.height/t.width),i!=null){let a=i;return t.width<i&&(a=t.width),{width:a,height:Math.round(a/o)}}if(r!=null){let a=r;return t.height<r&&(a=t.height),{width:Math.round(a*o),height:a}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/o)}}resizeImage(t,i,r){let s=$g(t),o=Math.ceil(Math.log2(s.width/i));o<1&&(o=1);let a=i*2**(o-1),u=r*2**(o-1);const c=2;for(;o--;){const p=document.createElement("canvas");p.width=a,p.height=u,p.getContext("2d").drawImage(s,0,0,a,u),s=p,a=Math.round(a/c),u=Math.round(u/c)}return s}setPreviewURL(t,i){this.uppy.setFileState(t,{preview:i})}addToQueue(t){this.queue.push(t),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const t=this.uppy.getFile(this.queue.shift());return t?this.requestThumbnail(t).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(t){return Po(t.type)&&!t.isRemote?this.createThumbnail(t,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(i=>{this.setPreviewURL(t.id,i),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${t.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(t.id),i)}).catch(i=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${t.id}:`,"warning"),this.uppy.log(i,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(t.id),i)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}y(Hl,"VERSION",Bg.version);function Io(n){if(typeof n=="string"){const e=document.querySelectorAll(n);return e.length===0?null:Array.from(e)}return typeof n=="object"&&Go(n)?[n]:null}const pt=Array.from;function Hg(n){const e=pt(n.files);return Promise.resolve(e)}function ql(n,e,t,{onSuccess:i}){n.readEntries(r=>{const s=[...e,...r];r.length?queueMicrotask(()=>{ql(n,s,t,{onSuccess:i})}):i(s)},r=>{t(r),i(e)})}function Vl(n,e){return n==null?n:{kind:n.isFile?"file":n.isDirectory?"directory":void 0,name:n.name,getFile(){return new Promise((t,i)=>n.file(t,i))},async*values(){const t=n.createReader();yield*await new Promise(r=>{ql(t,[],e,{onSuccess:s=>r(s.map(o=>Vl(o,e)))})})},isSameEntry:void 0}}async function*Wl(n,e,t=void 0){const i=()=>`${e}/${n.name}`;if(n.kind==="file"){const r=await n.getFile();r!=null?(r.relativePath=e?i():null,yield r):t!=null&&(yield t)}else if(n.kind==="directory")for await(const r of n.values())yield*Wl(r,e?i():n.name);else t!=null&&(yield t)}async function*qg(n,e){const t=await Promise.all(Array.from(n.items,async i=>{let r;return r??(r=Vl(typeof i.getAsEntry=="function"?i.getAsEntry():i.webkitGetAsEntry(),e)),{fileSystemHandle:r,lastResortFile:i.getAsFile()}}));for(const{lastResortFile:i,fileSystemHandle:r}of t)if(r!=null)try{yield*Wl(r,"",i)}catch(s){i!=null?yield i:e(s)}else i!=null&&(yield i)}async function Gl(n,e){const t=(e==null?void 0:e.logDropError)??Function.prototype;try{const i=[];for await(const r of qg(n,t))i.push(r);return i}catch{return Hg(n)}}const Vg="@uppy/dashboard",Wg="Universal UI plugin for Uppy.",Gg="4.4.3",Kg="MIT",Xg="lib/index.js",Yg="dist/style.min.css",Qg="module",Zg={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},Jg=["file uploader","uppy","uppy-plugin","dashboard","ui"],ey="https://uppy.io",ty={url:"https://github.com/transloadit/uppy/issues"},ny={type:"git",url:"git+https://github.com/transloadit/uppy.git"},iy=["src","lib","dist","CHANGELOG.md"],ry={"@transloadit/prettier-bytes":"^0.3.4","@uppy/informer":"^4.3.2","@uppy/provider-views":"^4.5.2","@uppy/status-bar":"^4.2.3","@uppy/thumbnail-generator":"^4.2.2","@uppy/utils":"^6.2.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},sy={"@uppy/core":"^4.5.2","@uppy/google-drive":"^4.4.2","@uppy/status-bar":"^4.2.3","@uppy/url":"^4.3.2","@uppy/webcam":"^4.3.2","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},oy={"@uppy/core":"^4.5.2"},ay={name:Vg,description:Wg,version:Gg,license:Kg,main:Xg,style:Yg,type:Qg,scripts:Zg,keywords:Jg,homepage:ey,bugs:ty,repository:ny,files:iy,dependencies:ry,devDependencies:sy,peerDependencies:oy};function Kl(){const n=document.body;return!(!("draggable"in n)||!("ondragstart"in n&&"ondrop"in n)||!("FormData"in window)||!("FileReader"in window))}class Xl extends ue{constructor(){super(...arguments);y(this,"fileInput",null);y(this,"folderInput",null);y(this,"mobilePhotoFileInput",null);y(this,"mobileVideoFileInput",null);y(this,"triggerFileInputClick",()=>{var t;(t=this.fileInput)==null||t.click()});y(this,"triggerFolderInputClick",()=>{var t;(t=this.folderInput)==null||t.click()});y(this,"triggerVideoCameraInputClick",()=>{var t;(t=this.mobileVideoFileInput)==null||t.click()});y(this,"triggerPhotoCameraInputClick",()=>{var t;(t=this.mobilePhotoFileInput)==null||t.click()});y(this,"onFileInputChange",t=>{this.props.handleInputChange(t),t.currentTarget.value=""});y(this,"renderHiddenInput",(t,i)=>{var r;return l("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:t,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(r=this.props.allowedFileTypes)==null?void 0:r.join(", "),ref:i})});y(this,"renderHiddenCameraInput",(t,i,r)=>{const o={photo:"image/*",video:"video/*"}[t];return l("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${t}`,onChange:this.onFileInputChange,capture:i===""?"environment":i,accept:o,ref:r})});y(this,"renderMyDeviceAcquirer",()=>l("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[l("div",{className:"uppy-DashboardTab-inner",children:l("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:l("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),l("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));y(this,"renderPhotoCamera",()=>l("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[l("div",{className:"uppy-DashboardTab-inner",children:l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:l("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),l("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));y(this,"renderVideoCamera",()=>l("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[l("div",{className:"uppy-DashboardTab-inner",children:l("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:l("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),l("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));y(this,"renderBrowseButton",(t,i)=>{const r=this.props.acquirers.length;return l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:i,"data-uppy-super-focusable":r===0,children:t})});y(this,"renderDropPasteBrowseTagline",t=>{const i=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),r=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),s=this.props.fileManagerSelectionType,o=s.charAt(0).toUpperCase()+s.slice(1);return l("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):t>0?this.props.i18nArray(`dropPasteImport${o}`,{browseFiles:i,browseFolders:r,browse:i}):this.props.i18nArray(`dropPaste${o}`,{browseFiles:i,browseFolders:r,browse:i})})});y(this,"renderAcquirer",t=>{var i;return l("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":t.id,children:l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":t.id,"aria-controls":`uppy-DashboardContent-panel--${t.id}`,"aria-selected":((i=this.props.activePickerPanel)==null?void 0:i.id)===t.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(t.id),children:[l("div",{className:"uppy-DashboardTab-inner",children:t.icon()}),l("div",{className:"uppy-DashboardTab-name",children:t.name})]})})});y(this,"renderAcquirers",t=>{const i=[...t],r=i.splice(t.length-2,t.length);return l(ne,{children:[i.map(s=>this.renderAcquirer(s)),l("span",{role:"presentation",style:{"white-space":"nowrap"},children:r.map(s=>this.renderAcquirer(s))})]})});y(this,"renderSourcesList",(t,i)=>{const{showNativePhotoCameraButton:r,showNativeVideoCameraButton:s}=this.props;let o=[];const a="myDevice";i||o.push({key:a,elements:this.renderMyDeviceAcquirer()}),r&&o.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),s&&o.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),o.push(...t.map(d=>({key:d.id,elements:this.renderAcquirer(d)}))),o.length===1&&o[0].key===a&&(o=[]);const c=[...o],p=c.splice(o.length-2,o.length);return l(ne,{children:[this.renderDropPasteBrowseTagline(o.length),l("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[c.map(({key:d,elements:g})=>l(ne,{children:g},d)),l("span",{role:"presentation",style:{"white-space":"nowrap"},children:p.map(({key:d,elements:g})=>l(ne,{children:g},d))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:t}=this.props,i=l("span",{children:[l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:l("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),l("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),r=t("poweredBy",{uppy:i});return l("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:r})}render(){const{showNativePhotoCameraButton:t,showNativeVideoCameraButton:i,nativeCameraFacingMode:r}=this.props;return l("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,s=>{this.fileInput=s}),this.renderHiddenInput(!0,s=>{this.folderInput=s}),t&&this.renderHiddenCameraInput("photo",r,s=>{this.mobilePhotoFileInput=s}),i&&this.renderHiddenCameraInput("video",r,s=>{this.mobileVideoFileInput=s}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),l("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&l("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const ly=n=>l("div",{className:re("uppy-Dashboard-AddFilesPanel",n.className),"data-uppy-panelType":"AddFiles","aria-hidden":!n.showAddFilesPanel,children:[l("div",{className:"uppy-DashboardContent-bar",children:[l("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n.i18n("addingMoreFiles")}),l("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>n.toggleAddFilesPanel(!1),children:n.i18n("back")})]}),l(Xl,{...n})]});function uy(n){const e=n.files[n.fileCardFor],t=()=>{n.uppy.emit("file-editor:cancel",e),n.closeFileEditor()};return l("div",{className:re("uppy-DashboardContent-panel",n.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[l("div",{className:"uppy-DashboardContent-bar",children:[l("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:n.i18nArray("editing",{file:l("span",{className:"uppy-DashboardContent-titleFile",children:e.meta?e.meta.name:e.name})})}),l("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t,children:n.i18n("cancel")}),l("button",{className:"uppy-DashboardContent-save",type:"button",onClick:n.saveFileEditor,children:n.i18n("save")})]}),l("div",{className:"uppy-DashboardContent-panelBody",children:n.editors.map(i=>n.uppy.getPlugin(i.id).render(n.state))})]})}function cy(){return l("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:l("g",{fill:"#686DE0",fillRule:"evenodd",children:[l("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),l("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),l("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function dy(){return l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:l("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function py(){return l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:l("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function hy(){return l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:l("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function fy(){return l("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:l("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function my(){return l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:l("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[l("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),l("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function gy(){return l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:l("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function is(n){const e={color:"#838999",icon:my()};if(!n)return e;const t=n.split("/")[0],i=n.split("/")[1];return t==="text"?{color:"#5a5e69",icon:gy()}:t==="image"?{color:"#686de0",icon:cy()}:t==="audio"?{color:"#068dbb",icon:dy()}:t==="video"?{color:"#19af67",icon:py()}:t==="application"&&i==="pdf"?{color:"#e25149",icon:hy()}:t==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(i)!==-1?{color:"#00C469",icon:fy()}:e}function Ve(n){const{tagName:e}=n.target;if(e==="INPUT"||e==="TEXTAREA"){n.stopPropagation();return}n.preventDefault(),n.stopPropagation()}function Yl(n){const{file:e}=n;if(e.preview)return l("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:e.name,src:e.preview});const{color:t,icon:i}=is(e.type);return l("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[l("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:t},children:i}),l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:l("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function yy(n){const{computedMetaFields:e,requiredMetaFields:t,updateMeta:i,form:r,formState:s}=n,o={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map(a=>{const u=`uppy-Dashboard-FileCard-input-${a.id}`,c=t.includes(a.id);return l("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[l("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:u,children:a.name}),a.render!==void 0?a.render({value:s[a.id],onChange:p=>i(p,a.id),fieldCSSClasses:o,required:c,form:r.id},Fe):l("input",{className:o.text,id:u,form:r.id,type:a.type||"text",required:c,value:s[a.id],placeholder:a.placeholder,onInput:p=>i(p.target.value,a.id),"data-uppy-super-focusable":!0})]},a.id)})}function vy(n){const{files:e,fileCardFor:t,toggleFileCard:i,saveFileCard:r,metaFields:s,requiredMetaFields:o,openFileEditor:a,i18n:u,i18nArray:c,className:p,canEditFile:d}=n,g=()=>typeof s=="function"?s(e[t]):s,v=e[t],_=g()??[],A=d(v),w={};_.forEach(I=>{w[I.id]=v.meta[I.id]??""});const[F,T]=We(w),E=jr(I=>{I.preventDefault(),r(F,t)},[r,F,t]),R=(I,q)=>{T({...F,[q]:I})},M=()=>{i(!1)},[D]=We(()=>{const I=document.createElement("form");return I.setAttribute("tabindex","-1"),I.id=Ci(),I});return Ge(()=>(document.body.appendChild(D),D.addEventListener("submit",E),()=>{D.removeEventListener("submit",E),document.body.removeChild(D)}),[D,E]),l("div",{className:re("uppy-Dashboard-FileCard",p),"data-uppy-panelType":"FileCard",onDragOver:Ve,onDragLeave:Ve,onDrop:Ve,onPaste:Ve,children:[l("div",{className:"uppy-DashboardContent-bar",children:[l("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:c("editing",{file:l("span",{className:"uppy-DashboardContent-titleFile",children:v.meta?v.meta.name:v.name})})}),l("button",{className:"uppy-DashboardContent-back",type:"button",form:D.id,title:u("finishEditingFile"),onClick:M,children:u("cancel")})]}),l("div",{className:"uppy-Dashboard-FileCard-inner",children:[l("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:is(v.type).color},children:[l(Yl,{file:v}),A&&l("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:I=>{E(I),a(v)},children:u("editImage")})]}),l("div",{className:"uppy-Dashboard-FileCard-info",children:l(yy,{computedMetaFields:_,requiredMetaFields:o,updateMeta:R,form:D,formState:F})}),l("div",{className:"uppy-Dashboard-FileCard-actions",children:[l("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:D.id,children:u("saveChanges")}),l("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:M,form:D.id,children:u("cancel")})]})]})]})}function Ye(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),i=Object.keys(e),r=t.length;if(i.length!==r)return!1;for(let s=0;s<r;s++){const o=t[s];if(n[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}function by(n,e="Copy the URL below"){return new Promise(t=>{const i=document.createElement("textarea");i.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),i.value=n,document.body.appendChild(i),i.select();const r=()=>{document.body.removeChild(i),window.prompt(e,n),t()};try{return document.execCommand("copy")?(document.body.removeChild(i),t()):r()}catch{return document.body.removeChild(i),r()}})}function wy({file:n,uploadInProgressOrComplete:e,metaFields:t,canEditFile:i,i18n:r,onClick:s}){return!e&&t&&t.length>0||!e&&i(n)?l("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":r("editFileWithFilename",{file:n.meta.name}),title:r("editFileWithFilename",{file:n.meta.name}),onClick:()=>s(),children:l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:l("g",{fillRule:"evenodd",children:[l("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),l("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),l("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function _y({i18n:n,onClick:e,file:t}){return l("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":n("removeFile",{file:t.meta.name}),title:n("removeFile",{file:t.meta.name}),onClick:()=>e(),children:l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[l("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),l("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function Sy({file:n,uppy:e,i18n:t}){const i=r=>{by(n.uploadURL,t("copyLinkToClipboardFallback")).then(()=>{e.log("Link copied to clipboard."),e.info(t("copyLinkToClipboardSuccess"),"info",3e3)}).catch(e.log).then(()=>r.target.focus({preventScroll:!0}))};return l("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:r=>i(r),children:l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:l("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function Fy(n){const{uppy:e,file:t,uploadInProgressOrComplete:i,canEditFile:r,metaFields:s,showLinkToFileUploadResult:o,showRemoveButton:a,i18n:u,toggleFileCard:c,openFileEditor:p}=n;return l("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[l(wy,{i18n:u,file:t,uploadInProgressOrComplete:i,canEditFile:r,metaFields:s,onClick:()=>{s&&s.length>0?c(!0,t.id):p(t)}}),o&&t.uploadURL?l(Sy,{file:t,uppy:e,i18n:u}):null,a?l(_y,{i18n:u,file:t,onClick:()=>e.removeFile(t.id)}):null]})}const Gi="...";function Ql(n,e){if(e===0)return"";if(n.length<=e)return n;if(e<=Gi.length+1)return`${n.slice(0,e-1)}â€¦`;const t=e-Gi.length,i=Math.ceil(t/2),r=Math.floor(t/2);return n.slice(0,i)+Gi+n.slice(-r)}const Py=(n,e)=>(typeof e=="function"?e():e).filter(r=>r.id===n)[0].name;function Zl(n){const{file:e,toggleFileCard:t,i18n:i,metaFields:r}=n,{missingRequiredMetaFields:s}=e;if(!(s!=null&&s.length))return null;const o=s.map(a=>Py(a,r)).join(", ");return l("div",{className:"uppy-Dashboard-Item-errorMessage",children:[i("missingRequiredMetaFields",{smart_count:s.length,fields:o})," ",l("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>t(!0,e.id),children:i("editFile")})]})}const ky=n=>{const{author:e,name:t}=n.file.meta;function i(){return n.isSingleFile&&n.containerHeight>=350?90:n.containerWidth<=352?35:n.containerWidth<=576?60:e?20:30}return l("div",{className:"uppy-Dashboard-Item-name",title:t,children:Ql(t,i())})},Ty=n=>{var r;const{author:e}=n.file.meta,t=(r=n.file.remote)==null?void 0:r.providerName,i="Â·";return e?l("div",{className:"uppy-Dashboard-Item-author",children:[l("a",{href:`${e.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:Ql(e.name,13)}),t?l(ne,{children:[` ${i} `,t,` ${i} `]}):null]}):null},Cy=n=>n.file.size&&l("div",{className:"uppy-Dashboard-Item-statusSize",children:tt(n.file.size)}),Ay=n=>n.file.isGhost&&l("span",{children:[" â€¢ ",l("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>n.toggleAddFilesPanel(!0),children:n.i18n("reSelect")})]}),Ey=({file:n,onClick:e})=>n.error?l("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":n.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:e,type:"button",children:"?"}):null;function xy(n){const{file:e,i18n:t,toggleFileCard:i,metaFields:r,toggleAddFilesPanel:s,isSingleFile:o,containerHeight:a,containerWidth:u}=n;return l("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":e.source,children:[l("div",{className:"uppy-Dashboard-Item-fileName",children:[ky({file:e,isSingleFile:o,containerHeight:a,containerWidth:u}),l(Ey,{file:e,onClick:()=>alert(e.error)})]}),l("div",{className:"uppy-Dashboard-Item-status",children:[Ty({file:e}),Cy({file:e}),Ay({file:e,toggleAddFilesPanel:s,i18n:t})]}),l(Zl,{file:e,i18n:t,toggleFileCard:i,metaFields:r})]})}function Uy(n){const{file:e,i18n:t,toggleFileCard:i,metaFields:r,showLinkToFileUploadResult:s}=n,a=e.preview?"rgba(255, 255, 255, 0.5)":is(e.type).color;return l("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:a},children:[s&&e.uploadURL&&l("a",{className:"uppy-Dashboard-Item-previewLink",href:e.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.meta.name,children:l("span",{hidden:!0,children:e.meta.name})}),l(Yl,{file:e}),l(Zl,{file:e,i18n:t,toggleFileCard:i,metaFields:r})]})}function Oy(n){if(!n.isUploaded){if(n.error&&!n.hideRetryButton){n.uppy.retryUpload(n.file.id);return}n.resumableUploads&&!n.hidePauseResumeButton?n.uppy.pauseResume(n.file.id):n.individualCancellation&&!n.hideCancelButton&&n.uppy.removeFile(n.file.id)}}function Ro(n){return n.isUploaded?n.i18n("uploadComplete"):n.error?n.i18n("retryUpload"):n.resumableUploads?n.file.isPaused?n.i18n("resumeUpload"):n.i18n("pauseUpload"):n.individualCancellation?n.i18n("cancelUpload"):""}function Ki(n){return l("div",{className:"uppy-Dashboard-Item-progress",children:l("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Ro(n),title:Ro(n),onClick:()=>Oy(n),children:n.children})})}function Zn({children:n}){return l("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:n})}function Xi({progress:n}){const e=2*Math.PI*15;return l("g",{children:[l("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),l("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":e,"stroke-dashoffset":e-e/100*n})]})}function Dy(n){return!n.file.progress.uploadStarted||n.file.progress.percentage===void 0?null:n.isUploaded?l("div",{className:"uppy-Dashboard-Item-progress",children:l("div",{className:"uppy-Dashboard-Item-progressIndicator",children:l(Zn,{children:[l("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),l("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):n.recoveredState?null:n.error&&!n.hideRetryButton?l(Ki,{...n,children:l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[l("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),l("path",{d:"M7.9 3H10v2H7.9z"}),l("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),l("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):n.resumableUploads&&!n.hidePauseResumeButton?l(Ki,{...n,children:l(Zn,{children:[l(Xi,{progress:n.file.progress.percentage}),n.file.isPaused?l("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):l("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[l("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),l("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!n.resumableUploads&&n.individualCancellation&&!n.hideCancelButton?l(Ki,{...n,children:l(Zn,{children:[l(Xi,{progress:n.file.progress.percentage}),l("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):l("div",{className:"uppy-Dashboard-Item-progress",children:l("div",{className:"uppy-Dashboard-Item-progressIndicator",children:l(Zn,{children:l(Xi,{progress:n.file.progress.percentage})})})})}class Iy extends ue{componentDidMount(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!Ye(this.props,e)}componentDidUpdate(){const{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){const{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){const{file:e}=this.props,t=e.progress.preprocess||e.progress.postprocess,i=!!e.progress.uploadComplete&&!t&&!e.error,r=!!e.progress.uploadStarted||!!t,s=e.progress.uploadStarted&&!e.progress.uploadComplete||t,o=e.error||!1,{isGhost:a}=e;let u=(this.props.individualCancellation||!s)&&!i;i&&this.props.showRemoveButtonAfterComplete&&(u=!0);const c=re({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":t,"is-complete":i,"is-error":!!o,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":a});return l("div",{className:c,id:`uppy_${e.id}`,role:this.props.role,children:[l("div",{className:"uppy-Dashboard-Item-preview",children:[l(Uy,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),l(Dy,{uppy:this.props.uppy,file:e,error:o,isUploaded:i,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),l("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[l(xy,{file:e,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),l(Fy,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:u,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Ry(n,e){const t=[];let i=[];return n.forEach(r=>{i.length<e?i.push(r):(t.push(i),i=[r])}),i.length&&t.push(i),t}function Ny({id:n,i18n:e,uppy:t,files:i,resumableUploads:r,hideRetryButton:s,hidePauseResumeButton:o,hideCancelButton:a,showLinkToFileUploadResult:u,showRemoveButtonAfterComplete:c,metaFields:p,isSingleFile:d,toggleFileCard:g,handleRequestThumbnail:v,handleCancelThumbnail:_,recoveredState:A,individualCancellation:w,itemsPerRow:F,openFileEditor:T,canEditFile:E,toggleAddFilesPanel:R,containerWidth:M,containerHeight:D}){const I=F===1?71:200,q=ht(()=>{const ae=(le,ye)=>Number(i[ye].isGhost)-Number(i[le].isGhost),W=Object.keys(i);return A&&W.sort(ae),Ry(W,F)},[i,F,A]),V=ae=>l("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:ae.map(W=>l(Iy,{uppy:t,id:n,i18n:e,resumableUploads:r,individualCancellation:w,hideRetryButton:s,hidePauseResumeButton:o,hideCancelButton:a,showLinkToFileUploadResult:u,showRemoveButtonAfterComplete:c,metaFields:p,recoveredState:A,isSingleFile:d,containerWidth:M,containerHeight:D,toggleFileCard:g,handleRequestThumbnail:v,handleCancelThumbnail:_,role:"listitem",openFileEditor:T,canEditFile:E,toggleAddFilesPanel:R,file:i[W]},W))},ae[0]);return d?l("div",{class:"uppy-Dashboard-files",children:V(q[0])}):l(pl,{class:"uppy-Dashboard-files",role:"list",data:q,renderRow:V,rowHeight:I})}function By({activePickerPanel:n,className:e,hideAllPanels:t,i18n:i,state:r,uppy:s}){const o=ti(null);return l("div",{className:re("uppy-DashboardContent-panel",e),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${n.id}`,onDragOver:Ve,onDragLeave:Ve,onDrop:Ve,onPaste:Ve,children:[l("div",{className:"uppy-DashboardContent-bar",children:[l("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:i("importFrom",{name:n.name})}),l("button",{className:"uppy-DashboardContent-back",type:"button",onClick:t,children:i("cancel")})]}),l("div",{ref:o,className:"uppy-DashboardContent-panelBody",children:s.getPlugin(n.id).render(r,o.current)})]})}const ke={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function My(n,e,t,i={}){if(n)return ke.STATE_ERROR;if(e)return ke.STATE_COMPLETE;if(t)return ke.STATE_PAUSED;let r=ke.STATE_WAITING;const s=Object.keys(i);for(let o=0;o<s.length;o++){const{progress:a}=i[s[o]];if(a.uploadStarted&&!a.uploadComplete)return ke.STATE_UPLOADING;a.preprocess&&r!==ke.STATE_UPLOADING&&(r=ke.STATE_PREPROCESSING),a.postprocess&&r!==ke.STATE_UPLOADING&&r!==ke.STATE_PREPROCESSING&&(r=ke.STATE_POSTPROCESSING)}return r}function zy({files:n,i18n:e,isAllComplete:t,isAllErrored:i,isAllPaused:r,inProgressNotPausedFiles:s,newFiles:o,processingFiles:a}){switch(My(i,t,r,n)){case"uploading":return e("uploadingXFiles",{smart_count:s.length});case"preprocessing":case"postprocessing":return e("processingXFiles",{smart_count:a.length});case"paused":return e("uploadPaused");case"waiting":return e("xFilesSelected",{smart_count:o.length});case"complete":return e("uploadComplete");case"error":return e("error");default:}}function Ly(n){const{i18n:e,isAllComplete:t,hideCancelButton:i,maxNumberOfFiles:r,toggleAddFilesPanel:s,uppy:o}=n;let{allowNewUpload:a}=n;return a&&r&&(a=n.totalFileCount<n.maxNumberOfFiles),l("div",{className:"uppy-DashboardContent-bar",children:[!t&&!i?l("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll(),children:e("cancel")}):l("div",{}),l("div",{className:"uppy-DashboardContent-title",children:l(zy,{...n})}),a?l("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":e("addMoreFiles"),title:e("addMoreFiles"),onClick:()=>s(!0),children:[l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:l("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),l("span",{className:"uppy-DashboardContent-addMoreCaption",children:e("addMore")})]}):l("div",{})]})}const yt="uppy-transition-slideDownUp",No=250;function Jn({children:n}){const[e,t]=We(null),[i,r]=We(""),s=ti(),o=ti(),a=ti(),u=()=>{r(`${yt}-enter`),cancelAnimationFrame(a.current),clearTimeout(o.current),o.current=void 0,a.current=requestAnimationFrame(()=>{r(`${yt}-enter ${yt}-enter-active`),s.current=setTimeout(()=>{r("")},No)})},c=()=>{r(`${yt}-leave`),cancelAnimationFrame(a.current),clearTimeout(s.current),s.current=void 0,a.current=requestAnimationFrame(()=>{r(`${yt}-leave ${yt}-leave-active`),o.current=setTimeout(()=>{t(null),r("")},No)})};return Ge(()=>{const p=_e(n)[0];e!==p&&(p&&!e?u():e&&!p&&!o.current&&c(),t(p))},[n,e]),Ge(()=>()=>{clearTimeout(s.current),clearTimeout(o.current),cancelAnimationFrame(a.current)},[]),e?oa(e,{className:re(i,e.props.className)}):null}const Bo=900,Mo=700,Yi=576,zo=330;function $y(n){const e=n.totalFileCount===0,t=n.totalFileCount===1,i=n.containerWidth>Yi,r=n.containerHeight>zo,s=re({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":n.disabled,"uppy-Dashboard--animateOpenClose":n.animateOpenClose,"uppy-Dashboard--isClosing":n.isClosing,"uppy-Dashboard--isDraggingOver":n.isDraggingOver,"uppy-Dashboard--modal":!n.inline,"uppy-size--md":n.containerWidth>Yi,"uppy-size--lg":n.containerWidth>Mo,"uppy-size--xl":n.containerWidth>Bo,"uppy-size--height-md":n.containerHeight>zo,"uppy-Dashboard--isAddFilesPanelVisible":n.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":n.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":n.singleFileFullScreen&&t&&r});let o=1;n.containerWidth>Bo?o=5:n.containerWidth>Mo?o=4:n.containerWidth>Yi&&(o=3);const a=n.showSelectedFiles&&!e,u=n.recoveredState?Object.keys(n.recoveredState.files).length:null,c=n.files?Object.keys(n.files).filter(g=>n.files[g].isGhost).length:0,p=()=>c>0?n.i18n("recoveredXFiles",{smart_count:c}):n.i18n("recoveredAllFiles");return l("div",{className:s,"data-uppy-theme":n.theme,"data-uppy-num-acquirers":n.acquirers.length,"data-uppy-drag-drop-supported":!n.disableLocalFiles&&Kl(),"aria-hidden":n.inline?"false":n.isHidden,"aria-disabled":n.disabled,"aria-label":n.inline?n.i18n("dashboardTitle"):n.i18n("dashboardWindowTitle"),onPaste:n.handlePaste,onDragOver:n.handleDragOver,onDragLeave:n.handleDragLeave,onDrop:n.handleDrop,children:[l("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:n.handleClickOutside}),l("div",{className:"uppy-Dashboard-inner",role:n.inline?void 0:"dialog",style:{width:n.inline&&n.width?n.width:"",height:n.inline&&n.height?n.height:""},children:[n.inline?null:l("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":n.i18n("closeModal"),title:n.i18n("closeModal"),onClick:n.closeModal,children:l("span",{"aria-hidden":"true",children:"Ã—"})}),l("div",{className:"uppy-Dashboard-innerWrap",children:[l("div",{className:"uppy-Dashboard-dropFilesHereHint",children:n.i18n("dropHint")}),a&&l(Ly,{...n}),u&&l("div",{className:"uppy-Dashboard-serviceMsg",children:[l("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:l("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[l("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),l("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),l("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),l("strong",{className:"uppy-Dashboard-serviceMsg-title",children:n.i18n("sessionRestored")}),l("div",{className:"uppy-Dashboard-serviceMsg-text",children:p()})]}),a?l(Ny,{id:n.id,i18n:n.i18n,uppy:n.uppy,files:n.files,resumableUploads:n.resumableUploads,hideRetryButton:n.hideRetryButton,hidePauseResumeButton:n.hidePauseResumeButton,hideCancelButton:n.hideCancelButton,showLinkToFileUploadResult:n.showLinkToFileUploadResult,showRemoveButtonAfterComplete:n.showRemoveButtonAfterComplete,metaFields:n.metaFields,toggleFileCard:n.toggleFileCard,handleRequestThumbnail:n.handleRequestThumbnail,handleCancelThumbnail:n.handleCancelThumbnail,recoveredState:n.recoveredState,individualCancellation:n.individualCancellation,openFileEditor:n.openFileEditor,canEditFile:n.canEditFile,toggleAddFilesPanel:n.toggleAddFilesPanel,isSingleFile:t,itemsPerRow:o,containerWidth:n.containerWidth,containerHeight:n.containerHeight}):l(Xl,{i18n:n.i18n,i18nArray:n.i18nArray,acquirers:n.acquirers,handleInputChange:n.handleInputChange,maxNumberOfFiles:n.maxNumberOfFiles,allowedFileTypes:n.allowedFileTypes,showNativePhotoCameraButton:n.showNativePhotoCameraButton,showNativeVideoCameraButton:n.showNativeVideoCameraButton,nativeCameraFacingMode:n.nativeCameraFacingMode,showPanel:n.showPanel,activePickerPanel:n.activePickerPanel,disableLocalFiles:n.disableLocalFiles,fileManagerSelectionType:n.fileManagerSelectionType,note:n.note,proudlyDisplayPoweredByUppy:n.proudlyDisplayPoweredByUppy}),l(Jn,{children:n.showAddFilesPanel?l(ly,{...n,isSizeMD:i},"AddFiles"):null}),l(Jn,{children:n.fileCardFor?l(vy,{...n},"FileCard"):null}),l(Jn,{children:n.activePickerPanel?l(By,{...n},"Picker"):null}),l(Jn,{children:n.showFileEditor?l(uy,{...n},"Editor"):null}),l("div",{className:"uppy-Dashboard-progressindicators",children:n.progressindicators.map(g=>n.uppy.getPlugin(g.id).render(n.state))})]})]})]})}const jy={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}},Jl=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function eu(n,e){if(e){const t=n.querySelector(`[data-uppy-paneltype="${e}"]`);if(t)return t}return n}function Hy(){let n=!1;return od((t,i)=>{const r=eu(t,i),s=r.contains(document.activeElement);if(s&&n)return;const o=r.querySelector("[data-uppy-super-focusable]");if(!(s&&!o))if(o)o.focus({preventScroll:!0}),n=!0;else{const a=r.querySelector(Jl);a==null||a.focus({preventScroll:!0}),n=!1}},260)}function Lo(n,e){const t=e[0];t&&(t.focus(),n.preventDefault())}function qy(n,e){const t=e[e.length-1];t&&(t.focus(),n.preventDefault())}function Vy(n){return n.contains(document.activeElement)}function tu(n,e,t){const i=eu(t,e),r=pt(i.querySelectorAll(Jl)),s=r.indexOf(document.activeElement);Vy(i)?n.shiftKey&&s===0?qy(n,r):!n.shiftKey&&s===r.length-1&&Lo(n,r):Lo(n,r)}function Wy(n,e,t){e===null||tu(n,e,t)}const $o=9,Gy=27;function jo(){const n={};return n.promise=new Promise((e,t)=>{n.resolve=e,n.reject=t}),n}const Ky={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:xl,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Zi,$t,ut,Nn,jt,_i,Si,Fi,ct,Pi,ki,Ht,Z,Dr,Ir,iu,Rr,Nr,ru;let nu=(Zi=class extends Me{constructor(t,i){var s;const r=(i==null?void 0:i.autoOpen)??null;super(t,{...Ky,...i,autoOpen:r});x(this,Z);x(this,$t);y(this,"modalName",`uppy-Dashboard-${Ci()}`);y(this,"superFocus",Hy());y(this,"ifFocusedOnUppyRecently",!1);y(this,"dashboardIsDisabled");y(this,"savedScrollPosition");y(this,"savedActiveElement");y(this,"resizeObserver");y(this,"darkModeMediaQuery");y(this,"makeDashboardInsidesVisibleAnywayTimeout");y(this,"removeTarget",t=>{const r=this.getPluginState().targets.filter(s=>s.id!==t.id);this.setPluginState({targets:r})});y(this,"addTarget",t=>{const i=t.id||t.constructor.name,r=t.title||i,s=t.type;if(s!=="acquirer"&&s!=="progressindicator"&&s!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const o={id:i,name:r,type:s},u=this.getPluginState().targets.slice();return u.push(o),this.setPluginState({targets:u}),this.el});y(this,"hideAllPanels",()=>{var r;const t=this.getPluginState(),i={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};t.activePickerPanel===i.activePickerPanel&&t.showAddFilesPanel===i.showAddFilesPanel&&t.showFileEditor===i.showFileEditor&&t.activeOverlayType===i.activeOverlayType||(this.setPluginState(i),this.uppy.emit("dashboard:close-panel",(r=t.activePickerPanel)==null?void 0:r.id))});y(this,"showPanel",t=>{const{targets:i}=this.getPluginState(),r=i.find(s=>s.type==="acquirer"&&s.id===t);this.setPluginState({activePickerPanel:r,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",t)});y(this,"canEditFile",t=>{const{targets:i}=this.getPluginState();return f(this,ct).call(this,i).some(s=>this.uppy.getPlugin(s.id).canEditFile(t))});y(this,"openFileEditor",t=>{const{targets:i}=this.getPluginState(),r=f(this,ct).call(this,i);this.setPluginState({showFileEditor:!0,fileCardFor:t.id||null,activeOverlayType:"FileEditor"}),r.forEach(s=>{this.uppy.getPlugin(s.id).selectFile(t)})});y(this,"closeFileEditor",()=>{const{metaFields:t}=this.getPluginState();t&&t.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});y(this,"saveFileEditor",()=>{const{targets:t}=this.getPluginState();f(this,ct).call(this,t).forEach(r=>{this.uppy.getPlugin(r.id).save()}),this.closeFileEditor()});y(this,"openModal",()=>{const{promise:t,resolve:i}=jo();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const r=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",r,!1),i()};this.el.addEventListener("animationend",r,!1)}else this.setPluginState({isHidden:!1}),i();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),t});y(this,"closeModal",t=>{var u;const i=(t==null?void 0:t.manualClose)??!0,{isHidden:r,isClosing:s}=this.getPluginState();if(r||s)return;const{promise:o,resolve:a}=jo();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const c=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",c,!1),a()};this.el.addEventListener("animationend",c,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),a();return document.removeEventListener("keydown",this.handleKeyDownInModal),i&&this.opts.browserBackButtonClose&&(u=history.state)!=null&&u[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),o});y(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);y(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());y(this,"setDarkModeCapability",t=>{const{capabilities:i}=this.uppy.getState();this.uppy.setState({capabilities:{...i,darkMode:t}})});y(this,"handleSystemDarkModeChange",t=>{const i=t.matches;this.uppy.log(`[Dashboard] Dark mode is ${i?"on":"off"}`),this.setDarkModeCapability(i)});y(this,"toggleFileCard",(t,i)=>{const r=this.uppy.getFile(i);t?this.uppy.emit("dashboard:file-edit-start",r):this.uppy.emit("dashboard:file-edit-complete",r),this.setPluginState({fileCardFor:t?i:null,activeOverlayType:t?"FileCard":null})});y(this,"toggleAddFilesPanel",t=>{this.setPluginState({showAddFilesPanel:t,activeOverlayType:t?"AddFiles":null})});y(this,"addFiles",t=>{const i=t.map(r=>({source:this.id,name:r.name,type:r.type,data:r,meta:{relativePath:r.relativePath||r.webkitRelativePath||null}}));try{this.uppy.addFiles(i)}catch(r){this.uppy.log(r)}});y(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(t=>{const i=t[0],{width:r,height:s}=i.contentRect;this.setPluginState({containerWidth:r,containerHeight:s,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const t=this.getPluginState(),i=!this.opts.inline&&t.isHidden;!t.areInsidesReadyToBeVisible&&!i&&(this.uppy.log("[Dashboard] resize event didnâ€™t fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});y(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});y(this,"recordIfFocusedOnUppyRecently",t=>{this.el.contains(t.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});y(this,"disableInteractiveElements",t=>{const i=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],r=f(this,$t)??pt(this.el.querySelectorAll(i)).filter(s=>!s.classList.contains("uppy-Dashboard-close"));for(const s of r)s.tagName==="A"?s.setAttribute("aria-disabled",t):s.disabled=t;t?U(this,$t,r):U(this,$t,null),this.dashboardIsDisabled=t});y(this,"updateBrowserHistory",()=>{var t;(t=history.state)!=null&&t[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});y(this,"handlePopState",t=>{var i;this.isModalOpen()&&(!t.state||!t.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((i=t.state)!=null&&i[this.modalName])&&history.back()});y(this,"handleKeyDownInModal",t=>{t.keyCode===Gy&&this.requestCloseModal(),t.keyCode===$o&&tu(t,this.getPluginState().activeOverlayType,this.el)});y(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});y(this,"handlePaste",t=>{this.uppy.iteratePlugins(r=>{var s;r.type==="acquirer"&&((s=r.handleRootPaste)==null||s.call(r,t))});const i=pt(t.clipboardData.files);i.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(i))});y(this,"handleInputChange",t=>{t.preventDefault();const i=pt(t.currentTarget.files||[]);i.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(i))});y(this,"handleDragOver",t=>{t.preventDefault(),t.stopPropagation();const i=()=>{let a=!0;return this.uppy.iteratePlugins(u=>{var c;(c=u.canHandleRootDrop)!=null&&c.call(u,t)&&(a=!0)}),a},r=()=>{const{types:a}=t.dataTransfer;return a.some(u=>u==="Files")},s=i(),o=r();if(!s&&!o||this.opts.disabled||this.opts.disableLocalFiles&&(o||!s)||!this.uppy.getState().allowNewUpload){t.dataTransfer.dropEffect="none";return}t.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(t)});y(this,"handleDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(t)});y(this,"handleDrop",async t=>{t.preventDefault(),t.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(o=>{var a;o.type==="acquirer"&&((a=o.handleRootDrop)==null||a.call(o,t))});let i=!1;const r=o=>{this.uppy.log(o,"error"),i||(this.uppy.info(o.message,"error"),i=!0)};this.uppy.log("[Dashboard] Processing dropped files");const s=await Gl(t.dataTransfer,{logDropError:r});s.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(s)),this.opts.onDrop(t)});y(this,"handleRequestThumbnail",t=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",t)});y(this,"handleCancelThumbnail",t=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",t)});y(this,"handleKeyDownInInline",t=>{t.keyCode===$o&&Wy(t,this.getPluginState().activeOverlayType,this.el)});y(this,"handlePasteOnBody",t=>{this.el.contains(document.activeElement)&&this.handlePaste(t)});y(this,"handleComplete",({failed:t})=>{this.opts.closeAfterFinish&&!(t!=null&&t.length)&&this.requestCloseModal()});y(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});x(this,ut,()=>{if(this.opts.disableThumbnailGenerator)return;const t=600,i=this.uppy.getFiles();if(i.length===1){const r=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);r==null||r.setOptions({thumbnailWidth:t});const s={...i[0],preview:void 0};r==null||r.requestThumbnail(s).then(()=>{r==null||r.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});x(this,Nn,t=>{const i=t[0],{metaFields:r}=this.getPluginState(),s=r&&r.length>0,o=this.canEditFile(i);s&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,i.id):o&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(i)});y(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const t=Io(this.opts.trigger);t?t.forEach(i=>i.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",f(this,Ht)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",f(this,ut)),this.uppy.on("file-removed",f(this,ut)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",f(this,Nn))});y(this,"removeEvents",()=>{const t=Io(this.opts.trigger);!this.opts.inline&&t&&t.forEach(i=>i.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",f(this,Ht)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",f(this,ut)),this.uppy.off("file-removed",f(this,ut)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",f(this,Nn))});y(this,"superFocusOnEachUpdate",()=>{const t=this.el.contains(document.activeElement),i=document.activeElement===document.body||document.activeElement===null,r=this.uppy.getState().info.length===0,s=!this.opts.inline;r&&(s||t||i&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});y(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});y(this,"saveFileCard",(t,i)=>{this.uppy.setFileMeta(i,t),this.toggleFileCard(!1,i)});x(this,jt,t=>{const i=this.uppy.getPlugin(t.id);return{...t,icon:i.icon||this.opts.defaultPickerIcon,render:i.render}});x(this,_i,t=>{const i=this.uppy.getPlugin(t.id);return typeof i.isSupported!="function"?!0:i.isSupported()});x(this,Si,t=>t.filter(i=>i.type==="acquirer"&&f(this,_i).call(this,i)).map(f(this,jt)));x(this,Fi,t=>t.filter(i=>i.type==="progressindicator").map(f(this,jt)));x(this,ct,t=>t.filter(i=>i.type==="editor").map(f(this,jt)));y(this,"render",t=>{const i=this.getPluginState(),{files:r,capabilities:s,allowNewUpload:o}=t,{newFiles:a,uploadStartedFiles:u,completeFiles:c,erroredFiles:p,inProgressFiles:d,inProgressNotPausedFiles:g,processingFiles:v,isUploadStarted:_,isAllComplete:A,isAllPaused:w}=this.uppy.getObjectOfFilesPerState(),F=f(this,Si).call(this,i.targets),T=f(this,Fi).call(this,i.targets),E=f(this,ct).call(this,i.targets);let R;return this.opts.theme==="auto"?R=s.darkMode?"dark":"light":R=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),$y({state:t,isHidden:i.isHidden,files:r,newFiles:a,uploadStartedFiles:u,completeFiles:c,erroredFiles:p,inProgressFiles:d,inProgressNotPausedFiles:g,processingFiles:v,isUploadStarted:_,isAllComplete:A,isAllPaused:w,totalFileCount:Object.keys(r).length,totalProgress:t.totalProgress,allowNewUpload:o,acquirers:F,theme:R,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:i.activePickerPanel,showFileEditor:i.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:i.isClosing,progressindicators:T,editors:E,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:t.recoveredState,metaFields:i.metaFields,resumableUploads:s.resumableUploads||!1,individualCancellation:s.individualCancellation,isMobileDevice:s.isMobileDevice,fileCardFor:i.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:i.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:i.containerWidth,containerHeight:i.containerHeight,areInsidesReadyToBeVisible:i.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:i.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})});x(this,Pi,()=>{const{plugins:t}=this.opts;t.forEach(i=>{const r=this.uppy.getPlugin(i);r?r.mount(this,r):this.uppy.log(`[Uppy] Dashboard could not find plugin '${i}', make sure to uppy.use() the plugins you are specifying`,"warning")})});x(this,ki,()=>{this.uppy.iteratePlugins(f(this,Ht))});x(this,Ht,t=>{var r;const i=["acquirer","editor"];t&&!((r=t.opts)!=null&&r.target)&&i.includes(t.type)&&(this.getPluginState().targets.some(o=>t.id===o.id)||t.mount(this,t))});y(this,"install",()=>{var u;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:t,closeAfterFinish:i}=this.opts;if(t&&i)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:r,allowMultipleUploadBatches:s}=this.uppy.opts;(r||s)&&i&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:o}=this.opts;o&&this.mount(o,this),this.opts.disableStatusBar||this.uppy.use(Dl,{id:C(this,Z,Rr).call(this),target:this,...C(this,Z,Dr).call(this)}),this.opts.disableInformer||this.uppy.use(ul,{id:C(this,Z,ru).call(this),target:this,...C(this,Z,iu).call(this)}),this.opts.disableThumbnailGenerator||this.uppy.use(Hl,{id:C(this,Z,Nr).call(this),...C(this,Z,Ir).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const a=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${a?"on":"off"}`),this.setDarkModeCapability(a),this.opts.theme==="auto"&&((u=this.darkModeMediaQuery)==null||u.addListener(this.handleSystemDarkModeChange)),f(this,Pi).call(this),f(this,ki).call(this),this.initEvents()});y(this,"uninstall",()=>{var i;if(!this.opts.disableInformer){const r=this.uppy.getPlugin(`${this.id}:Informer`);r&&this.uppy.removePlugin(r)}if(!this.opts.disableStatusBar){const r=this.uppy.getPlugin(`${this.id}:StatusBar`);r&&this.uppy.removePlugin(r)}if(!this.opts.disableThumbnailGenerator){const r=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);r&&this.uppy.removePlugin(r)}const{plugins:t}=this.opts;t.forEach(r=>{const s=this.uppy.getPlugin(r);s&&s.unmount()}),this.opts.theme==="auto"&&((i=this.darkModeMediaQuery)==null||i.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=jy,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(s=this.opts).onRequestCloseModal??(s.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(t){var i,r;super.setOptions(t),(i=this.uppy.getPlugin(C(this,Z,Rr).call(this)))==null||i.setOptions(C(this,Z,Dr).call(this)),(r=this.uppy.getPlugin(C(this,Z,Nr).call(this)))==null||r.setOptions(C(this,Z,Ir).call(this))}},$t=new WeakMap,ut=new WeakMap,Nn=new WeakMap,jt=new WeakMap,_i=new WeakMap,Si=new WeakMap,Fi=new WeakMap,ct=new WeakMap,Pi=new WeakMap,ki=new WeakMap,Ht=new WeakMap,Z=new WeakSet,Dr=function(){const{hideUploadButton:t,hideRetryButton:i,hidePauseResumeButton:r,hideCancelButton:s,showProgressDetails:o,hideProgressAfterFinish:a,locale:u,doneButtonHandler:c}=this.opts;return{hideUploadButton:t,hideRetryButton:i,hidePauseResumeButton:r,hideCancelButton:s,showProgressDetails:o,hideAfterFinish:a,locale:u,doneButtonHandler:c}},Ir=function(){const{thumbnailWidth:t,thumbnailHeight:i,thumbnailType:r,waitForThumbnailsBeforeUpload:s}=this.opts;return{thumbnailWidth:t,thumbnailHeight:i,thumbnailType:r,waitForThumbnailsBeforeUpload:s,lazy:!s}},iu=function(){return{}},Rr=function(){return`${this.id}:StatusBar`},Nr=function(){return`${this.id}:ThumbnailGenerator`},ru=function(){return`${this.id}:Informer`},y(Zi,"VERSION",ay.version),Zi);function Kt(n,e,t,i){Xe(()=>{n()}),qo(()=>{t.removePlugin(e.value)}),ce(()=>i.value,(r,s)=>{Ye(r,s)||e.value.setOptions({...r})})}const P0=pe({name:"Dashboard",props:{uppy:{type:Object,required:!0},props:{type:Object}},setup(n){const e=H(),t=H(),i=H(n.props);return Kt(()=>{const{uppy:s}=n,o={id:"Dashboard",inline:!0,...n.props,target:e.value};s.use(nu,o),t.value=s.getPlugin(o.id)},t,n.uppy,i),()=>ge("div",{ref:e})}}),k0=pe({name:"DashboardModal",props:{uppy:{type:zn,required:!0},props:{type:Object},open:{type:Boolean,required:!0}},setup(n){const e=H(),t=H(),i=H(n.props);return Kt(()=>{const{uppy:s}=n,o={id:"DashboardModal",inline:!1,...n.props,target:e.value};s.use(nu,o),t.value=s.getPlugin(o.id)},t,n.uppy,i),ce(()=>n.open,(s,o)=>{s&&!o&&t.value.openModal(),!s&&o&&t.value.closeModal()}),()=>ge("div",{ref:e})}}),Xy="@uppy/drag-drop",Yy="Droppable zone UI for Uppy. Drag and drop files into it to upload.",Qy="4.2.2",Zy="MIT",Jy="lib/index.js",e1="dist/style.min.css",t1="module",n1={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},i1=["file uploader","uppy","uppy-plugin","drag-drop","drag","drop","dropzone","upload"],r1="https://uppy.io",s1={url:"https://github.com/transloadit/uppy/issues"},o1={type:"git",url:"git+https://github.com/transloadit/uppy.git"},a1=["src","lib","dist","CHANGELOG.md"],l1={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},u1={"@uppy/core":"^4.5.2"},c1={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},d1={name:Xy,description:Yy,version:Qy,license:Zy,main:Jy,style:e1,type:t1,scripts:n1,keywords:i1,homepage:r1,bugs:s1,repository:o1,files:a1,dependencies:l1,peerDependencies:u1,devDependencies:c1},p1={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},h1={inputName:"files[]",width:"100%",height:"100%"};var dt;let f1=(dt=class extends Me{constructor(t,i){super(t,{...h1,...i});y(this,"isDragDropSupported",Kl());y(this,"fileInputRef");y(this,"addFiles",t=>{const i=t.map(r=>({source:this.id,name:r.name,type:r.type,data:r,meta:{relativePath:r.relativePath||null}}));try{this.uppy.addFiles(i)}catch(r){this.uppy.log(r)}});y(this,"onInputChange",t=>{const i=pt(t.currentTarget.files||[]);i.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(i)),t.currentTarget.value=""});y(this,"handleDragOver",t=>{var o,a;t.preventDefault(),t.stopPropagation();const{types:i}=t.dataTransfer,r=i.some(u=>u==="Files"),{allowNewUpload:s}=this.uppy.getState();if(!r||!s){t.dataTransfer.dropEffect="none";return}t.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),(a=(o=this.opts).onDragOver)==null||a.call(o,t)});y(this,"handleDragLeave",t=>{var i,r;t.preventDefault(),t.stopPropagation(),this.setPluginState({isDraggingOver:!1}),(r=(i=this.opts).onDragLeave)==null||r.call(i,t)});y(this,"handleDrop",async t=>{var s,o;t.preventDefault(),t.stopPropagation(),this.setPluginState({isDraggingOver:!1});const i=a=>{this.uppy.log(a,"error")},r=await Gl(t.dataTransfer,{logDropError:i});r.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(r)),(o=(s=this.opts).onDrop)==null||o.call(s,t)});this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=p1,this.i18nInit()}renderHiddenFileInput(){var i;const{restrictions:t}=this.uppy.opts;return l("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:r=>{this.fileInputRef=r},name:this.opts.inputName,multiple:t.maxNumberOfFiles!==1,accept:(i=t.allowedFileTypes)==null?void 0:i.join(", "),onChange:this.onInputChange})}static renderArrowSvg(){return l("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16",children:l("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"})})}renderLabel(){return l("div",{className:"uppy-DragDrop-label",children:this.i18nArray("dropHereOr",{browse:l("span",{className:"uppy-DragDrop-browse",children:this.i18n("browse")})})})}renderNote(){return l("span",{className:"uppy-DragDrop-note",children:this.opts.note})}render(){const t=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,i={width:this.opts.width,height:this.opts.height};return l("button",{type:"button",className:t,style:i,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,children:[this.renderHiddenFileInput(),l("div",{className:"uppy-DragDrop-inner",children:[dt.renderArrowSvg(),this.renderLabel(),this.renderNote()]})]})}install(){const{target:t}=this.opts;this.setPluginState({isDraggingOver:!1}),t&&this.mount(t,this)}uninstall(){this.unmount()}},y(dt,"VERSION",d1.version),dt);const T0=pe({name:"DragDrop",props:{uppy:{type:zn,required:!0},props:{type:Object}},setup(n){const e=H(),t=H(),i=H(n.props);return Kt(()=>{const{uppy:s}=n,o={id:"DragDrop",...n.props,target:e.value};s.use(f1,o),t.value=s.getPlugin(o.id)},t,n.uppy,i),()=>ge("div",{ref:e})}}),m1="@uppy/file-input",g1="Simple UI of a file input button that works with Uppy right out of the box",y1="4.2.2",v1="MIT",b1="lib/index.js",w1="dist/style.min.css",_1="module",S1={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},F1=["file uploader","upload","uppy","uppy-plugin","file-input"],P1="https://uppy.io",k1={url:"https://github.com/transloadit/uppy/issues"},T1={type:"git",url:"git+https://github.com/transloadit/uppy.git"},C1=["src","lib","dist","CHANGELOG.md"],A1={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},E1={"@uppy/core":"^4.5.2"},x1={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},U1={name:m1,description:g1,version:y1,license:v1,main:b1,style:w1,type:_1,scripts:S1,keywords:F1,homepage:P1,bugs:k1,repository:T1,files:C1,dependencies:A1,peerDependencies:E1,devDependencies:x1},O1={strings:{chooseFiles:"Choose files"}},D1={pretty:!0,inputName:"files[]"};class su extends Me{constructor(t,i){super(t,{...D1,...i});y(this,"input",null);this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=O1,this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(t){const i=t.map(r=>({source:this.id,name:r.name,type:r.type,data:r}));try{this.uppy.addFiles(i)}catch(r){this.uppy.log(r)}}handleInputChange(t){this.uppy.log("[FileInput] Something selected through input...");const i=pt(t.currentTarget.files||[]);this.addFiles(i),t.currentTarget.value=""}handleClick(){this.input.click()}render(){var r;const t={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},{restrictions:i}=this.uppy.opts;return l("div",{className:"uppy-FileInput-container",children:[l("input",{className:"uppy-FileInput-input",style:this.opts.pretty?t:void 0,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:i.maxNumberOfFiles!==1,accept:(r=i.allowedFileTypes)==null?void 0:r.join(", "),ref:s=>{this.input=s}}),this.opts.pretty&&l("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick,children:this.i18n("chooseFiles")})]})}install(){const{target:t}=this.opts;t&&this.mount(t,this)}uninstall(){this.unmount()}}y(su,"VERSION",U1.version);const C0=pe({name:"FileInput",props:{uppy:{type:zn,required:!0},props:{type:Object}},setup(n){const e=H(),t=H(),i=H(n.props);return Kt(()=>{const{uppy:s}=n,o={id:"FileInput",...n.props,target:e.value};s.use(su,o),t.value=s.getPlugin(o.id)},t,n.uppy,i),()=>ge("div",{ref:e})}});function ou(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=ou(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function At(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=ou(n))&&(i&&(i+=" "),i+=e);return i}const Ho="uppy-dropzone-file-input";function I1(n,e={}){const t=u=>{var p,d;u.preventDefault(),u.stopPropagation();const c=Array.from(((p=u.dataTransfer)==null?void 0:p.files)??[]);c.length&&((d=e.onDrop)==null||d.call(e,c),n.uppy.addFiles(c.map(g=>({name:g.name,type:g.type,data:g}))))},i=u=>{var c;u.preventDefault(),u.stopPropagation(),(c=e.onDragOver)==null||c.call(e,u)},r=u=>{var c;u.preventDefault(),u.stopPropagation(),(c=e.onDragEnter)==null||c.call(e,u)},s=u=>{var c;u.preventDefault(),u.stopPropagation(),(c=e.onDragLeave)==null||c.call(e,u)},o=()=>{if(e.noClick)return;const u=document.getElementById(Ho);u==null||u.click()},a=u=>{var d;const c=u.target,p=Array.from(c.files??[]);p.length&&((d=e.onFileInputChange)==null||d.call(e,p),n.uppy.addFiles(p.map(g=>({source:"drag-drop",name:g.name,type:g.type,data:g}))),c.value="")};return{getRootProps:()=>({onDragEnter:r,onDragOver:i,onDragLeave:s,onDrop:t,onClick:o}),getInputProps:()=>({id:Ho,type:"file",multiple:!0,onChange:a})}}function R1(n){const{width:e,height:t,note:i,noClick:r,ctx:s}=n;if(!s.uppy)throw new Error("Dropzone must be used within a UppyContextProvider");const{getRootProps:o,getInputProps:a}=ht(()=>I1(s,{noClick:r}),[s,r]);return l("div",{className:"uppy-reset","data-uppy-element":"dropzone",role:"presentation",tabIndex:0,children:[l("input",{...a(),tabIndex:-1,name:"uppy-dropzone-file-input",className:"uppy:hidden"}),l("div",{...o(),style:{width:e||"100%",height:t||"100%"},className:At("uppy:border-2 uppy:border-dashed uppy:border-gray-300","uppy:rounded-lg uppy:p-6 uppy:bg-gray-50","uppy:transition-colors uppy:duration-200",{"uppy:cursor-pointer uppy:hover:bg-blue-50":!r}),children:[l("div",{className:"uppy:flex uppy:flex-col uppy:items-center uppy:justify-center uppy:h-full uppy:space-y-3",children:l("p",{className:"uppy:text-gray-600",children:"Drop files here or click to add them"})}),i?l("div",{className:"uppy:text-sm uppy:text-gray-500",children:i}):null]})]})}function N1(n){const[e,t]=We(()=>[]),{ctx:i,editFile:r}=n;function s(){return{1:"uppy:grid-cols-1",2:"uppy:grid-cols-2",3:"uppy:grid-cols-3",4:"uppy:grid-cols-4",5:"uppy:grid-cols-5",6:"uppy:grid-cols-6"}[n.columns||2]||"uppy:grid-cols-2"}return Ge(()=>{var a;const o=(u,c,p)=>{p!=null&&p.files&&t(Object.values(p.files))};return(a=i.uppy)==null||a.on("state-update",o),()=>{var u;(u=i.uppy)==null||u.off("state-update",o)}},[i.uppy]),l("div",{"data-uppy-element":"files-grid",className:At("uppy:reset uppy:my-4 uppy:grid uppy:gap-4",s()),children:e==null?void 0:e.map(o=>l("div",{className:"uppy:flex uppy:flex-col uppy:items-center uppy:gap-2",children:l(ne,{children:[l(rs,{images:!0,file:o}),l("div",{className:"uppy:w-full uppy-reset",children:[l("p",{className:"uppy:font-medium uppy:truncate",title:o.name,children:o.name}),l("div",{className:"uppy:flex uppy:items-center uppy:gap-2",children:[l("p",{className:" uppy:text-gray-500 uppy:tabular-nums ",children:al(o.size||0)}),r&&l("button",{type:"button",className:"uppy:flex uppy:rounded uppy:text-blue-500 uppy:hover:text-blue-700 uppy:bg-transparent uppy:transition-colors",onClick:()=>{r(o)},children:"edit"}),l("button",{type:"button",className:"uppy:flex uppy:rounded uppy:text-blue-500 uppy:hover:text-blue-700 uppy:bg-transparent uppy:transition-colors",onClick:()=>{var a;(a=i.uppy)==null||a.removeFile(o.id)},children:"remove"})]})]})]})},o.id))})}function B1(n){const[e,t]=We(()=>[]),{ctx:i,editFile:r}=n;return Ge(()=>{var o;const s=(a,u,c)=>{c!=null&&c.files&&t(Object.values(c.files))};return(o=i.uppy)==null||o.on("state-update",s),()=>{var a;(a=i.uppy)==null||a.off("state-update",s)}},[i.uppy]),l("ul",{"data-uppy-element":"files-list",className:"uppy-reset uppy:my-4",children:e==null?void 0:e.map(s=>{var o,a,u;return l("li",{children:l(ne,{children:[l("div",{className:"uppy:flex uppy:items-center uppy:gap-2",children:[l("div",{className:"uppy:w-[32px] uppy:h-[32px]",children:l(rs,{width:"32px",height:"32px",file:s})}),l("p",{className:"uppy:truncate",children:s.name}),l("p",{className:"uppy:text-gray-500 uppy:tabular-nums uppy:min-w-18 uppy:text-right uppy:ml-auto",children:al(s.size||0)}),l(ne,{children:[r&&l("button",{type:"button",className:"uppy:flex uppy:rounded uppy:text-blue-500 uppy:hover:text-blue-700 uppy:bg-transparent uppy:transition-colors",onClick:()=>{r(s)},children:"edit"}),l("button",{type:"button",className:"uppy:flex uppy:rounded uppy:text-blue-500 uppy:hover:text-blue-700 uppy:bg-transparent uppy:transition-colors",onClick:()=>{var c;(c=i.uppy)==null||c.removeFile(s.id)},children:"remove"})]})]}),l("progress",{max:"100",className:At("uppy:w-full uppy:h-[2px] uppy:appearance-none uppy:bg-gray-100 uppy:rounded-full uppy:overflow-hidden uppy:[&::-webkit-progress-bar]:bg-gray-100 uppy:block uppy:my-2",{"uppy:[&::-webkit-progress-value]:bg-green-500 uppy:[&::-moz-progress-bar]:bg-green-500":(o=s.progress)==null?void 0:o.uploadComplete,"uppy:[&::-webkit-progress-value]:bg-red-500 uppy:[&::-moz-progress-bar]:bg-red-500":s.error,"uppy:[&::-webkit-progress-value]:bg-blue-500 uppy:[&::-moz-progress-bar]:bg-blue-500":!((a=s.progress)!=null&&a.uploadComplete)&&!s.error}),value:((u=s.progress)==null?void 0:u.percentage)||0})]})},s.id)})})}function M1(n){switch(n.provider){case"device":return l("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:l("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z","fill-rule":"evenodd",fill:n.fill||"currentcolor"})});case"camera":return l("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:l("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z","fill-rule":"nonzero",fill:n.fill||"#02B383"})});case"screen-capture":return l("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:l("g",{fill:"currentcolor","fill-rule":"evenodd",children:[l("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z"}),l("circle",{cx:"16",cy:"16",r:"2"})]})});case"audio":return l("svg",{"aria-hidden":"true",width:"32px",height:"32px",viewBox:"0 0 32 32",children:l("path",{d:"M21.143 12.297c.473 0 .857.383.857.857v2.572c0 3.016-2.24 5.513-5.143 5.931v2.64h2.572a.857.857 0 110 1.714H12.57a.857.857 0 110-1.714h2.572v-2.64C12.24 21.24 10 18.742 10 15.726v-2.572a.857.857 0 111.714 0v2.572A4.29 4.29 0 0016 20.01a4.29 4.29 0 004.286-4.285v-2.572c0-.474.384-.857.857-.857zM16 6.5a3 3 0 013 3v6a3 3 0 01-6 0v-6a3 3 0 013-3z",fill:"currentcolor","fill-rule":"nonzero"})});case"dropbox":return l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:l("path",{d:"M10.5 7.5L5 10.955l5.5 3.454 5.5-3.454 5.5 3.454 5.5-3.454L21.5 7.5 16 10.955zM10.5 21.319L5 17.864l5.5-3.455 5.5 3.455zM16 17.864l5.5-3.455 5.5 3.455-5.5 3.455zM16 25.925l-5.5-3.455 5.5-3.454 5.5 3.454z",fill:n.fill||"currentcolor",fillRule:"nonzero"})});case"facebook":return l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:l("g",{fill:"none",fillRule:"evenodd",children:[l("path",{d:"M27 16c0-6.075-4.925-11-11-11S5 9.925 5 16c0 5.49 4.023 10.041 9.281 10.866V19.18h-2.793V16h2.793v-2.423c0-2.757 1.642-4.28 4.155-4.28 1.204 0 2.462.215 2.462.215v2.707h-1.387c-1.366 0-1.792.848-1.792 1.718V16h3.05l-.487 3.18h-2.563v7.686C22.977 26.041 27 21.49 27 16",fill:"#1777F2"}),l("path",{d:"M20.282 19.18L20.77 16h-3.051v-2.063c0-.87.426-1.718 1.792-1.718h1.387V9.512s-1.258-.215-2.462-.215c-2.513 0-4.155 1.523-4.155 4.28V16h-2.793v3.18h2.793v7.686a11.082 11.082 0 003.438 0V19.18h2.563",fill:"#FFFFFE"})]})});case"instagram":return l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:[l("defs",{children:l("path",{d:"M16.825 5l.483-.001.799.002c1.168.005 1.598.021 2.407.057 1.17.05 1.97.235 2.67.506.725.28 1.34.655 1.951 1.265.613.61.99 1.223 1.273 1.946.273.7.46 1.498.516 2.67l.025.552.008.205c.029.748.037 1.51.042 3.777l.001.846v.703l-.001.398a50.82 50.82 0 01-.058 2.588c-.05 1.17-.235 1.97-.506 2.67a5.394 5.394 0 01-1.265 1.951c-.61.613-1.222.99-1.946 1.273-.699.273-1.498.46-2.668.516-.243.012-.451.022-.656.03l-.204.007c-.719.026-1.512.034-3.676.038l-.847.001h-1.1a50.279 50.279 0 01-2.587-.059c-1.171-.05-1.971-.235-2.671-.506a5.394 5.394 0 01-1.951-1.265 5.385 5.385 0 01-1.272-1.946c-.274-.699-.46-1.498-.517-2.668a88.15 88.15 0 01-.03-.656l-.007-.205c-.026-.718-.034-1.512-.038-3.674v-2.129c.006-1.168.022-1.597.058-2.406.051-1.171.235-1.971.506-2.672a5.39 5.39 0 011.265-1.95 5.381 5.381 0 011.946-1.272c.699-.274 1.498-.462 2.669-.517l.656-.03.204-.007c.718-.026 1.511-.034 3.674-.038zm.678 1.981h-1.226l-.295.001c-2.307.005-3.016.013-3.777.043l-.21.009-.457.02c-1.072.052-1.654.232-2.042.383-.513.2-.879.44-1.263.825a3.413 3.413 0 00-.82 1.267c-.15.388-.33.97-.375 2.043a48.89 48.89 0 00-.056 2.482v.398 1.565c.006 2.937.018 3.285.073 4.444.05 1.073.231 1.654.382 2.043.2.512.44.878.825 1.263.386.383.753.621 1.267.82.388.15.97.328 2.043.374.207.01.388.017.563.024l.208.007a63.28 63.28 0 002.109.026h1.564c2.938-.006 3.286-.019 4.446-.073 1.071-.051 1.654-.232 2.04-.383.514-.2.88-.44 1.264-.825.384-.386.622-.753.82-1.266.15-.389.328-.971.375-2.044.039-.88.054-1.292.057-2.723v-1.15-.572c-.006-2.936-.019-3.284-.074-4.445-.05-1.071-.23-1.654-.382-2.04-.2-.515-.44-.88-.825-1.264a3.405 3.405 0 00-1.267-.82c-.388-.15-.97-.328-2.042-.375a48.987 48.987 0 00-2.535-.056zm-1.515 3.37a5.65 5.65 0 11.021 11.299 5.65 5.65 0 01-.02-11.3zm.004 1.982a3.667 3.667 0 10.015 7.334 3.667 3.667 0 00-.015-7.334zm5.865-3.536a1.32 1.32 0 11.005 2.64 1.32 1.32 0 01-.005-2.64z",id:"a"})}),l("g",{fill:"none","fill-rule":"evenodd",children:[l("mask",{id:"b",fill:"#fff",children:l("use",{xlinkHref:"#a"})}),l("image",{mask:"url(#b)",x:"4",y:"4",width:"24",height:"24",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALKADAAQAAAABAAAALAAAAAD8buejAAALZklEQVRYCVWZC2LbNhAFCRKykvP0bD1506SxRKIzbwHJoU3jv5h9WICU3P7+6zlG2zZvr8s/rW1tN7U0rMll8aDYufdzbLfc1JHmpv3jpPy8tsO+3O2s/O6YMSjTl/qdCds4mIIG60m8vdq2Z+phm2V4vAb9+o7BbZeuoM0NyYazvTvbvlN1MGjHUAesZ/IWWOsCeF0BOwAK4ITR0WYd/QKHEPv2DEymmorZtiubjOHEMYEzXmC9GMxu+95Kz+kuwxjDBKb8iUoCAdqZoAeyALreW6ZNx9Y4Jz8cLwjTZOEoR+HU05k2RzgP2iafGgfZiEdZbEr94zpX/xkPtDtGAxF+LRcgTsp9CAZg0rnEnXmPqFshY5vLnVWxLXO/bah2sZQgBZppGSe8NbjNPN5kc/WbIYEn8U+jXCOezT4zfgS1eoVEhceVeK74Fe4N6CoYEoLWykzHsd+GMAUqdTTVvvqT1uWqB3lVCLb12/ORAe8/5Zu9mp7lqoEFUCAFDIxqz7i1bq2AY1U9jqq2QK/7DYl+1AeZlAFcEc+U/jkRUqsvCHQ/nyGvjrOl6EuZWRWVGCKUMCkntQ5o+u2AZ3OxakbTcoBZnY0xhgGCUM4Kp1xtBTnBnXM5ASRms/Fs7d9OpX8bXN45pibQY/ML1MmA5G9CINBuCpdftexr6i2c5qd9J441LNJm3zk1GVusJ7v6mPJ7HPxJR0Li/vg9O1XHTEgvsQoSgExU0NnlLF0paK+6d06aOMKE2nCKV0ofNw4WsWmLsWrv6lPLnhGpr9E137QkHOMB/jh/T8MOqOadXarR44zPBW5NvDccnBxVmdK81+7RQ5p6qnQoRDZPh9+xWj0N2XpqxX1HzMty9UlFnKya/h3gulziAsyxwkSmpTIPB8vagKLyktRdDuBEHNGZMm4oCFWgjq31WPHpaC93gGNqpOpP4Ez4spa+nMNvhTWcuPKAJ79fqIxVoUvdjEG9qSy2WhpQlz61yG/gnKEA25IrIOYK6DIsQs2EE9LR/sTKq38Nd1y/X//FXG0QDHkEqSz3EYVV2dhb00rgLPSDcqmrScs55NNOD2zVqKmYnYTFnkACp520dkW5vBxK99BVzr792/iZ+VVo92UkKU2oG5WFTb6mNiA1H2C8KC0E44qaQleR3EQvQNwLrECOVAiSwM5gpF7nvDND0lZvYuQ9JbZfqdTrqCgwMcVrRS0z9QkLu9NWmkgEHb8p2zDRylj9VWA3lXD2vObEdWpT3w5MiFqQ1W/lteG4eipastxv2w+TeTBP0ypK84HiOW9fUzLcjRDwCW2b2VxmnGSKTX6uRSwMnC9YX4l05Mh2uwI+QVWdWUOSTWd5Xjjf7/tPYk2stSh053XTGN5RJMCMSajMcS8Trn3j/E1ajthlxCkmJXVi47PSUsyyq+jyexsayQNuv5GVYJaszprNsQD3RkgYiy49kFl2JlJJxlf8Uu/lpkq7+aWqzEzjr5cTVpFaJvSVr8AKRtiTlVPFk5t1nO30W+o6jrbAk76kxFa/tX+dom4C1wDPk03gqCw8HTBSxx4FHxIA+mh2pM3rKu5SNqBAuOSZnHzsB9JwW7DV/ge8dlVsOh375PvH8YO8EALU1HuecIC6qQgXifNuSx9XAoLaoGIYDjkWFrawX1U1XrknuMFw7QBSPtg79XovmBvwqnDICrhClEO6wgKFj9vPqJWlthUvdgH1DOA8+wFMexzQc5BUS1d1IsdBSjEv4Fe1LgBO1CpFPTpV1JuPSFNt4y/trzbtaUfwBWwM3/6JsrL6MSQYwLKXAm9YJBxsM8992MblZ63Gami0+rnwOMyPykVpQsyl9eYNOfVC6kRBkwaop//LgcAKWivkHF791g0JK5kMmCgKPas2QRkUFQsuTvm6R1946Wg95k764ZRLW59yO5UVGsawwELupCfAbdCuAwvcz5Xk18rIVEdgSRBRgO77R206QdXHuA2goaGiCQ0GmUfN1JlmFayjv0IcKGkfYt4HAj0yuQBRGDjzuS/rTmAf29Gov1S+FF7QBayNcpoBOEsMt3vFcIUC7VxOnE+pxmkgqEzduzwsPykrjBszCusgdarsRIAL6CM/KqsqcAf1vj8P1TXFyN6e5G8ao48fjKfDQJYizIdIfb+Xwp6Z2fE2C7mUfUEzMKqSBp4VUV1A49Sz1M2LzVzahEfyHUAcQNltR0nADYkBvHXDZQo8H9dQvHF7qhjPtSolBJ0A/vaLwdRz5YFFGoWBy8E/4aKcjqimaUBXXnjBpzOZnMlIVXsTVEBBUa+dD0BR0xVopgAD70psY0KjMHpmHB2kApea9o23NS83mpsref5OZet4U/0CMhSEDpwnxB9lVKSfk5djllXRFPizQmKcqMpnyZ3ycPntf96Ym9ChzU8vCQnhgWZ2UuySArw+cVBG4gqNCS6YoSEEziRWVStKUpe4FfCd91V0XA/qgOJuF7FpGjjyQgsFoNDtibp8cm+cyXxbB6zh4pMUO4H06yzsv4E/A6rg/uRJRnMRmrhMDIhyOjABX9CMDFhBFxx19KujjqWeim5PwVFU6IBiewfyk7IPETcg52kjXN7nsbaoEykKf/cjUgVxpTZZVtnqFMgv4FHa8oSOisawinMLHfUBzJcK1j8BeqquedKDtgcgnA4bym4P6gBWYVM3W/pn41ku5L4RElFWtlk5SXHEThhOWDiIyVROlQNM+wyHimlgATI/PPIm4BB8qfqwHnhgL89gzs+Ww1xQb4821SZ/4IwOJiRqH/X9u7Hj08JLSZfawOQcpRzwgk1oBNzzcgLn1FBNHspMENik9OG4awIDaUjw9rKNT1KXPl9neua6sSbkgqfs/CNfBdNfDDhQuL4AKXEXeOgZID91eOiRUnEFOIA5rnTkBU0/IT05gByoq5KBJF4Hym4Pxh3UcxZ7HjdhEhKWURbhavNR9rjLBwk3ryDcrGzfvk9I69b1yhMGWQ4bqMwv/RMSplQkjjVKXzZX8wESVcuB7QG0YUCMjk/aOmWgc/vC4oMCVYfghIGP6MT1zpeUhM1rQzOnGxmFKwTCir1Xaj5vN7T7nDZvnbDGHbCKnwji2zofNsOvbold3zlUtKGosBun3PbJSrrReHEaCQVCIDEMaCCBs+P+AbybkbIhmbNecGwF+E5/L2ECuPKCWsUESQkKnyyJ93TGACk7OrAY9P8XG//fGCoM7DAEUGnj5Mw7aQfelySWOm9iPuFyvrL8rKQR6mM6qdCUDQsfNPVu4yv/HaPOT1e/yDaviMKmTkg/I/F7MUG9OlrmDrBLRVd3c8KBJlPEKoVRcIJuhoQAmZDUkPC00W5OI1dOpQ1F61kFNqr9SmFcaHdBheOaDHF6QZMOP6QyiZ804oj98wLiAMIgcWw4UDYkDAWfR+4d5s0zP2GgUZX04i+NeSgYGokvbDhIZYUWHgd9K8zZzir264NxZUFbsfM1jdqpV2naA48tx6hsvBSabE4IMtlcOGgq8PqCjoly2rw2soqy4RJWQtPZl6PUCU14ZUWENuZV2Honn3f+k6R6wrkqgTStyQ0bFY+XAaafMRFgUlVeXxXFUcpLEYfZz3FrVUzZrOOJK+4B/wnIZ8TGRvb9OB8EUM0w8uNYj/oa9iK9AMoy6gA72o02srMxpAPUD+EDnVEF7P5xw896VyAbFk8MgnpVpR3gfLnt/wECq3rYFvYLcKCpqvcI+/hVl8AumXDeApklDRRKJSS+KOaq1Rgg4igOYtiQK1hJy46TBtDjznDp3iqJff5j0/LfSZbYVdauqXccJ9W+czupp0sU9gMlqkQ52lU1E6tUwoDUukAD6YRpAwqDrAErzA8QCRvXm98KEep0xIdY1CN1ye27IP0IHvvYIW18qGz8S7VWUZuMkUOb3P8DHTl67ur/i1UAAAAASUVORK5CYII="})]})]});case"onedrive":return l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:l("g",{fill:"none",fillRule:"nonzero",children:[l("path",{d:"M13.39 12.888l4.618 2.747 2.752-1.15a4.478 4.478 0 012.073-.352 6.858 6.858 0 00-5.527-5.04 6.895 6.895 0 00-6.876 2.982l.07-.002a5.5 5.5 0 012.89.815z",fill:"#0364B8"}),l("path",{d:"M13.39 12.887v.001a5.5 5.5 0 00-2.89-.815l-.07.002a5.502 5.502 0 00-4.822 2.964 5.43 5.43 0 00.38 5.62l4.073-1.702 1.81-.757 4.032-1.685 2.105-.88-4.619-2.748z",fill:"#0078D4"}),l("path",{d:"M22.833 14.133a4.479 4.479 0 00-2.073.352l-2.752 1.15.798.475 2.616 1.556 1.141.68 3.902 2.321a4.413 4.413 0 00-.022-4.25 4.471 4.471 0 00-3.61-2.284z",fill:"#1490DF"}),l("path",{d:"M22.563 18.346l-1.141-.68-2.616-1.556-.798-.475-2.105.88L11.87 18.2l-1.81.757-4.073 1.702A5.503 5.503 0 0010.5 23h12.031a4.472 4.472 0 003.934-2.333l-3.902-2.321z",fill:"#28A8EA"})]})});case"googlephotos":return l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"-7 -7 73 73",children:l("g",{fill:"none",fillRule:"evenodd",children:[l("path",{d:"M-3-3h64v64H-3z"}),l("g",{fillRule:"nonzero",children:[l("path",{fill:"#FBBC04",d:"M14.8 13.4c8.1 0 14.7 6.6 14.7 14.8v1.3H1.3c-.7 0-1.3-.6-1.3-1.3C0 20 6.6 13.4 14.8 13.4z"}),l("path",{fill:"#EA4335",d:"M45.6 14.8c0 8.1-6.6 14.7-14.8 14.7h-1.3V1.3c0-.7.6-1.3 1.3-1.3C39 0 45.6 6.6 45.6 14.8z"}),l("path",{fill:"#4285F4",d:"M44.3 45.6c-8.2 0-14.8-6.6-14.8-14.8v-1.3h28.2c.7 0 1.3.6 1.3 1.3 0 8.2-6.6 14.8-14.8 14.8z"}),l("path",{fill:"#34A853",d:"M13.4 44.3c0-8.2 6.6-14.8 14.8-14.8h1.3v28.2c0 .7-.6 1.3-1.3 1.3-8.2 0-14.8-6.6-14.8-14.8z"})]})]})});case"googledrive":return l("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:l("g",{fillRule:"nonzero",fill:"none",children:[l("path",{d:"M6.663 22.284l.97 1.62c.202.34.492.609.832.804l3.465-5.798H5c0 .378.1.755.302 1.096l1.361 2.278z",fill:"#0066DA"}),l("path",{d:"M16 12.09l-3.465-5.798c-.34.195-.63.463-.832.804l-6.4 10.718A2.15 2.15 0 005 18.91h6.93L16 12.09z",fill:"#00AC47"}),l("path",{d:"M23.535 24.708c.34-.195.63-.463.832-.804l.403-.67 1.928-3.228c.201-.34.302-.718.302-1.096h-6.93l1.474 2.802 1.991 2.996z",fill:"#EA4335"}),l("path",{d:"M16 12.09l3.465-5.798A2.274 2.274 0 0018.331 6h-4.662c-.403 0-.794.11-1.134.292L16 12.09z",fill:"#00832D"}),l("path",{d:"M20.07 18.91h-8.14l-3.465 5.798c.34.195.73.292 1.134.292h12.802c.403 0 .794-.11 1.134-.292L20.07 18.91z",fill:"#2684FC"}),l("path",{d:"M23.497 12.455l-3.2-5.359a2.252 2.252 0 00-.832-.804L16 12.09l4.07 6.82h6.917c0-.377-.1-.755-.302-1.096l-3.188-5.359z",fill:"#FFBA00"})]})});default:return null}}function rs(n){var p,d;const e=n.width||"100%",t=n.height||"100%",i=((p=n.file.type)==null?void 0:p.split("/")[0])||"",r=((d=n.file.type)==null?void 0:d.split("/")[1])||"",s=n.file.type.startsWith("image/"),o=i==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].includes(r),a=i==="application"&&r==="pdf",u=ht(()=>n.images?n.file.isRemote?n.file.preview:URL.createObjectURL(n.file.data):"",[n.file.data,n.images,n.file.isRemote,n.file.preview]),c=n.images&&s&&u;return Ge(()=>()=>{u&&URL.revokeObjectURL(u)},[u]),l("div",{"data-uppy-element":"thumbnail",className:"uppy:relative uppy:overflow-hidden uppy:bg-gray-100 uppy:rounded-lg uppy:flex uppy:items-center uppy:justify-center",style:{width:e,height:t,aspectRatio:"1"},children:[c?l("img",{className:"uppy:w-full uppy:h-full uppy:object-cover",src:u,alt:n.file.name}):null,c?null:l("div",{className:"uppy:flex uppy:flex-col uppy:items-center uppy:justify-center uppy:w-full uppy:h-full",children:l("div",{className:"uppy:flex-1 uppy:flex uppy:items-center uppy:justify-center uppy:w-full",children:[n.file.type?null:l("svg",{"aria-hidden":"true",className:"uppy:w-3/4 uppy:h-3/4",viewBox:"0 0 25 25",children:l("g",{fill:"#A7AFB7","fill-rule":"nonzero",children:[l("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),l("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})}),i==="text"?l("svg",{"aria-hidden":"true",className:"uppy:w-3/4 uppy:h-3/4",viewBox:"0 0 25 25",children:l("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69","fill-rule":"nonzero"})}):null,i==="image"&&!c?l("svg",{"aria-hidden":"true",className:"uppy:w-3/4 uppy:h-3/4",viewBox:"0 0 25 25",children:l("g",{fill:"#686DE0","fill-rule":"evenodd",children:[l("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z","fill-rule":"nonzero"}),l("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z","fill-rule":"nonzero"}),l("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})}):null,i==="audio"?l("svg",{"aria-hidden":"true",className:"uppy:w-3/4 uppy:h-3/4",viewBox:"0 0 25 25",children:l("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF","fill-rule":"nonzero"})}):null,i==="video"?l("svg",{"aria-hidden":"true",className:"uppy:w-3/4 uppy:h-3/4",viewBox:"0 0 25 25",children:l("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67","fill-rule":"nonzero"})}):null,a?l("svg",{"aria-hidden":"true",className:"uppy:w-3/4 uppy:h-3/4",viewBox:"0 0 25 25",children:l("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A","fill-rule":"nonzero"})}):null,o?l("svg",{"aria-hidden":"true",className:"uppy:w-3/4 uppy:h-3/4",viewBox:"0 0 25 25",children:l("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469","fill-rule":"nonzero"})}):null,n.file.type&&!i&&!a&&!o?l("svg",{"aria-hidden":"true",className:"uppy:w-3/4 uppy:h-3/4",viewBox:"0 0 25 25",children:l("g",{fill:"#A7AFB7","fill-rule":"nonzero",children:[l("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),l("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})}):null]})})]})}function z1(n){var t;const{ctx:e}=n;return l("div",{className:"uppy-reset uppy:space-y-2",children:[l("button",{type:"button","data-uppy-element":"upload-button","data-state":e.status,onClick:()=>{var i;e.status==="ready"&&((i=e.uppy)==null||i.upload())},className:At("uppy:relative uppy:w-full uppy:p-2 uppy:rounded-lg","uppy:text-white uppy:font-medium","uppy:transition-all uppy:overflow-hidden","uppy:bg-blue-500 uppy:hover:bg-blue-600",{"uppy:bg-red-500 uppy:hover:bg-red-600":e.status==="error","uppy:bg-green-500 uppy:hover:bg-green-600":e.status==="complete"},"uppy:disabled:hover:bg-blue-500 uppy:disabled:cursor-not-allowed"),disabled:e.status==="init"||e.status==="uploading"||e.status==="paused",children:[l("div",{className:At("uppy:absolute uppy:inset-0 uppy:origin-left uppy:transition-all",{"uppy:bg-red-700":e.status==="error","uppy:bg-green-700":e.status==="complete","uppy:bg-blue-700":e.status!=="error"&&e.status!=="complete"}),style:{transform:`scaleX(${e.progress/100})`}}),l("span",{className:"uppy:relative uppy:z-10",children:e.status==="uploading"||e.status==="paused"?`Uploaded ${Math.round(e.progress)}%`:e.status==="error"?"Retry":e.status==="complete"?"Complete":"Upload"})]}),e.status==="uploading"||e.status==="paused"?l("div",{className:"uppy:flex uppy:gap-2",children:[(t=e.uppy)!=null&&t.getState().capabilities.resumableUploads?l("button",{type:"button","data-uppy-element":"pause-button","data-state":e.status,onClick:()=>{var i,r;e.status==="paused"?(i=e.uppy)==null||i.resumeAll():(r=e.uppy)==null||r.pauseAll()},className:At("uppy:w-full uppy:p-2 uppy:rounded-lg uppy:text-amber-500 uppy:bg-gray-50 uppy:hover:bg-amber-50 uppy:font-medium uppy:transition-all",{"uppy:text-green-500 uppy:hover:bg-green-50":e.status==="paused"}),children:e.status==="paused"?"Resume":"Pause"}):null,l("button",{type:"button","data-uppy-element":"cancel-button",className:"uppy:w-full uppy:p-2 uppy:rounded-lg uppy:text-red-500 uppy:bg-gray-50 uppy:hover:bg-red-50 uppy:font-medium uppy:transition-all","data-state":e.status,onClick:()=>{var i;return(i=e.uppy)==null?void 0:i.cancelAll()},children:"Cancel"})]}):null]})}function L1({uppy:n,onStatusChange:e,onProgressChange:t}){const i=()=>{e("ready")},r=()=>{n.getFiles().length===0&&e("init")},s=()=>{e("uploading")},o=()=>{e("uploading")},a=g=>{var v,_;((v=g==null?void 0:g.failed)!=null&&v.length||(_=g==null?void 0:g.successful)!=null&&_.length)&&(e("complete"),t(0))},u=()=>{e("error"),t(0)},c=()=>{e("init"),t(0)},p=()=>{e("paused")},d=g=>{t(g)};return n.on("file-added",i),n.on("file-removed",r),n.on("progress",d),n.on("upload",s),n.on("complete",a),n.on("error",u),n.on("cancel-all",c),n.on("pause-all",p),n.on("resume-all",o),{cleanup:()=>{n.off("file-added",i),n.off("progress",d),n.off("upload",s),n.off("complete",a),n.off("error",u),n.off("cancel-all",c),n.off("pause-all",p),n.off("resume-all",o)}}}const au=Symbol("uppy"),A0=pe({name:"UppyContextProvider",props:{uppy:{type:Object,required:!0}},setup(n,{slots:e}){const t=H("init"),i=H(0),r=du({uppy:pu(n.uppy),status:"init",progress:0});hu(au,r);let s;return Xe(()=>{if(!n.uppy)throw new Error("UppyContextProvider: passing `uppy` as a prop is required");s=L1({uppy:n.uppy,onStatusChange:o=>{t.value=o,r.status=o},onProgressChange:o=>{i.value=o,r.progress=o}})}),qo(()=>{s==null||s.cleanup()}),()=>{var o;return(o=e.default)==null?void 0:o.call(e)}}});function Xt(){const n=fu(au);return n||{uppy:void 0,status:"init",progress:0}}const E0=pe({name:"Dropzone",setup(n,{attrs:e}){const t=H(null),i=Xt();function r(){t.value&&Ke(Fe(R1,{...e,ctx:i}),t.value)}return Xe(()=>{r()}),ce(i,()=>{r()}),ce(()=>n,(s,o)=>{Ye(s,o)||r()}),()=>ge("div",{ref:t})}}),x0=pe({name:"FilesGrid",setup(n,{attrs:e}){const t=H(null),i=Xt();function r(){t.value&&Ke(Fe(N1,{...e,ctx:i}),t.value)}return Xe(()=>{r()}),ce(i,()=>{r()}),ce(()=>n,(s,o)=>{Ye(s,o)||r()}),()=>ge("div",{ref:t})}}),U0=pe({name:"FilesList",setup(n,{attrs:e}){const t=H(null),i=Xt();function r(){t.value&&Ke(Fe(B1,{...e,ctx:i}),t.value)}return Xe(()=>{r()}),ce(i,()=>{r()}),ce(()=>n,(s,o)=>{Ye(s,o)||r()}),()=>ge("div",{ref:t})}}),O0=pe({name:"ProviderIcon",setup(n,{attrs:e}){const t=H(null),i=Xt();function r(){t.value&&Ke(Fe(M1,{...e,ctx:i}),t.value)}return Xe(()=>{r()}),ce(i,()=>{r()}),ce(()=>n,(s,o)=>{Ye(s,o)||r()}),()=>ge("div",{ref:t})}}),D0=pe({name:"Thumbnail",setup(n,{attrs:e}){const t=H(null),i=Xt();function r(){t.value&&Ke(Fe(rs,{...e,ctx:i}),t.value)}return Xe(()=>{r()}),ce(i,()=>{r()}),ce(()=>n,(s,o)=>{Ye(s,o)||r()}),()=>ge("div",{ref:t})}}),I0=pe({name:"UploadButton",setup(n,{attrs:e}){const t=H(null),i=Xt();function r(){t.value&&Ke(Fe(z1,{...e,ctx:i}),t.value)}return Xe(()=>{r()}),ce(i,()=>{r()}),ce(()=>n,(s,o)=>{Ye(s,o)||r()}),()=>ge("div",{ref:t})}}),$1="@uppy/progress-bar",j1="A progress bar UI for Uppy",H1="4.3.2",q1="MIT",V1="lib/index.js",W1="dist/style.min.css",G1="module",K1={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build"},X1=["file uploader","uppy","uppy-plugin","progress","progress bar","upload progress"],Y1="https://uppy.io",Q1={url:"https://github.com/transloadit/uppy/issues"},Z1={type:"git",url:"git+https://github.com/transloadit/uppy.git"},J1=["src","lib","dist","CHANGELOG.md"],e0={"@uppy/utils":"^6.2.2",preact:"^10.5.13"},t0={"@uppy/core":"^4.5.2"},n0={cssnano:"^7.0.7",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3"},i0={name:$1,description:j1,version:H1,license:q1,main:V1,style:W1,type:G1,scripts:K1,keywords:X1,homepage:Y1,bugs:Q1,repository:Z1,files:J1,dependencies:e0,peerDependencies:t0,devDependencies:n0},r0={fixed:!1,hideAfterFinish:!0};class lu extends Me{constructor(e,t){super(e,{...r0,...t}),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator",this.render=this.render.bind(this)}render(e){const{totalProgress:t}=e,i=(t===0||t===100)&&this.opts.hideAfterFinish;return l("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":i,children:[l("div",{className:"uppy-ProgressBar-inner",style:{width:`${t}%`}}),l("div",{className:"uppy-ProgressBar-percentage",children:t})]})}install(){const{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}}y(lu,"VERSION",i0.version);const R0=pe({name:"ProgressBar",props:{uppy:{type:zn,required:!0},props:{type:Object}},setup(n){const e=H(),t=H(),i=H(n.props);return Kt(()=>{const{uppy:s}=n,o={id:"ProgressBar",...n.props,target:e.value};s.use(lu,o),t.value=s.getPlugin(o.id)},t,n.uppy,i),()=>ge("div",{ref:e})}}),N0=pe({name:"StatusBar",props:{uppy:{type:zn,required:!0},props:{type:Object}},setup(n){const e=H(),t=H(),i=H(n.props);return Kt(()=>{const{uppy:s}=n,o={id:"StatusBar",...n.props,target:e.value};s.use(Dl,o),t.value=s.getPlugin(o.id)},t,n.uppy,i),()=>ge("div",{ref:e})}});export{Wo as B,P0 as D,N0 as S,Wh as T,Me as U,zc as _,u0 as a,zn as b,wt as c,Aa as d,Ea as e,xa as f,ze as g,T0 as h,Wc as i,Ti as j,va as k,ba as l,$c as m,Ua as n,cc as o,al as p,od as q,d0 as r,ed as t};
